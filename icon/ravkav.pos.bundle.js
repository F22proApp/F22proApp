!function(){var e={918:function(){!/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */function(e,t){"use strict";var n,r,a,i;function o(){return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,n,a,i,o){var s,c,l,u=n[0],d=a.ngMessage||a.when,p=a.ngMessageExp||a.whenExp,m=function(e){s=e?r(e)?e:e.split(/[\s,]+/):null,i.reRender()};p?(m(t.$eval(p)),t.$watchCollection(p,m)):m(d),i.register(u,l={test:function(e){return function(e,t){if(e)return r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}(s,e)},attach:function(){c||o(function(t,r){e.enter(t,null,n);var a=(c=t).$$attachId=i.getAttachId();c.on("$destroy",function(){c&&c.$$attachId===a&&(i.deregister(u),l.detach()),r.$destroy()})})},detach:function(){if(c){var t=c;c=null,e.leave(t)}}}),t.$on("$destroy",function(){i.deregister(u)})}}}]}t.module("ngMessages",[],function(){n=t.forEach,r=t.isArray,a=t.isString,i=t.element}).info({angularVersion:"1.6.9"}).directive("ngMessages",["$animate",function(e){var t="ng-active",r="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(a,s,c){var l,u,d=this,p=0,m=0;this.getAttachId=function(){return m++};var f=this.messages={};function h(e,t){for(var n=t,r=[];n&&n!==e;){var a=n.$$ngMessageNode;if(a&&a.length)return f[a];n.childNodes.length&&-1===r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}this.render=function(p){l=!1,u=p=p||{};for(var m=i(s,c.ngMessagesMultiple)||i(s,c.multiple),f=[],h={},v=d.head,g=!1,y=0;null!=v;){y++;var b=v.message,_=!1;g||n(p,function(e,t){!_&&o(e)&&b.test(t)&&!h[t]&&(h[t]=!0,_=!0,b.attach())}),_?g=!m:f.push(b),v=v.next}n(f,function(e){e.detach()}),f.length!==y?e.setClass(a,t,r):e.setClass(a,r,t)},s.$watchCollection(c.ngMessages||c.for,d.render),this.reRender=function(){l||(l=!0,s.$evalAsync(function(){l&&u&&d.render(u)}))},this.register=function(e,t){var n=p.toString();f[n]={message:t},function(e,t,n){var r=f[n];if(d.head){var a=h(e,t);a?(r.next=a.next,a.next=r):(r.next=d.head,d.head=r)}else d.head=r}(a[0],e,n),e.$$ngMessageNode=n,p++,d.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,function(e,t,n){var r=f[n];if(r){var a=h(e,t);a?a.next=r.next:d.head=r.next}}(a[0],e,t),delete f[t],d.reRender()}}]};function i(e,t){return a(t)&&0===t.length||o(e.$eval(t))}function o(e){return a(e)?e.length:!!e}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(t,i,o){var s=o.ngMessagesInclude||o.src;e(s).then(function(e){t.$$destroyed||(a(e)&&!e.trim()?r(i,s):n(e)(t,function(e){i.after(e),r(i,s)}))})}};function r(e,r){var a=i(n.$$createComment?n.$$createComment("ngMessagesInclude",r):t[0].createComment(" ngMessagesInclude: "+r+" "));e.after(a),e.remove()}}]).directive("ngMessage",o()).directive("ngMessageExp",o())}(window,window.angular)},590:function(e,t,n){n(918),e.exports="ngMessages"},711:function(e,t){e.exports===t&&(e.exports="ui.router"),function(e,t,n){"use strict";var r,a=t.isDefined,i=t.isFunction,o=t.isString,s=t.isObject,c=t.isArray,l=t.forEach,u=t.extend,d=t.copy,p=t.toJson;function m(e,t){return u(new(u(function(){},{prototype:e})),t)}function f(e){return l(arguments,function(t){t!==e&&l(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function h(e){if(Object.keys)return Object.keys(e);var t=[];return l(e,function(e,n){t.push(n)}),t}function v(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for((r=r<0?Math.ceil(r):Math.floor(r))<0&&(r+=n);r<n;r++)if(r in e&&e[r]===t)return r;return -1}function g(e,t,n,r){var a,i=function(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}(n,r),o={},s=[];for(var c in i)if(i[c]&&i[c].params&&(a=h(i[c].params)).length)for(var l in a)v(s,a[l])>=0||(s.push(a[l]),o[a[l]]=e[a[l]]);return u({},o,t)}function y(e,t){var n={};return l(e,function(e){n[e]=t[e]}),n}function b(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return l(n,function(n){n in e&&(t[n]=e[n])}),t}function _(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==v(n,r)&&(t[r]=e[r]);return t}function E(e,t){var n=c(e),r=n?[]:{};return l(e,function(e,a){t(e,a)&&(r[n?r.length:a]=e)}),r}function w(e,t){var n=c(e)?[]:{};return l(e,function(e,r){n[r]=t(e,r)}),n}function S(e){return e.then(n,function(){})&&e}function C(e,t){var r={},i=[],c=u(e.when(r),{$$promises:r,$$values:r});this.study=function(d){if(!s(d))throw Error("'invocables' must be an object");var p=h(d||{}),m=[],g=[],y={};function b(e){return s(e)&&e.then&&e.$$promises}return l(d,function e(n,r){if(2!==y[r]){if(g.push(r),1===y[r])throw g.splice(0,v(g,r)),Error("Cyclic dependency: "+g.join(" -> "));if(y[r]=1,o(n))m.push(r,[function(){return t.get(n)}],i);else{var a=t.annotate(n);l(a,function(t){t!==r&&d.hasOwnProperty(t)&&e(d[t],t)}),m.push(r,n,a)}g.pop(),y[r]=2}}),d=g=y=null,function(i,o,d){if(b(i)&&n===d&&(d=o,o=i,i=null),i){if(!s(i))throw Error("'locals' must be an object")}else i=r;if(o){if(!b(o))throw Error("'parent' must be a promise returned by $resolve.resolve()")}else o=c;var h=e.defer(),v=S(h.promise),g=v.$$promises={},y=u({},i),E=1+m.length/3,w=!1;function C(){--E||(w||f(y,o.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,h.resolve(y))}function k(e){v.$$failure=e,h.reject(e)}if(S(v),a(o.$$failure))return k(o.$$failure),v;o.$$inheritedValues&&f(y,_(o.$$inheritedValues,p)),u(g,o.$$promises),o.$$values?(w=f(y,_(o.$$values,p)),v.$$inheritedValues=_(o.$$values,p),C()):(o.$$inheritedValues&&(v.$$inheritedValues=_(o.$$inheritedValues,p)),o.then(C,k));for(var $=0,A=m.length;$<A;$+=3)i.hasOwnProperty(m[$])?C():function(n,r,o){var s=e.defer(),c=0;function u(e){s.reject(e),k(e)}function p(){if(!a(v.$$failure))try{s.resolve(t.invoke(r,d,y)),s.promise.then(function(e){y[n]=e,C()},u)}catch(e){u(e)}}l(o,function(e){g.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(c++,g[e].then(function(t){y[e]=t,--c||p()},u))}),c||p(),g[n]=S(s.promise)}(m[$],m[$+1],m[$+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function k(e,t,n,r){this.fromConfig=function(e,t,n){return a(e.template)?this.fromString(e.template,t):a(e.templateUrl)?this.fromUrl(e.templateUrl,t):a(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return i(e)?e(t):e},this.fromUrl=function(a,o){return(i(a)&&(a=a(o)),null==a)?null:r?e.get(a,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data}):n.get("$templateRequest")(a)},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function $(e,t,a){t=u({params:{}},s(t)?t:{});var i,o,c,l,d=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",h=0,v=this.segments=[],g=a?a.params:{},y=this.params=a?a.params.$$new():new r.ParamSet,b=[];function _(t,n,a,i){if(b.push(t),g[t])return g[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(y[t])throw Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return y[t]=new r.Param(t,n,a,i),y[t]}function E(e,t,n,r){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:a=["(",")"+(r?"?":"")];break;case!0:i=i.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+n+"|",")?"]}return i+a[0]+t+a[1]}function w(a,i){var o,s,c,l,u;return o=a[2]||a[3],u=t.params[o],c=e.substring(h,a.index),(s=i?a[4]:a[4]||("*"==a[1]?".*":null))&&(l=r.type(s)||m(r.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:o,regexp:s,segment:c,type:l,cfg:u}}for(this.source=e;(l=d.exec(e))&&!((i=w(l,!1)).segment.indexOf("?")>=0);)o=_(i.id,i.type,i.cfg,"path"),f+=E(i.segment,o.type.pattern.source,o.squash,o.isOptional),v.push(i.segment),h=d.lastIndex;var S=(c=e.substring(h)).indexOf("?");if(S>=0){var C=this.sourceSearch=c.substring(S);if(c=c.substring(0,S),this.sourcePath=e.substring(0,h+S),C.length>0)for(h=0;l=p.exec(C);)o=_((i=w(l,!0)).id,i.type,i.cfg,"search"),h=d.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=E(c)+(!1===t.strict?"/?":"")+"$",v.push(c),this.regexp=new RegExp(f,t.caseInsensitive?"i":n),this.prefix=v[0],this.$$paramNames=b}function A(e){u(this,e)}function x(){r=this;var e=!1,d=!0,p=!1;function f(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return({"~":"~~","/":"~2F"})[e]}):e}var g,y={},b=!0,_=[],S={string:{encode:f,decode:function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return({"~~":"~","~2F":"/"})[e]}):e},is:function(e){return null==e||!a(e)||"string"==typeof e},pattern:/[^/]*/},int:{encode:f,decode:function(e){return parseInt(e,10)},is:function(e){return null!=e&&this.decode(e.toString())===e},pattern:/-?\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){if(this.is(e))return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};function C(e){return i(e)||c(e)&&i(e[e.length-1])}function k(){for(;_.length;){var e=_.shift();if(e.pattern)throw Error("You cannot override a type's .pattern at runtime.");t.extend(y[e.name],g.invoke(e.def))}}function T(e){u(this,e||{})}x.$$getDefaultValue=function(e){if(!C(e.value))return e.value;if(!g)throw Error("Injectable functions cannot be called at configuration time");return g.invoke(e.value)},this.caseInsensitive=function(t){return a(t)&&(e=t),e},this.strictMode=function(e){return a(e)&&(d=e),d},this.defaultSquashPolicy=function(e){if(!a(e))return p;if(!0!==e&&!1!==e&&!o(e))throw Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return p=e,e},this.compile=function(t,n){return new $(t,u({strict:d,caseInsensitive:e},n))},this.isMatcher=function(e){if(!s(e))return!1;var t=!0;return l($.prototype,function(n,r){i(n)&&(t=t&&a(e[r])&&i(e[r]))}),t},this.type=function(e,t,n){if(!a(t))return y[e];if(y.hasOwnProperty(e))throw Error("A type named '"+e+"' has already been defined.");return y[e]=new A(u({name:e},t)),n&&(_.push({name:e,def:n}),b||k()),this},l(S,function(e,t){y[t]=new A(u({name:t},e))}),y=m(y,{}),this.$get=["$injector",function(e){return g=e,b=!1,k(),l(S,function(e,t){y[t]||(y[t]=new A(e))}),this}],this.Param=function(e,r,i,l){var d,m,f,b,_,S=this;r=function(n,r,a){if(n.type&&r)throw Error("Param '"+e+"' has two type configurations.");return r||(n.type?t.isString(n.type)?y[n.type]:n.type instanceof A?n.type:new A(n.type):"config"===a?y.any:y.string)}((-1===v(m=s(d=i)?h(d):[],"value")&&-1===v(m,"type")&&-1===v(m,"squash")&&-1===v(m,"array")&&(d={value:d}),d.$$fn=C(d.value)?d.value:function(){return d.value},i=d),r,l);var k=u({array:"search"===l&&"auto"},e.match(/\[\]$/)?{array:!0}:{},i).array;"string"!==(r=k?r.$asArray(k,"search"===l):r).name||k||"path"!==l||n!==i.value||(i.value="");var $=n!==i.value,x=function(e,t){var n=e.squash;if(!t||!1===n)return!1;if(!a(n)||null==n)return p;if(!0===n||o(n))return n;throw Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(i,$),T=(b=c((f=i).replace)?f.replace:[],o(x)&&b.push({from:x,to:n}),_=w(b,function(e){return e.from}),E([{from:"",to:$||k?n:""},{from:null,to:$||k?n:""}],function(e){return -1===v(_,e.from)}).concat(b));u(this,{id:e,type:r,location:l,array:k,squash:x,replace:T,isOptional:$,value:function(e){var t,n;return t=e,a(e=(n=w(E(S.replace,function(e){return e.from===t}),function(e){return e.to})).length?n[0]:t)?S.type.$normalize(e):function(){if(!g)throw Error("Injectable functions cannot be called at configuration time");var e=g.invoke(i.$$fn);if(null!=e&&!S.type.is(e))throw Error("Default value ("+e+") for parameter '"+S.id+"' is not an instance of Type ("+S.type.name+")");return e}()},dynamic:n,config:i,toString:function(){return"{Param:"+e+" "+r+" squash: '"+x+"' optional: "+$+"}"}})},T.prototype={$$new:function(){return m(this,u(new T,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=h(T.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),l(t,function(t){l(h(t),function(t){-1===v(e,t)&&-1===v(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return l(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return l(r.$$keys(),function(a){var i=e&&e[a],o=t&&t[a];r[a].type.equals(i,o)||(n=!1)}),n},$$validates:function(e){var n,r,a,i,o,s=this.$$keys();for(n=0;n<s.length&&(r=this[s[n]],null!=(a=e[s[n]])||!r.isOptional);n++)if(i=r.type.$normalize(a),!r.type.is(i)||(o=r.type.encode(i),t.isString(o)&&!r.type.pattern.exec(o)))return!1;return!0},$$parent:n},this.ParamSet=T}function T(e,r){var s,l=[],d=null,p=!1;function m(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!a(r)||r}function f(r,a,i,c,u){var m,f=c.baseHref(),h=r.url();function v(e){if(!e||!e.defaultPrevented){m&&r.url(),m=n;var t,a=l.length;for(t=0;t<a;t++)if(s(l[t]))return;d&&s(d)}function s(e){var t=e(i,r);return!!t&&(o(t)&&r.replace().url(t),!0)}}function g(){return s=s||a.$on("$locationChangeSuccess",v)}return p||g(),{sync:function(){v()},listen:function(){return g()},update:function(e){if(e){h=r.url();return}r.url()!==h&&(r.url(h),r.replace())},push:function(e,t,a){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),r.url(i),m=a&&a.$$avoidResync?r.url():n,a&&a.replace&&r.replace()},href:function(n,a,i){if(!n.validates(a))return null;var o,s,c,l=e.html5Mode();t.isObject(l)&&(l=l.enabled),l=l&&u.history;var d=n.format(a);if(i=i||{},l||null===d||(d="#"+e.hashPrefix()+d),null!==d&&a&&a["#"]&&(d+="#"+a["#"]),o=d,s=l,c=i.absolute,d="/"===f?o:s?f.slice(0,-1)+o:c?f.slice(1)+o:o,!i.absolute||!d)return d;var p=!l&&d?"/":"",m=r.port();return m=80===m||443===m?"":":"+m,[r.protocol(),"://",r.host(),m,p,d].join("")}}}this.rule=function(e){if(!i(e))throw Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(o(e)){var t=e;e=function(){return t}}else if(!i(e))throw Error("'rule' must be a function");return d=e,this},this.when=function(e,t){var n,a=o(t);if(o(e)&&(e=r.compile(e)),!a&&!i(t)&&!c(t))throw Error("invalid 'handler' in when()");var s={matcher:function(e,t){return a&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),u(function(n,r){return m(n,t,e.exec(r.path(),r.search()))},{prefix:o(e.prefix)?e.prefix:""})},regex:function(e,t){var r;if(e.global||e.sticky)throw Error("when() RegExp must not be global or sticky");return a&&(n=t,t=["$match",function(e){return n.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}]),u(function(n,r){return m(n,t,e.exec(r.path()))},{prefix:null!=(r=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source))?r[1].replace(/\\(.)/g,"$1"):""})}},l={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var d in l)if(l[d])return this.rule(s[d](e,t));throw Error("invalid 'what' in when()")},this.deferIntercept=function(e){n===e&&(e=!0),p=e},this.$get=f,f.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function N(e,p){var f,_,E={},C={},k="abstract",$={parent:function(e){if(a(e.parent)&&e.parent)return A(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?A(t[1]):f},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=m(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(o(t))return"^"==t.charAt(0)?p.compile(t.substring(1),n):(e.parent.navigable||f).url.concat(t,n);if(!t||p.isMatcher(t))return t;throw Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new r.ParamSet;return l(e.params||{},function(e,n){t[n]||(t[n]=new r.Param(n,null,e,"config"))}),t},params:function(e){var t=b(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?u(e.parent.params.$$new(),t):new r.ParamSet},views:function(e){var t={};return l(a(e.views)?e.views:{"":e},function(n,r){0>r.indexOf("@")&&(r+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?u({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};function A(e,t){if(e){var n,r=o(e),a=r?e:e.name;if(0===(n=a).indexOf(".")||0===n.indexOf("^")){if(!t)throw Error("No reference point given for path '"+a+"'");t=A(t);for(var i=a.split("."),s=0,c=i.length,l=t;s<c;s++){if(""===i[s]&&0===s){l=t;continue}if("^"===i[s]){if(!l.parent)throw Error("Path '"+a+"' not valid for state '"+t.name+"'");l=l.parent;continue}break}i=i.slice(s).join("."),a=l.name+(l.name&&i?".":"")+i}var u=E[a];if(u&&(r||!r&&(u===e||u.self===e)))return u}}function x(t){var n,r=(t=m(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}})).name;if(!o(r)||r.indexOf("@")>=0)throw Error("State must have a valid name");if(E.hasOwnProperty(r))throw Error("State '"+r+"' is already defined");var a=-1!==r.indexOf(".")?r.substring(0,r.lastIndexOf(".")):o(t.parent)?t.parent:s(t.parent)&&o(t.parent.name)?t.parent.name:"";if(a&&!E[a])return n=t.self,void(C[a]||(C[a]=[]),C[a].push(n));for(var c in $)i($[c])&&(t[c]=$[c](t,$.$delegates[c]));return E[r]=t,!t[k]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){(_.$current.navigable!=t||!function(e,t,n){if(!n)for(var r in n=[],e)n.push(r);for(var a=0;a<n.length;a++){var i=n[a];if(e[i]!=t[i])return!1}return!0}(e,n))&&_.transitionTo(t,e,{inherit:!0,location:!1})}]),function(e){for(var t=C[e]||[];t.length;)x(t.shift())}(r),t}function T(e,p,C,$,x,T,N,P,R){var L=Error("transition superseded"),D=S(p.reject(L)),I=S(p.reject(Error("transition prevented"))),O=S(p.reject(Error("transition aborted"))),F=S(p.reject(Error("transition failed")));return f.locals={resolve:null,globals:{$stateParams:{}}},(_={params:{},current:f.self,$current:f,transition:null}).reload=function(e){return _.transitionTo(_.current,T,{reload:e||!0,inherit:!1,notify:!0})},_.go=function(e,t,n){return _.transitionTo(e,t,u({inherit:!0,relative:_.$current},n))},_.transitionTo=function(n,h,v){h=h||{},v=u({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},v||{});var E=_.$current,w=_.params,P=E.path,R=A(n,v.relative),q=h["#"];if(!a(R)){var M={to:n,toParams:h,options:v},B=function(t,n,r,a){var i=e.$broadcast("$stateNotFound",t,n,r);if(i.defaultPrevented)return N.update(),O;if(!i.retry)return null;if(a.$retry)return N.update(),F;var o=_.transition=p.when(i.retry);return o.then(function(){return o!==_.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,r),D):(t.options.$retry=!0,_.transitionTo(t.to,t.toParams,t.options))},function(){return O}),N.update(),o}(M,E.self,w,v);if(B)return B;if(n=M.to,h=M.toParams,v=M.options,!a(R=A(n,v.relative))){if(!v.relative)throw Error("No such state '"+n+"'");throw Error("Could not resolve '"+n+"' from state '"+v.relative+"'")}}if(R[k])throw Error("Cannot transition to abstract state '"+n+"'");if(v.inherit&&(h=g(T,h||{},_.$current,R)),!R.params.$$validates(h))return F;h=R.params.$$values(h);var V=(n=R).path,U=0,j=V[0],H=f.locals,z=[];if(v.reload){if(o(v.reload)||s(v.reload)){if(s(v.reload)&&!v.reload.name)throw Error("Invalid reload state object");var K=!0===v.reload?P[0]:A(v.reload);if(v.reload&&!K)throw Error("No such reload state '"+(o(v.reload)?v.reload:v.reload.name)+"'");for(;j&&j===P[U]&&j!==K;)H=z[U]=j.locals,j=V[++U]}}else for(;j&&j===P[U]&&j.ownParams.$$equals(h,w);)H=z[U]=j.locals,j=V[++U];if(function(e,t,n,a,i,o){var s,c;if(!o.reload&&e===n&&(i===n.locals||!1===e.self.reloadOnSearch&&(s=n.params.$$keys().filter(function(e){return"search"!=n.params[e].location}),c=b.apply({},[n.params].concat(s)),new r.ParamSet(c).$$equals(a,t))))return!0}(n,h,E,w,H,v))return q&&(h["#"]=q),_.params=h,d(_.params,T),d(y(n.params.$$keys(),T),n.locals.globals.$stateParams),v.location&&n.navigable&&n.navigable.url&&(N.push(n.navigable.url,h,{$$avoidResync:!0,replace:"replace"===v.location}),N.update(!0)),_.transition=null,p.when(_.current);if(h=y(n.params.$$keys(),h||{}),q&&(h["#"]=q),v.notify&&e.$broadcast("$stateChangeStart",n.self,h,E.self,w,v).defaultPrevented)return e.$broadcast("$stateChangeCancel",n.self,h,E.self,w),null==_.transition&&N.update(),I;for(var W=p.when(H),G=U;G<V.length;j=V[++G])W=function(e,n,r,a,o,s){var u=r?n:y(e.params.$$keys(),n);o.resolve=x.resolve(e.resolve,{$stateParams:u},o.resolve,e);var d=[o.resolve.then(function(e){o.globals=e})];return a&&d.push(a),p.all(d).then(function(){var n=[];return l(e.views,function(r,a){var l=r.resolve&&r.resolve!==e.resolve?r.resolve:{};l.$template=[function(){return C.load(a,{view:r,locals:o.globals,params:u,notify:s.notify})||""}],n.push(x.resolve(l,o.globals,o.resolve,e).then(function(n){if(i(r.controllerProvider)||c(r.controllerProvider)){var s=t.extend({},l,o.globals);n.$$controller=$.invoke(r.controllerProvider,null,s)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,n.$$resolveAs=r.resolveAs,o[a]=n}))}),p.all(n).then(function(){return o.globals})}).then(function(e){return o})}(j,h,j===n,W,H=z[G]=m(H),v);var Y=_.transition=W.then(function(){var t,r,a;if(_.transition!==Y)return e.$broadcast("$stateChangeCancel",n.self,h,E.self,w),D;for(t=P.length-1;t>=U;t--)(a=P[t]).self.onExit&&$.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(t=U;t<V.length;t++)(r=V[t]).locals=z[t],r.self.onEnter&&$.invoke(r.self.onEnter,r.self,r.locals.globals);return _.transition!==Y?(e.$broadcast("$stateChangeCancel",n.self,h,E.self,w),D):(_.$current=n,_.current=n.self,_.params=h,d(_.params,T),_.transition=null,v.location&&n.navigable&&N.push(n.navigable.url,n.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===v.location}),v.notify&&e.$broadcast("$stateChangeSuccess",n.self,h,E.self,w),N.update(!0),_.current)}).then(null,function(t){return t===L?D:_.transition!==Y?(e.$broadcast("$stateChangeCancel",n.self,h,E.self,w),D):(_.transition=null,e.$broadcast("$stateChangeError",n.self,h,E.self,w,t).defaultPrevented||N.update(),p.reject(t))});return S(Y),Y},_.is=function(e,t,n){var r=A(e,(n=u({relative:_.$current},n||{})).relative);return a(r)?_.$current===r&&(!t||h(t).reduce(function(e,n){var a=r.params[n];return e&&(!a||a.type.equals(T[n],t[n]))},!0)):void 0},_.includes=function(e,t,n){if(n=u({relative:_.$current},n||{}),o(e)&&e.indexOf("*")>-1){if(!function(e){for(var t=e.split("."),n=_.$current.name.split("."),r=0,a=t.length;r<a;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(v(n,t[1]))).unshift("**"),"**"===t[t.length-1]&&(n.splice(v(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}(e))return!1;e=_.$current.name}var r=A(e,n.relative);if(a(r)){if(!a(_.$current.includes[r.name]))return!1;if(!t)return!0;for(var i=h(t),s=0;s<i.length;s++){var c=i[s],l=r.params[c];if(l&&!l.type.equals(T[c],t[c]))return!1}return h(t).reduce(function(e,n){var a=r.params[n];return e&&!a||a.type.equals(T[n],t[n])},!0)}},_.href=function(e,t,r){var i=A(e,(r=u({lossy:!0,inherit:!0,absolute:!1,relative:_.$current},r||{})).relative);if(!a(i))return null;r.inherit&&(t=g(T,t||{},_.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&n!==o.url&&null!==o.url?N.href(o.url,y(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},_.get=function(e,t){if(0==arguments.length)return w(h(E),function(e){return E[e].self});var n=A(e,t||_.$current);return n&&n.self?n.self:null},_}(f=x({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){return o(e)&&!a(t)?$[e]:(i(t)&&o(e)&&($[e]&&!$.$delegates[e]&&($.$delegates[e]=$[e]),$[e]=t),this)},this.state=function(e,t){return s(e)?t=e:t.name=e,x(t),this},this.$get=T,T.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function P(){function e(e,t){return{load:function(e,n){var r;return(n=u({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n)).view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function R(e,n,r,a,i){var o=n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}},s=o("$animator"),c=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,l){return function(n,o,u){var d,p,m,f,h=u.onload||"",v=u.autoscroll,g=function(e,n){if(c)return{enter:function(e,n,r){t.version.minor>2?c.enter(e,null,n).then(r):c.enter(e,null,n,r)},leave:function(e,n){t.version.minor>2?c.leave(e).then(n):c.leave(e,n)}};if(s){var r=s&&s(n,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}}(u,n);function y(s){var c,y=D(n,u,o,a),b=y&&e.$current&&e.$current.locals[y];(s||b!==f)&&(c=n.$new(),f=e.$current.locals[y],c.$emit("$viewContentLoading",y),p=l(c,function(e){var a=i.defer(),s=i.defer(),c={$animEnter:a.promise,$animLeave:s.promise,$$animLeave:s};e.data("$uiViewAnim",c),g.enter(e,o,function(){a.resolve(),m&&m.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&r(e)}),function(){if(d&&(d.remove(),d=null),m&&(m.$destroy(),m=null),p){var e=p.data("$uiViewAnim");g.leave(p,function(){e.$$animLeave.resolve(),d=null}),d=p,p=null}}()}),(m=c).$emit("$viewContentLoaded",y),m.$eval(h))}o.inheritedData("$uiView"),n.$on("$stateChangeSuccess",function(){y(!1)}),y(!0)}}}}function L(e,n,r,a){return{restrict:"ECA",priority:-400,compile:function(o){var s=o.html();return o.empty?o.empty():o[0].innerHTML=null,function(o,c,l){var u=r.$current,d=D(o,l,c,a),p=u&&u.locals[d];if(!p){c.html(s),e(c.contents())(o);return}c.data("$uiView",{name:d,state:p.$$state}),c.html(p.$template?p.$template:s);var m=t.extend({},p);o[p.$$resolveAs]=m;var f=e(c.contents());if(p.$$controller){p.$scope=o,p.$element=c;var h=n(p.$$controller,p);p.$$controllerAs&&(o[p.$$controllerAs]=h,o[p.$$controllerAs][p.$$resolveAs]=m),i(h.$onInit)&&h.$onInit(),c.data("$ngControllerController",h),c.children().data("$ngControllerController",h)}f(o)}}}}function D(e,t,n,r){var a=r(t.uiView||t.name||"")(e),i=n.inheritedData("$uiView");return a.indexOf("@")>=0?a:a+"@"+(i?i.state.name:"")}function I(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),!(n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function O(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function F(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function q(e,t,n,r,a){return function(i){var o=i.which||i.button,s=a();if(!(o>1||i.ctrlKey||i.metaKey||i.shiftKey||e.attr("target"))){var c=n(function(){t.go(s.state,s.params,s.options)});i.preventDefault();var l=r.isAnchor&&!s.href?1:0;i.preventDefault=function(){l--<=0&&n.cancel(c)}}}}function M(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,a,i,o){var s,c=I(i.uiSref,e.current.name),l={state:c.state,href:null,params:null},d=F(a),p=o[1]||o[0],m=null;l.options=u({relative:O(a)||e.$current,inherit:!0},i.uiSrefOpts?r.$eval(i.uiSrefOpts):{});var f=function(n){n&&(l.params=t.copy(n)),l.href=e.href(c.state,l.params,l.options),m&&m(),p&&(m=p.$$addStateInfo(c.state,l.params)),null!==l.href&&i.$set(d.attr,l.href)};c.paramExpr&&(r.$watch(c.paramExpr,function(e){e!==l.params&&f(e)},!0),l.params=t.copy(r.$eval(c.paramExpr))),f(),d.clickable&&(s=q(a,e,n,d,function(){return l}),a[a.on?"on":"bind"]("click",s),r.$on("$destroy",function(){a[a.off?"off":"unbind"]("click",s)}))}}}function B(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,a,i){var o,s=F(r),c=i[1]||i[0],l="["+[a.uiState,a.uiStateParams||null,a.uiStateOpts||null].map(function(e){return e||"null"}).join(", ")+"]",u={state:null,params:null,options:null,href:null},d=null;function p(t){u.state=t[0],u.params=t[1],u.options=t[2],u.href=e.href(u.state,u.params,u.options),d&&d(),c&&(d=c.$$addStateInfo(u.state,u.params)),u.href&&a.$set(s.attr,u.href)}n.$watch(l,p,!0),p(n.$eval(l)),s.clickable&&(o=q(r,e,t,s,function(){return u}),r[r.on?"on":"bind"]("click",o),n.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",o)}))}}}function V(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,a,i){var c,u,d=[],m={};c=n(a.uiSrefActiveEq||"",!1)(t);try{u=t.$eval(a.uiSrefActive)}catch(e){}function f(n,a,i){var c=e.get(n,O(r)),l=function(e,n){if(!o(e))throw Error("state should be a string");return s(n)||s(n=t.$eval(n))?e+p(n):e}(n,a),u={state:c||{name:n},params:a,hash:l};return d.push(u),m[l]=i,function(){var e=d.indexOf(u);-1!==e&&d.splice(e,1)}}function h(){for(var t,n,a,i,o=0;o<d.length;o++)(t=d[o].state,n=d[o].params,e.includes(t.name,n))?v(r,m[d[o].hash]):g(r,m[d[o].hash]),(a=d[o].state,i=d[o].params,e.is(a.name,i))?v(r,c):g(r,c)}function v(e,t){i(function(){e.addClass(t)})}function g(e,t){e.removeClass(t)}s(u=u||n(a.uiSrefActive||"",!1)(t))&&l(u,function(n,r){if(o(n)){var a=I(n,e.current.name);f(a.state,t.$eval(a.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!s(u)||!(d.length>0)){var n=f(e,t,u);return h(),n}},t.$on("$stateChangeSuccess",h),h()}]}}function U(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function j(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),C.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",C),t.module("ui.router.util").provider("$templateFactory",function(){var e=t.version.minor<3;this.shouldUnsafelyUseHttp=function(t){e=!!t},this.$get=["$http","$templateCache","$injector",function(t,n,r){return new k(t,n,r,e)}]}),$.prototype.concat=function(e,t){var n={caseInsensitive:r.caseInsensitive(),strict:r.strictMode(),squash:r.defaultSquashPolicy()};return new $(this.sourcePath+e+this.sourceSearch,u(n,t),this)},$.prototype.toString=function(){return this.source},$.prototype.exec=function(e,t){var n,r,i=this.regexp.exec(e);if(!i)return null;t=t||{};var o,s,c,l=this.parameters(),u=l.length,d=this.segments.length-1,p={};if(d!==i.length-1)throw Error("Unbalanced capture group in route '"+this.source+"'");for(o=0;o<d;o++){for(s=0,c=l[o],n=this.params[c],r=i[o+1];s<n.replace.length;s++)n.replace[s].from===r&&(r=n.replace[s].to);r&&!0===n.array&&(r=function(e){function t(e){return e.split("").reverse().join("")}var n=w(t(e).split(/-(?!\\)/),t);return w(n,function(e){return e.replace(/\\-/g,"-")}).reverse()}(r)),a(r)&&(r=n.type.decode(r)),p[c]=n.value(r)}for(;o<u;o++){for(s=0,p[c=l[o]]=this.params[c].value(t[c]),n=this.params[c],r=t[c];s<n.replace.length;s++)n.replace[s].from===r&&(r=n.replace[s].to);a(r)&&(r=n.type.decode(r)),p[c]=n.value(r)}return p},$.prototype.parameters=function(e){return a(e)?this.params[e]||null:this.$$paramNames},$.prototype.validates=function(e){return this.params.$$validates(e)},$.prototype.format=function(e){e=e||{};var t=this.segments,n=this.parameters(),r=this.params;if(!this.validates(e))return null;var a,i=!1,s=t.length-1,l=n.length,u=t[0];function d(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}for(a=0;a<l;a++){var p=a<s,m=n[a],f=r[m],h=f.value(e[m]),v=f.isOptional&&f.type.equals(f.value(),h),g=!!v&&f.squash,y=f.type.encode(h);if(p){var b=t[a+1],_=a+1===s;if(!1===g)null!=y&&(c(y)?u+=w(y,d).join("-"):u+=encodeURIComponent(y)),u+=b;else if(!0===g){var E=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=b.match(E)[1]}else o(g)&&(u+=g+b);_&&!0===f.squash&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==y||v&&!1!==g||(c(y)||(y=[y]),0===y.length))continue;y=w(y,encodeURIComponent).join("&"+m+"="),u+=(i?"&":"?")+m+"="+y,i=!0}}return u},A.prototype.is=function(e,t){return!0},A.prototype.encode=function(e,t){return e},A.prototype.decode=function(e,t){return e},A.prototype.equals=function(e,t){return e==t},A.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},A.prototype.pattern=/.*/,A.prototype.toString=function(){return"{Type:"+this.name+"}"},A.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},A.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw Error("'auto' array mode is for query parameters only");return new function(e,t){var n;function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return c(e)?e:a(e)?[e]:[]}function o(e){return!e}function s(e,n){return function(r){if(c(r)&&0===r.length)return r;var a=w(r=i(r),e);return!0===n?0===E(a,o).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}(a)}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=(n=r(e,"equals"),function(e,t){var r=i(e),a=i(t);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!n(r[o],a[o]))return!1;return!0}),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",x),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),T.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",T),N.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",N).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),P.$inject=[],t.module("ui.router.state").provider("$view",P),t.module("ui.router.state").provider("$uiViewScroll",function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}),R.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],L.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",R),t.module("ui.router.state").directive("uiView",L),M.$inject=["$state","$timeout"],B.$inject=["$state","$timeout"],V.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",M).directive("uiSrefActive",V).directive("uiSrefActiveEq",V).directive("uiState",B),U.$inject=["$state"],j.$inject=["$state"],t.module("ui.router.state").filter("isState",U).filter("includedByState",j)}(window,window.angular)},426:function(){!/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */function(e){"use strict";var t,n={objectMaxDepth:5};function r(e){return U(e)&&e>0}function a(e,t){return t=t||Error,function(){var r,a,i=arguments[0],o=arguments[1],s="["+(e?e+":":"")+i+"] ",c=ed(arguments,2).map(function(e){return eB(e,n.objectMaxDepth)});for(s+=o.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<c.length?c[t]:e})+"\nhttp://errors.angularjs.org/1.6.9/"+(e?e+"/":"")+i,a=0,r="?";a<c.length;a++,r="&")s+=r+"p"+a+"="+encodeURIComponent(c[a]);return new t(s)}}var i,o,s,c,l=/^\/(.+)\/([a-z]*)$/,u="validity",d=Object.prototype.hasOwnProperty,p=function(e){return V(e)?e.toLowerCase():e},m=function(e){return V(e)?e.toUpperCase():e},f=[].slice,h=[].splice,v=[].push,g=Object.prototype.toString,y=Object.getPrototypeOf,b=a("ng"),_=e.angular||(e.angular={}),E=0;function w(e){if(null==e||G(e))return!1;if(H(e)||V(e)||o&&e instanceof o)return!0;var t="length"in Object(e)&&e.length;return U(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function S(e,t,n){var r,a;if(e){if(K(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(H(e)||w(e)){var i="object"!=typeof e;for(r=0,a=e.length;r<a;r++)(i||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==S)e.forEach(t,n,e);else if(B(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)d.call(e,r)&&t.call(n,e[r],r,e)}return e}function C(e,t,n){for(var r=Object.keys(e).sort(),a=0;a<r.length;a++)t.call(n,e[r[a]],r[a]);return r}function k(e){return function(t,n){e(n,t)}}function $(){return++E}function A(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function x(e,t,n){for(var r=e.$$hashKey,a=0,i=t.length;a<i;++a){var o=t[a];if(M(o)||K(o))for(var s=Object.keys(o),c=0,l=s.length;c<l;c++){var u=s[c],d=o[u];n&&M(d)?j(d)?e[u]=new Date(d.valueOf()):W(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):et(d)?e[u]=d.clone():(M(e[u])||(e[u]=H(d)?[]:{}),x(e[u],[d],!0)):e[u]=d}}return A(e,r),e}function T(e){return x(e,f.call(arguments,1),!1)}function N(e){return parseInt(e,10)}i=e.document.documentMode;var P=Number.isNaN||function(e){return e!=e};function R(e,t){return T(Object.create(e),t)}function L(){}function D(e){return e}function I(e){return function(){return e}}function O(e){return K(e.toString)&&e.toString!==g}function F(e){return void 0===e}function q(e){return void 0!==e}function M(e){return null!==e&&"object"==typeof e}function B(e){return null!==e&&"object"==typeof e&&!y(e)}function V(e){return"string"==typeof e}function U(e){return"number"==typeof e}function j(e){return"[object Date]"===g.call(e)}L.$inject=[],D.$inject=[];var H=Array.isArray;function z(e){switch(g.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function K(e){return"function"==typeof e}function W(e){return"[object RegExp]"===g.call(e)}function G(e){return e&&e.window===e}function Y(e){return e&&e.$evalAsync&&e.$watch}function Q(e){return"boolean"==typeof e}function J(e){return e&&K(e.then)}var Z=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,X=function(e){return V(e)?e.trim():e},ee=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function et(e){return!!(e&&(e.nodeName||e.prop&&e.attr&&e.find))}function en(e){return p(e.nodeName||e[0]&&e[0].nodeName)}function er(e,t){return -1!==Array.prototype.indexOf.call(e,t)}function ea(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function ei(e,t,n){var a=[],i=[];if(n=r(n)?n:NaN,t){if(t&&U(t.length)&&Z.test(g.call(t))||"[object ArrayBuffer]"===g.call(t))throw b("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw b("cpi","Can't copy! Source and destination are identical.");return H(t)?t.length=0:S(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),i.push(t),o(e,t,n)}return s(e,n);function o(e,t,n){if(--n<0)return"...";var r,a=t.$$hashKey;if(H(e))for(var i=0,o=e.length;i<o;i++)t.push(s(e[i],n));else if(B(e))for(r in e)t[r]=s(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=s(e[r],n));else for(r in e)d.call(e,r)&&(t[r]=s(e[r],n));return A(t,a),t}function s(e,t){if(!M(e))return e;var n=a.indexOf(e);if(-1!==n)return i[n];if(G(e)||Y(e))throw b("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,c=function(e){switch(g.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(s(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(K(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===c&&(c=H(e)?[]:Object.create(y(e)),r=!0),a.push(e),i.push(c),r?o(e,c,t):c}}function eo(e,t){return e===t||e!=e&&t!=t}function es(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,a,i=typeof e;if(i===typeof t&&"object"===i){if(H(e)){if(!H(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!es(e[r],t[r]))return!1;return!0}}else{if(j(e))return!!j(t)&&eo(e.getTime(),t.getTime());if(W(e))return!!W(t)&&e.toString()===t.toString();if(Y(e)||Y(t)||G(e)||G(t)||H(t)||j(t)||W(t))return!1;for(r in a=eO(),e)if(!("$"===r.charAt(0)||K(e[r]))){if(!es(e[r],t[r]))return!1;a[r]=!0}for(r in t)if(!(r in a)&&"$"!==r.charAt(0)&&q(t[r])&&!K(t[r]))return!1;return!0}}return!1}var ec=function(){if(!q(ec.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ec.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ec.rules={noUnsafeEval:function(){try{return Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ec.rules},el=function(){if(q(el.name_))return el.name_;var t,n,r,a,i=ek.length;for(n=0;n<i;++n)if(r=ek[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){a=t.getAttribute(r+"jq");break}return el.name_=a};function eu(e,t,n){return e.concat(f.call(t,n))}function ed(e,t){return f.call(e,t||0)}function ep(e,t){var n=arguments.length>2?ed(arguments,2):[];return!K(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,eu(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function em(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:G(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":Y(n)&&(r="$SCOPE"),r}function ef(e,t){if(!F(e))return U(t)||(t=t?2:null),JSON.stringify(e,em,t)}function eh(e){return V(e)?JSON.parse(e):e}var ev=/:/g;function eg(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+(e=e.replace(ev,"")))/6e4;return P(n)?t:n}function ey(e,t,n){n=n?-1:1;var r,a,i=e.getTimezoneOffset(),o=eg(t,i);return r=e,a=n*(o-i),(r=new Date(r.getTime())).setMinutes(r.getMinutes()+a),r}function eb(e){e=o(e).clone().empty();var t=o("<div>").append(e).html();try{return e[0].nodeType===eq?p(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+p(t)})}catch(e){return p(t)}}function e_(e){try{return decodeURIComponent(e)}catch(e){}}function eE(e){var t={};return S((e||"").split("&"),function(e){var n,r,a;e&&(r=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(r=e.substring(0,n),a=e.substring(n+1)),q(r=e_(r))&&(a=!q(a)||e_(a),d.call(t,r)?H(t[r])?t[r].push(a):t[r]=[t[r],a]:t[r]=a))}),t}function ew(e){var t=[];return S(e,function(e,n){H(e)?S(e,function(e){t.push(eC(n,!0)+(!0===e?"":"="+eC(e,!0)))}):t.push(eC(n,!0)+(!0===e?"":"="+eC(e,!0)))}),t.length?t.join("&"):""}function eS(e){return eC(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function eC(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var ek=["ng-","data-ng-","ng:","x-ng-"],e$=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document);function eA(t,n,r){M(r)||(r={}),r=T({strictDi:!1},r);var a=function(){if((t=o(t)).injector())throw b("btstrpd","App already bootstrapped with this element '{0}'",(t[0]===e.document?"document":eb(t)).replace(/</,"&lt;").replace(/>/,"&gt;"));(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var a=tN(n,r.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),a},i=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&i.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(i,"")),e&&!s.test(e.name))return a();e.name=e.name.replace(s,""),_.resumeBootstrap=function(e){return S(e,function(e){n.push(e)}),a()},K(_.resumeDeferredBootstrap)&&_.resumeDeferredBootstrap()}var ex=/[A-Z]/g;function eT(e,t){return t=t||"_",e.replace(ex,function(e,n){return(n?t:"")+e.toLowerCase()})}var eN=!1;function eP(e,t,n){if(!e)throw b("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function eR(e,t,n){return n&&H(e)&&(e=e[e.length-1]),eP(K(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function eL(e,t){if("hasOwnProperty"===e)throw b("badname","hasOwnProperty is not a valid {0} name",t)}function eD(e,t,n){if(!t)return e;for(var r,a=t.split("."),i=e,o=a.length,s=0;s<o;s++)r=a[s],e&&(e=(i=e)[r]);return!n&&K(e)?ep(i,e):e}function eI(e){for(var t,n=e[0],r=e[e.length-1],a=1;n!==r&&(n=n.nextSibling);a++)(t||e[a]!==n)&&(t||(t=o(f.call(e,0,a))),t.push(n));return t||e}function eO(){return Object.create(null)}function eF(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!O(e)||H(e)||j(e)?ef(e):e.toString()}return e}var eq=3;function eM(e,t){if(H(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(M(e))for(var a in t=t||{},e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(t[a]=e[a]);return t||e}function eB(e,t){if("function"==typeof e)return e.toString().replace(/ \{[\s\S]*$/,"");if(F(e))return"undefined";if("string"!=typeof e){var n,a;return n=e,a=[],r(t)&&(n=_.copy(n,null,t)),JSON.stringify(n,function(e,t){if(M(t=em(e,t))){if(a.indexOf(t)>=0)return"...";a.push(t)}return t})}return e}e4.expando="ng339";var eV=e4.cache={},eU=1;e4._data=function(e){return this.cache[e[this.expando]]||{}};var ej=/-([a-z])/g,eH=/^-ms-/,ez={mouseleave:"mouseout",mouseenter:"mouseover"},eK=a("jqLite");function eW(e,t){return t.toUpperCase()}function eG(e){return e.replace(ej,eW)}var eY=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,eQ=/<|&#?\w+;/,eJ=/<([\w:-]+)/,eZ=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,eX={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function e0(e){return!eQ.test(e)}function e1(e){var t=e.nodeType;return 1===t||!t||9===t}function e2(e,t){var n,r,a,i=t.createDocumentFragment(),o=[];if(e0(e))o.push(t.createTextNode(e));else{for(n=i.appendChild(t.createElement("div")),r=eX[(eJ.exec(e)||["",""])[1].toLowerCase()]||eX._default,n.innerHTML=r[1]+e.replace(eZ,"<$1></$2>")+r[2],a=r[0];a--;)n=n.lastChild;o=eu(o,n.childNodes),(n=i.firstChild).textContent=""}return i.textContent="",i.innerHTML="",S(o,function(e){i.appendChild(e)}),i}eX.optgroup=eX.option,eX.tbody=eX.tfoot=eX.colgroup=eX.caption=eX.thead,eX.th=eX.td;var e3=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function e4(t){var n,r,a,i;if(t instanceof e4)return t;if(V(t)&&(t=X(t),n=!0),!(this instanceof e4)){if(n&&"<"!==t.charAt(0))throw eK("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new e4(t)}n?ta(this,(r=t,(a=a||e.document,i=eY.exec(r))?[a.createElement(i[1])]:(i=e2(r,a))?i.childNodes:[])):K(t)?tl(t):ta(this,t)}function e5(e){return e.cloneNode(!0)}function e6(e,t){!t&&e1(e)&&o.cleanData([e]),e.querySelectorAll&&o.cleanData(e.querySelectorAll("*"))}function e8(e,t,n,r){if(q(r))throw eK("offargs","jqLite#off() does not support the `selector` argument");var a=e9(e),i=a&&a.events,o=a&&a.handle;if(o){if(t){var s=function(t){var r=i[t];q(n)&&ea(r||[],n),q(n)&&r&&r.length>0||(e.removeEventListener(t,o),delete i[t])};S(t.split(" "),function(e){s(e),ez[e]&&s(ez[e])})}else for(t in i)"$destroy"!==t&&e.removeEventListener(t,o),delete i[t]}}function e7(e,t){var n=e.ng339,r=n&&eV[n];if(r){if(t){delete r.data[t];return}r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),e8(e)),delete eV[n],e.ng339=void 0}}function e9(e,t){var n=e.ng339,r=n&&eV[n];return t&&!r&&(e.ng339=n=++eU,r=eV[n]={events:{},data:{},handle:void 0}),r}function te(e,t,n){if(e1(e)){var r,a=q(n),i=!a&&t&&!M(t),o=e9(e,!i),s=o&&o.data;if(a)s[eG(t)]=n;else{if(!t)return s;if(i)return s&&s[eG(t)];for(r in t)s[eG(r)]=t[r]}}}function tt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function tn(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;S(t.split(" "),function(e){e=X(e),r=r.replace(" "+e+" "," ")}),r!==n&&e.setAttribute("class",X(r))}}function tr(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;S(t.split(" "),function(e){e=X(e),-1===r.indexOf(" "+e+" ")&&(r+=e+" ")}),r!==n&&e.setAttribute("class",X(r))}}function ta(e,t){if(t){if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}}function ti(e,t){return to(e,"$"+(t||"ngController")+"Controller")}function to(e,t,n){9===e.nodeType&&(e=e.documentElement);for(var r=H(t)?t:[t];e;){for(var a=0,i=r.length;a<i;a++)if(q(n=o.data(e,r[a])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function ts(e){for(e6(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function tc(e,t){t||e6(e);var n=e.parentNode;n&&n.removeChild(e)}function tl(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var tu=e4.prototype={ready:tl,toString:function(){var e=[];return S(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?o(this[e]):o(this[this.length+e])},length:0,push:v,sort:[].sort,splice:[].splice},td={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){td[p(e)]=e});var tp={};S("input,select,option,textarea,button,form,details".split(","),function(e){tp[e]=!0});var tm={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function tf(e,t){var n=td[t.toLowerCase()];return n&&tp[en(e)]&&n}function th(e,t,n){n.call(e,t)}function tv(e,t,n){var r=t.relatedTarget;r&&(r===e||e3.call(e,r))||n.call(e,t)}function tg(){this.$get=function(){return T(e4,{hasClass:function(e,t){return e.attr&&(e=e[0]),tt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),tr(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),tn(e,t)}})}}function ty(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return"function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||$)():r+":"+e}S({data:te,removeData:e7,hasData:function(e){for(var t in eV[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)e7(e[t])}},function(e,t){e4[t]=e}),S({data:te,inheritedData:to,scope:function(e){return o.data(e,"$scope")||to(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return o.data(e,"$isolateScope")||o.data(e,"$isolateScopeNoTemplate")},controller:ti,injector:function(e){return to(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:tt,css:function(e,t,n){if(t=eG(t.replace(eH,"ms-")),!q(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,a=e.nodeType;if(a!==eq&&2!==a&&8!==a&&e.getAttribute){var i=p(t),o=td[i];if(!q(n))return r=e.getAttribute(t),o&&null!==r&&(r=i),null===r?void 0:r;null===n||!1===n&&o?e.removeAttribute(t):e.setAttribute(t,o?i:n)}},prop:function(e,t,n){if(!q(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(F(t)){var n=e.nodeType;return 1===n||n===eq?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(F(t)){if(e.multiple&&"select"===en(e)){var n=[];return S(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(F(t))return e.innerHTML;e6(e,!0),e.innerHTML=t},empty:ts},function(e,t){e4.prototype[t]=function(t,n){var r,a,i=this.length;if(e!==ts&&F(2===e.length&&e!==tt&&e!==ti?t:n)){if(M(t)){for(r=0;r<i;r++)if(e===te)e(this[r],t);else for(a in t)e(this[r],a,t[a]);return this}for(var o=e.$dv,s=F(o)?Math.min(i,1):i,c=0;c<s;c++){var l=e(this[c],t,n);o=o?o+l:l}return o}for(r=0;r<i;r++)e(this[r],t,n);return this}}),S({removeData:e7,on:function(e,t,n,r){if(q(r))throw eK("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(e1(e)){var a,i=e9(e,!0),o=i.events,s=i.handle;s||(s=i.handle=((a=function(t,n){t.isDefaultPrevented=function(){return t.defaultPrevented};var r=o[n||t.type],a=r?r.length:0;if(a){if(F(t.immediatePropagationStopped)){var i=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),i&&i.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped};var s=r.specialHandlerWrapper||th;a>1&&(r=eM(r));for(var c=0;c<a;c++)t.isImmediatePropagationStopped()||s(e,t,r[c])}}).elem=e,a));for(var c=t.indexOf(" ")>=0?t.split(" "):[t],l=c.length,u=function(t,r,a){var i=o[t];i||((i=o[t]=[]).specialHandlerWrapper=r,"$destroy"===t||a||e.addEventListener(t,s)),i.push(n)};l--;)ez[t=c[l]]?(u(ez[t],tv),u(t,void 0,!0)):u(t)}},off:e8,one:function(e,t,n){(e=o(e)).on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;e6(e),S(new e4(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return S(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new e4(t);for(var r=0,a=t.length;r<a;r++){var i=t[r];e.appendChild(i)}}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;S(new e4(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){var n,r;n=o(t).eq(0).clone()[0],(r=e.parentNode)&&r.replaceChild(n,e),n.appendChild(e)},remove:tc,detach:function(e){tc(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new e4(t);for(var a=0,i=t.length;a<i;a++){var o=t[a];r.insertBefore(o,n.nextSibling),n=o}}},addClass:tr,removeClass:tn,toggleClass:function(e,t,n){t&&S(t.split(" "),function(t){var r=n;F(r)&&(r=!tt(e,t)),(r?tr:tn)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:e5,triggerHandler:function(e,t,n){var r,a,i,o=t.type||t,s=e9(e),c=s&&s.events,l=c&&c[o];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:L,type:o,target:e},t.type&&(r=T(r,t)),a=eM(l),i=n?[r].concat(n):[r],S(a,function(t){r.isImmediatePropagationStopped()||t.apply(e,i)}))}},function(e,t){e4.prototype[t]=function(t,n,r){for(var a,i=0,s=this.length;i<s;i++)F(a)?q(a=e(this[i],t,n,r))&&(a=o(a)):ta(a,e(this[i],t,n,r));return q(a)?a:this}}),e4.prototype.bind=e4.prototype.on,e4.prototype.unbind=e4.prototype.off;var tb=Object.create(null);function t_(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}t_.prototype={_idx:function(e){return e===this._lastKey||(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return P(e)?tb:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return -1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var tE=[function(){this.$get=[function(){return t_}]}],tw=/^([^(]+?)=>/,tS=/^[^(]*\(\s*([^)]*)\)/m,tC=/,/,tk=/^\s*(_?)(\S+?)\1\s*$/,t$=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,tA=a("$injector");function tx(e){return Function.prototype.toString.call(e)}function tT(e){var t=tx(e).replace(t$,"");return t.match(tw)||t.match(tS)}function tN(e,t){t=!0===t;var n={},r="Provider",a=[],o=new t_,s={$provide:{provider:f(h),factory:f(v),service:f(function(e,t){return v(e,["$injector",function(e){return e.instantiate(t)}])}),value:f(function(e,t){return v(e,I(t),!1)}),constant:f(function(e,t){eL(e,"constant"),s[e]=t,u[e]=t}),decorator:function(e,t){var n=l.get(e+r),a=n.$get;n.$get=function(){var e=p.invoke(a,n);return p.invoke(t,null,{$delegate:e})}}}},l=s.$injector=y(s,function(e,t){throw _.isString(t)&&a.push(t),tA("unpr","Unknown provider: {0}",a.join(" <- "))}),u={},d=y(u,function(e,t){var n=l.get(e+r,t);return p.invoke(n.$get,n,void 0,e)}),p=d;s["$injector"+r]={$get:I(d)},p.modules=l.modules=eO();var m=g(e);return(p=d.get("$injector")).strictDi=t,S(m,function(e){e&&p.invoke(e)}),p.loadNewModules=function(e){S(g(e),function(e){e&&p.invoke(e)})},p;function f(e){return function(t,n){if(!M(t))return e(t,n);S(t,k(e))}}function h(e,t){if(eL(e,"service"),(K(t)||H(t))&&(t=l.instantiate(t)),!t.$get)throw tA("pget","Provider '{0}' must define $get factory method.",e);return s[e+r]=t}function v(e,t,n){return h(e,{$get:!1!==n?function(){var n=p.invoke(t,this);if(F(n))throw tA("undef","Provider '{0}' must return a value from $get factory method.",e);return n}:t})}function g(e){eP(F(e)||H(e),"modulesToLoad","not an array");var t,n=[];return S(e,function(e){if(!o.get(e)){o.set(e,!0);try{V(e)?(t=c(e),p.modules[e]=t,n=n.concat(g(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):K(e)?n.push(l.invoke(e)):H(e)?n.push(l.invoke(e)):eR(e,"module")}catch(t){throw H(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),tA("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],a=l.get(r[0]);a[r[1]].apply(a,r[2])}}}),n}function y(e,o){function c(t,r){if(e.hasOwnProperty(t)){if(e[t]===n)throw tA("cdep","Circular dependency found: {0}",t+" <- "+a.join(" <- "));return e[t]}try{return a.unshift(t),e[t]=n,e[t]=o(t,r),e[t]}catch(r){throw e[t]===n&&delete e[t],r}finally{a.shift()}}function l(e,n,r){for(var a=[],i=tN.$$annotate(e,t,r),o=0,s=i.length;o<s;o++){var l=i[o];if("string"!=typeof l)throw tA("itkn","Incorrect injection token! Expected service name as string, got {0}",l);a.push(n&&n.hasOwnProperty(l)?n[l]:c(l,r))}return a}return{invoke:function(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=l(e,n,r);return(H(e)&&(e=e[e.length-1]),!function(e){if(i||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return Q(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(tx(e))),t}(e))?e.apply(t,a):(a.unshift(null),new(Function.prototype.bind.apply(e,a)))},instantiate:function(e,t,n){var r=H(e)?e[e.length-1]:e,a=l(e,t,n);return a.unshift(null),new(Function.prototype.bind.apply(r,a))},get:c,annotate:tN.$$annotate,has:function(t){return s.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}}function tP(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,a){var i=n.document;function s(e){if(e){e.scrollIntoView();var t=function(){var e=c.yOffset;if(K(e))e=e();else if(et(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else U(e)||(e=0);return e}();if(t){var r=e.getBoundingClientRect().top;n.scrollBy(0,r-t)}}else n.scrollTo(0,0)}function c(e){var t,n,a;(e=V(e)?e:U(e)?e.toString():r.hash())?(t=i.getElementById(e))?s(t):(n=i.getElementsByName(e),a=null,Array.prototype.some.call(n,function(e){if("a"===en(e))return a=e,!0}),t=a)?s(t):"top"===e&&s(null):s(null)}return t&&a.$watch(function(){return r.hash()},function(t,n){if(t!==n||""!==t){var r,i;r=function(){a.$evalAsync(c)},"complete"===(i=i||e).document.readyState?i.setTimeout(r):o(i).on("load",r)}}),c}]}tN.$$annotate=function(e,t,n){var r,a,i;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw V(n)&&n||(n=e.name||((i=tT(e))?"function("+(i[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),tA("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);S(tT(e)[1].split(tC),function(e){e.replace(tk,function(e,t,n){r.push(n)})})}e.$inject=r}}else H(e)?(a=e.length-1,eR(e[a],"fn"),r=e.slice(0,a)):eR(e,"fn",!0);return r};var tR=a("$animate"),tL="ng-animate";function tD(e,t){return e||t?e?t?(H(e)&&(e=e.join(" ")),H(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function tI(e){return M(e)?e:{}}var tO=function(){this.$get=L},tF=function(){var e=new t_,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:L,on:L,off:L,pin:L,push:function(o,s,c,l){l&&l(),(c=c||{}).from&&o.css(c.from),c.to&&o.css(c.to),(c.addClass||c.removeClass)&&(u=c.addClass,d=c.removeClass,m=a(p=e.get(o)||{},u,!0),f=a(p,d,!1),(m||f)&&(e.set(o,p),t.push(o),1===t.length&&r.$$postDigest(i)));var u,d,p,m,f,h=new n;return h.complete(),h}};function a(e,t,n){var r=!1;return t&&S(t=V(t)?t.split(" "):H(t)?t:[],function(t){t&&(r=!0,e[t]=n)}),r}function i(){S(t,function(t){var n=e.get(t);if(n){var r,a,i=(V(r=t.attr("class"))&&(r=r.split(" ")),a=eO(),S(r,function(e){e.length&&(a[e]=!0)}),a),o="",s="";S(n,function(e,t){!!i[t]!==e&&(e?o+=(o.length?" ":"")+t:s+=(s.length?" ":"")+t)}),S(t,function(e){o&&tr(e,o),s&&tn(e,s)}),e.delete(t)}}),t.length=0}}]},tq=["$provide",function(e){var t=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw tR("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var a=n+"-animation";t.$$registeredAnimations[n.substr(1)]=a,e.factory(a,r)},this.customFilter=function(e){return 1==arguments.length&&(r=K(e)?e:null),r},this.classNameFilter=function(e){if(1==arguments.length&&(n=e instanceof RegExp?e:null)&&RegExp("[(\\s|\\/)]"+tL+"[(\\s|\\/)]").test(n.toString()))throw n=null,tR("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',tL);return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,a,i){return r=r&&o(r),a=a&&o(a),t(n,r=r||a.parent(),a),e.push(n,"enter",tI(i))},move:function(n,r,a,i){return r=r&&o(r),a=a&&o(a),t(n,r=r||a.parent(),a),e.push(n,"move",tI(i))},leave:function(t,n){return e.push(t,"leave",tI(n),function(){t.remove()})},addClass:function(t,n,r){return(r=tI(r)).addClass=tD(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return(r=tI(r)).removeClass=tD(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,a){return(a=tI(a)).addClass=tD(a.addClass,n),a.removeClass=tD(a.removeClass,r),e.push(t,"setClass",a)},animate:function(t,n,r,a,i){return(i=tI(i)).from=i.from?T(i.from,n):n,i.to=i.to?T(i.to,r):r,a=a||"ng-inline-animate",i.tempClasses=tD(i.tempClasses,a),e.push(t,"animate",i)}}}]}],tM=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e(function(){for(var e=0;e<t.length;e++)t[e]();t=[]})}return function(){var e=!1;return n(function(){e=!0}),function(t){e?t():n(t)}}}]},tB=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,a){function i(e){this.setHost(e);var t=n(),i=function(e){a(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){r()?i(e):t(e)},this._state=0}return i.chain=function(e,t){var n=0;(function r(){if(n===e.length){t(!0);return}e[n](function(e){if(!1===e){t(!1);return}n++,r()})})()},i.all=function(e,t){var n=0,r=!0;function a(a){r=r&&a,++n===e.length&&t(r)}S(e,function(e){e.done(a)})},i.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:L,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(S(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},i}]},tV=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){var a=r||{};a.$$prepared||(a=ei(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var i,o=new n;return{start:s,end:s};function s(){return e(function(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null),i||o.complete(),i=!0}),o}}}]};function tU(e,t,n,r){var a=this,i=e.location,s=e.history,c=e.setTimeout,l=e.clearTimeout,u={};a.isMock=!1;var d=0,p=[];function m(e){try{e.apply(null,ed(arguments,1))}finally{if(0==--d)for(;p.length;)try{p.pop()()}catch(e){n.error(e)}}}a.$$completeOutstandingRequest=m,a.$$incOutstandingRequestCount=function(){d++},a.notifyWhenNoOutstandingRequests=function(e){0===d?e():p.push(e)};var f,h,v=i.href,g=t.find("base"),y=null,b=r.history?function(){try{return s.state}catch(e){}}:L;k(),a.url=function(t,n,o){if(F(o)&&(o=null),i!==e.location&&(i=e.location),s!==e.history&&(s=e.history),!t)return y||i.href.replace(/%27/g,"'");var c,l=h===o;if(v===t&&(!r.history||l))return a;var u=v&&nx(v)===nx(t);return(v=t,h=o,!r.history||u&&l)?((u||(y=t),n)?i.replace(t):u?i.hash=-1===(c=t.indexOf("#"))?"":t.substr(c):i.href=t,i.href!==t&&(y=t)):(s[n?"replaceState":"pushState"](o,"",t),k()),y&&(y=t),a},a.state=function(){return f};var _=[],E=!1;function w(){y=null,$()}var C=null;function k(){es(f=F(f=b())?null:f,C)&&(f=C),C=f,h=f}function $(){var e=h;k(),(v!==a.url()||e!==f)&&(v=a.url(),h=f,S(_,function(e){e(a.url(),f)}))}a.onUrlChange=function(t){return E||(r.history&&o(e).on("popstate",w),o(e).on("hashchange",w),E=!0),_.push(t),t},a.$$applicationDestroyed=function(){o(e).off("hashchange popstate",w)},a.$$checkUrlChange=$,a.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},a.defer=function(e,t){var n;return d++,u[n=c(function(){delete u[n],m(e)},t||0)]=!0,n},a.defer.cancel=function(e){return!!u[e]&&(delete u[e],l(e),m(L),!0)}}function tj(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new tU(e,r,t,n)}]}function tH(){this.$get=function(){var e={};function t(t,n){if(t in e)throw a("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,i=T({},n,{id:t}),o=eO(),s=n&&n.capacity||Number.MAX_VALUE,c=eO(),l=null,u=null;return e[t]={put:function(e,t){if(!F(t))return s<Number.MAX_VALUE&&d(c[e]||(c[e]={key:e})),!(e in o)&&r++,o[e]=t,r>s&&this.remove(u.key),t},get:function(e){if(s<Number.MAX_VALUE){var t=c[e];if(!t)return;d(t)}return o[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=c[e];if(!t)return;t===l&&(l=t.p),t===u&&(u=t.n),p(t.n,t.p),delete c[e]}e in o&&(delete o[e],r--)},removeAll:function(){o=eO(),r=0,c=eO(),l=u=null},destroy:function(){o=null,i=null,c=null,delete e[t]},info:function(){return T({},i,{size:r})}};function d(e){e!==l&&(u?u===e&&(u=e.n):u=e,p(e.n,e.p),p(e,l),(l=e).n=null)}function p(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return S(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function tz(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var tK=a("$compile"),tW=new function(){};function tG(t,n){var r={},a="Directive",s=/^\s*directive:\s*([\w-]+)\s+(.*)$/,c=/(([\w-]+)(?::([^;]+))?;?)/,l=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),u=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,f=eO();function h(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,a=eO();return S(e,function(e,i){if(e in f){a[i]=f[e];return}var o=e.match(r);if(!o)throw tK("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");a[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i},o[4]&&(f[e]=a[i])}),a}this.directive=function e(n,i){return eP(n,"name"),eL(n,"directive"),V(n)?(function(e){var t=e.charAt(0);if(!t||t!==p(t))throw tK("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw tK("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),eP(i,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],t.factory(n+a,["$injector","$exceptionHandler",function(e,t){var a=[];return S(r[n],function(r,i){try{var o,s,c=e.invoke(r);K(c)?c={compile:I(c)}:!c.compile&&c.link&&(c.compile=I(c.link)),c.priority=c.priority||0,c.index=i,c.name=c.name||n,c.require=(s=(o=c).require||o.controller&&o.name,!H(s)&&M(s)&&S(s,function(e,t){var n=e.match(u);e.substring(n[0].length)||(s[t]=n[0]+t)}),s),c.restrict=function(e,t){if(e&&!(V(e)&&/[EACM]/.test(e)))throw tK("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(c.restrict,n),c.$$moduleName=r.$$moduleName,a.push(c)}catch(e){t(e)}}),a}])),r[n].push(i)):S(n,k(e)),this},this.component=function e(t,n){if(!V(t))return S(t,k(ep(this,e))),this;var r=n.controller||function(){};function a(e){function t(t){return K(t)||H(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var a=n.template||n.templateUrl?n.template:"",i={controller:r,controllerAs:function(e,t){if(t&&V(t))return t;if(V(e)){var n=t2.exec(e);if(n)return n[3]}}(n.controller)||n.controllerAs||"$ctrl",template:t(a),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return S(n,function(e,t){"$"===t.charAt(0)&&(i[t]=e)}),i}return S(n,function(e,t){"$"===t.charAt(0)&&(a[t]=e,K(r)&&(r[t]=e))}),a.$inject=["$injector"],this.directive(t,a)},this.aHrefSanitizationWhitelist=function(e){return q(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return q(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var v=!0;this.debugInfoEnabled=function(e){return q(e)?(v=e,this):v};var y=!1;this.preAssignBindingsEnabled=function(e){return q(e)?(y=e,this):y};var b=!1;this.strictComponentBindingsEnabled=function(e){return q(e)?(b=e,this):b};var _=10;this.onChangesTtl=function(e){return arguments.length?(_=e,this):_};var E=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(E=e,this):E};var w=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(w=e,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,f,C,k,$,A,x,N,P){var I,O=/^\w/,B=e.document.createElement("div"),U=E,j=w,W=_;function G(){try{if(!--W)throw I=void 0,tK("infchng","{0} $onChanges() iterations reached. Aborting!\n",_);A.$apply(function(){for(var e=[],t=0,n=I.length;t<n;++t)try{I[t]()}catch(t){e.push(t)}if(I=void 0,e.length)throw e})}finally{W++}}function J(e,t){if(t){var n,r,a,i=Object.keys(t);for(n=0,r=i.length;n<r;n++)this[a=i[n]]=t[a]}else this.$attr={};this.$$element=e}function Z(e,t){try{e.addClass(t)}catch(e){}}J.prototype={$normalize:tZ,$addClass:function(e){e&&e.length>0&&N.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&N.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=tX(e,t);n&&n.length&&N.addClass(this.$$element,n);var r=tX(t,e);r&&r.length&&N.removeClass(this.$$element,r)},$set:function(e,t,n,r){var a,i,o,s,c,l,u=tf(this.$$element[0],e),d=tm[e],p=e;if(u?(this.$$element.prop(e,t),r=u):d&&(this[d]=t,p=d),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=eT(e,"-")),"a"===(l=en(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===l&&"src"===e)this[e]=t=P(t,"src"===e);else if("img"===l&&"srcset"===e&&q(t)){for(var m="",h=X(t),v=/\s/.test(h)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,g=h.split(v),y=Math.floor(g.length/2),b=0;b<y;b++){var _=2*b;m+=P(X(g[_]),!0)+" "+X(g[_+1])}var E=X(g[2*b]).split(/\s/);m+=P(X(E[0]),!0),2===E.length&&(m+=" "+X(E[1])),this[e]=t=m}!1!==n&&(null===t||F(t)?this.$$element.removeAttr(r):O.test(r)?this.$$element.attr(r,t):(a=this.$$element[0],i=r,o=t,B.innerHTML="<span "+i+">",c=(s=B.firstChild.attributes)[0],s.removeNamedItem(c.name),c.value=o,a.attributes.setNamedItem(c)));var w=this.$$observers;w&&S(w[p],function(e){try{e(t)}catch(e){f(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=eO()),a=r[e]||(r[e]=[]);return a.push(t),A.$evalAsync(function(){!a.$$inter&&n.hasOwnProperty(e)&&!F(n[e])&&t(n[e])}),function(){ea(a,t)}}};var ee=n.startSymbol(),et=n.endSymbol(),er="{{"===ee&&"}}"===et?D:function(e){return e.replace(/\{\{/g,ee).replace(/}}/g,et)},ei=/^ngAttr[A-Z]/,ec=/^(.+)Start$/;return el.$$addBindingInfo=v?function(e,t){var n=e.data("$binding")||[];H(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:L,el.$$addBindingClass=v?function(e){Z(e,"ng-binding")}:L,el.$$addScopeInfo=v?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:L,el.$$addScopeClass=v?function(e,t){Z(e,t?"ng-isolate-scope":"ng-scope")}:L,el.$$createComment=function(t,n){var r="";return v&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},el;function el(e,t,n,r,a){e instanceof o||(e=o(e));var s=function e(t,n,r,a,s,c){for(var l,u,d,p,m,h,v,g=[],b=H(t)||t instanceof o,_=0;_<t.length;_++)l=new J,11===i&&function(e,t,n){var r,a=e[t],i=a.parentNode;if(a.nodeType===eq)for(;(r=i?a.nextSibling:e[t+1])&&r.nodeType===eq;)a.nodeValue=a.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}(t,_,b),(d=(u=em(t[_],[],l,0===_?a:void 0,s)).length?function t(n,r,a,i,s,c,l,u,d){for(var p,m,h,v,g,b=-Number.MAX_VALUE,_=(d=d||{}).newScopeDirective,E=d.controllerDirectives,w=d.newIsolateScopeDirective,k=d.templateDirective,A=d.nonTlbTranscludeDirective,x=!1,N=!1,P=d.hasElementTranscludeDirective,L=a.$$element=o(r),D=c,I=i,O=!1,q=!1,B=0,V=n.length;B<V;B++){var U,j=(p=n[B]).$$start,W=p.$$end;if(j&&(L=ef(r,j,W)),h=void 0,b>p.priority)break;if((g=p.scope)&&(p.templateUrl||(M(g)?(eS("new/isolated scope",w||_,p,L),w=p):eS("new/isolated scope",w,p,L)),_=_||p),m=p.name,!O&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var G=B+1;U=n[G++];)if(U.transclude&&!U.$$tlb||U.replace&&(U.templateUrl||U.template)){q=!0;break}O=!0}if(!p.templateUrl&&p.controller&&(eS("'"+m+"' controller",(E=E||eO())[m],p,L),E[m]=p),g=p.transclude){if(x=!0,p.$$tlb||(eS("transclusion",A,p,L),A=p),"element"===g)P=!0,b=p.priority,h=L,r=(L=a.$$element=o(el.$$createComment(m,a[m])))[0],ek(s,ed(h),r),h[0].$$parentNode=h[0].parentNode,I=ev(q,h,i,b,D&&D.name,{nonTlbTranscludeDirective:A});else{var Q=eO();if(M(g)){h=[];var ee=eO(),et=eO();for(var ea in S(g,function(e,t){var n="?"===e.charAt(0);ee[e=n?e.substring(1):e]=t,Q[t]=null,et[t]=n}),S(L.contents(),function(e){var t=ee[tZ(en(e))];t?(et[t]=!0,Q[t]=Q[t]||[],Q[t].push(e)):h.push(e)}),S(et,function(e,t){if(!e)throw tK("reqslot","Required transclusion slot `{0}` was not filled.",t)}),Q)Q[ea]&&(Q[ea]=ev(q,Q[ea],i))}else h=o(e5(r)).contents();L.empty(),(I=ev(q,h,i,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope})).$$slots=Q}}if(p.template){if(N=!0,eS("template",k,p,L),k=p,g=er(g=K(p.template)?p.template(L,a):p.template),p.replace){if(D=p,r=(h=e0(g)?[]:t0(eC(p.templateNamespace,X(g))))[0],1!==h.length||1!==r.nodeType)throw tK("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");ek(s,L,r);var ei={$attr:{}},eo=em(r,[],ei),es=n.splice(B+1,n.length-(B+1));(w||_)&&ey(eo,w,_),n=n.concat(eo).concat(es),eE(a,ei),V=n.length}else L.html(g)}if(p.templateUrl)N=!0,eS("template",k,p,L),k=p,p.replace&&(D=p),ew=function(n,r,a,i,s,c,l,u){var d,p,m=[],h=r[0],v=n.shift(),g=R(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),y=K(v.templateUrl)?v.templateUrl(r,a):v.templateUrl,b=v.templateNamespace;return r.empty(),C(y).then(function(f){var _,E,w,C;if(f=er(f),v.replace){if(_=(w=e0(f)?[]:t0(eC(b,X(f))))[0],1!==w.length||1!==_.nodeType)throw tK("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,y);E={$attr:{}},ek(i,r,_);var k=em(_,[],E);M(v.scope)&&ey(k,!0),n=k.concat(n),eE(a,E)}else _=h,r.html(f);for(n.unshift(g),d=t(n,_,a,s,r,v,c,l,u),S(i,function(e,t){e===_&&(i[t]=r[0])}),p=e(r[0].childNodes,s);m.length;){var $=m.shift(),A=m.shift(),x=m.shift(),T=m.shift(),N=r[0];if(!$.$$destroyed){if(A!==h){var P=A.className;u.hasElementTranscludeDirective&&v.replace||(N=e5(_)),ek(x,o(A),N),Z(o(N),P)}C=d.transcludeOnThisElement?eu($,d.transclude,T):T,d(p,$,N,i,C)}}m=null}).catch(function(e){z(e)&&f(e)}),function(e,t,n,r,a){var i=a;t.$$destroyed||(m?m.push(t,n,r,i):(d.transcludeOnThisElement&&(i=eu(t,d.transclude,a)),d(p,t,n,r,i)))}}(n.splice(B,n.length-B),L,a,s,x&&I,l,u,{controllerDirectives:E,newScopeDirective:_!==p&&_,newIsolateScopeDirective:w,templateDirective:k,nonTlbTranscludeDirective:A}),V=n.length;else if(p.compile)try{v=p.compile(L,a,I);var ec=p.$$originalDirective||p;K(v)?e_(null,ep(ec,v),j,W):v&&e_(ep(ec,v.pre),ep(ec,v.post),j,W)}catch(e){f(e,eb(L))}p.terminal&&(ew.terminal=!0,b=Math.max(b,p.priority))}return ew.scope=_&&!0===_.scope,ew.transcludeOnThisElement=x,ew.templateOnThisElement=N,ew.transclude=I,d.hasElementTranscludeDirective=P,ew;function e_(e,t,n,r){e&&(n&&(e=eh(e,n,r)),e.require=p.require,e.directiveName=m,(w===p||p.$$isolateScope)&&(e=e$(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=eh(t,n,r)),t.require=p.require,t.directiveName=m,(w===p||p.$$isolateScope)&&(t=e$(t,{isolateScope:!0})),u.push(t))}function ew(e,t,n,i,s){for(var c in r===n?(A=a,C=a.$$element):(C=o(n),A=new J(C,a)),v=t,w?h=t.$new(!0):_&&(v=t.$parent),s&&((b=function(e,t,n,r){if(Y(e)||(r=n,n=t,t=e,e=void 0),P&&(a=g),n||(n=P?C.parent():C),!r)return s(e,t,a,n,I);var a,i=s.$$slots[r];if(i)return i(e,t,a,n,I);if(F(i))throw tK("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,eb(C))}).$$boundTransclude=s,b.isSlotFilled=function(e){return!!s.$$slots[e]}),E&&(g=function(e,t,n,r,a,i,o){var s=eO();for(var c in r){var l=r[c],u={$scope:l===o||l.$$isolateScope?a:i,$element:e,$attrs:t,$transclude:n},d=l.controller;"@"===d&&(d=t[l.name]);var p=$(d,u,!0,l.controllerAs);s[l.name]=p,e.data("$"+l.name+"Controller",p.instance)}return s}(C,A,b,E,h,t,w)),w&&(el.$$addScopeInfo(C,h,!0,!(k&&(k===w||k===w.$$originalDirective))),el.$$addScopeClass(C,!0),h.$$isolateBindings=w.$$isolateBindings,(x=eN(t,A,h,h.$$isolateBindings,w)).removeWatches&&h.$on("$destroy",x.removeWatches)),g){var d,p,m,h,v,g,b,C,A,x,N=E[c],R=g[c],L=N.$$bindings.bindToController;if(y){L?R.bindingInfo=eN(v,A,R.instance,L,N):R.bindingInfo={};var D=R();D!==R.instance&&(R.instance=D,C.data("$"+N.name+"Controller",D),R.bindingInfo.removeWatches&&R.bindingInfo.removeWatches(),R.bindingInfo=eN(v,A,R.instance,L,N))}else R.instance=R(),C.data("$"+N.name+"Controller",R.instance),R.bindingInfo=eN(v,A,R.instance,L,N)}for(S(E,function(e,t){var n=e.require;e.bindToController&&!H(n)&&M(n)&&T(g[t].instance,eg(t,n,C,g))}),S(g,function(e){var t=e.instance;if(K(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){f(e)}if(K(t.$onInit))try{t.$onInit()}catch(e){f(e)}K(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),K(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),d=0,p=l.length;d<p;d++)eA(m=l[d],m.isolateScope?h:t,C,A,m.require&&eg(m.directiveName,m.require,C,g),b);var I=t;for(w&&(w.template||null===w.templateUrl)&&(I=h),e&&e(I,n.childNodes,void 0,s),d=u.length-1;d>=0;d--)eA(m=u[d],m.isolateScope?h:t,C,A,m.require&&eg(m.directiveName,m.require,C,g),b);S(g,function(e){var t=e.instance;K(t.$postLink)&&t.$postLink()})}}(u,t[_],l,n,r,null,[],[],c):null)&&d.scope&&el.$$addScopeClass(l.$$element),m=(!d||!d.terminal)&&(p=t[_].childNodes)&&p.length?e(p,d?(d.transcludeOnThisElement||!d.templateOnThisElement)&&d.transclude:n):null,(d||m)&&(g.push(_,d,m),h=!0,v=v||d),c=null;return h?function(e,t,r,a){if(v){var i,s,c,l,u,d,p,m,f;for(u=0,f=Array(t.length);u<g.length;u+=3)f[p=g[u]]=t[p]}else f=t;for(u=0,d=g.length;u<d;)c=f[g[u++]],i=g[u++],s=g[u++],i?(i.scope?(l=e.$new(),el.$$addScopeInfo(o(c),l)):l=e,m=i.transcludeOnThisElement?eu(e,i.transclude,a):!i.templateOnThisElement&&a?a:!a&&n?eu(e,n):null,i(s,l,c,r,m)):s&&s(e,c.childNodes,void 0,a)}:null}(e,t,e,n,r,a);el.$$addScopeClass(e);var c=null;return function(t,n,r){if(!e)throw tK("multilink","This element has already been linked.");eP(t,"scope"),a&&a.needsNewScope&&(t=t.$parent.$new());var i,l,u=(r=r||{}).parentBoundTranscludeFn,d=r.transcludeControllers,p=r.futureParentElement;if(u&&u.$$boundTransclude&&(u=u.$$boundTransclude),c||(c=(i=p&&p[0])&&"foreignobject"!==en(i)&&g.call(i).match(/SVG/)?"svg":"html"),l="html"!==c?o(eC(c,o("<div>").append(e).html())):n?tu.clone.call(e):e,d)for(var m in d)l.data("$"+m+"Controller",d[m].instance);return el.$$addScopeInfo(l,t),n&&n(l,t),s&&s(t,l,l,u),n||(e=s=null),l}}function eu(e,t,n){function r(r,a,i,o,s){return r||((r=e.$new(!1,s)).$$transcluded=!0),t(r,a,{parentBoundTranscludeFn:n,transcludeControllers:i,futureParentElement:o})}var a=r.$$slots=eO();for(var i in t.$$slots)t.$$slots[i]?a[i]=eu(e,t.$$slots[i],n):a[i]=null;return r}function em(e,i,o,u,d){var p,f,h,v,g=e.nodeType,y=o.$attr;switch(g){case 1:e_(i,tZ(h=en(e)),"E",u,d);for(var b,_,E,w,S,C,k=e.attributes,$=0,A=k&&k.length;$<A;$++){var T=!1,N=!1;_=(b=k[$]).name,S=b.value,w=tZ(_),(C=ei.test(w))&&(_=_.replace(tQ,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var P=w.match(ec);P&&function(e){if(r.hasOwnProperty(e)){for(var n=t.get(e+a),i=0,o=n.length;i<o;i++)if(n[i].multiElement)return!0}return!1}(P[1])&&(T=_,N=_.substr(0,_.length-5)+"end",_=_.substr(0,_.length-6)),y[E=tZ(_.toLowerCase())]=_,(C||!o.hasOwnProperty(E))&&(o[E]=S,tf(e,E)&&(o[E]=!0)),function(e,t,r,a,i){var o=function(e,t){if("srcdoc"===t)return x.HTML;var n=en(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return x.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return x.RESOURCE_URL}(e,a),s=l[a]||i,c=n(r,!i,o,s);if(c){if("multiple"===a&&"select"===en(e))throw tK("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",eb(e));if(m.test(a))throw tK("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,i){var l=i.$$observers||(i.$$observers=eO()),u=i[a];u!==r&&(c=u&&n(u,!0,o,s),r=u),c&&(i[a]=c(e),(l[a]||(l[a]=[])).$$inter=!0,(i.$$observers&&i.$$observers[a].$$scope||e).$watch(c,function(e,t){"class"===a&&e!==t?i.$updateClass(e,t):i.$set(a,e)}))}}}})}}(e,i,S,E,C),e_(i,E,"A",u,d,T,N)}if("input"===h&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!j)break;if(M(v=e.className)&&(v=v.animVal),V(v)&&""!==v)for(;f=c.exec(v);)e_(i,E=tZ(f[2]),"C",u,d)&&(o[E]=X(f[3])),v=v.substr(f.index+f[0].length);break;case eq:(p=n(e.nodeValue,!0))&&i.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&el.$$addBindingClass(t),function(e,t){var r=t.parent();n||el.$$addBindingClass(r),el.$$addBindingInfo(r,p.expressions),e.$watch(p,function(e){t[0].nodeValue=e})}}});break;case 8:if(!U)break;(function(e,t,n,r,a){try{var i=s.exec(e.nodeValue);if(i){var o=tZ(i[1]);e_(t,o,"M",r,a)&&(n[o]=X(i[2]))}}catch(e){}})(e,i,o,u,d)}return i.sort(ew),i}function ef(e,t,n){var r=[],a=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw tK("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1===e.nodeType&&(e.hasAttribute(t)&&a++,e.hasAttribute(n)&&a--),r.push(e),e=e.nextSibling}while(a>0);else r.push(e);return o(r)}function eh(e,t,n){return function(r,a,i,o,s){return e(r,a=ef(a[0],t,n),i,o,s)}}function ev(e,t,n,r,a,i){var o;return e?el(t,n,r,a,i):function(){return o||(o=el(t,n,r,a,i),t=n=i=null),o.apply(this,arguments)}}function eg(e,t,n,r){var a;if(V(t)){var i=t.match(u),o=t.substring(i[0].length),s=i[1]||i[3],c="?"===i[2];if("^^"===s?n=n.parent():a=(a=r&&r[o])&&a.instance,!a){var l="$"+o+"Controller";a=s?n.inheritedData(l):n.data(l)}if(!a&&!c)throw tK("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,e)}else if(H(t)){a=[];for(var d=0,p=t.length;d<p;d++)a[d]=eg(e,t[d],n,r)}else M(t)&&(a={},S(t,function(t,i){a[i]=eg(e,t,n,r)}));return a||null}function ey(e,t,n){for(var r=0,a=e.length;r<a;r++)e[r]=R(e[r],{$$isolateScope:t,$$newScope:n})}function e_(e,n,i,o,s,c,l){if(n===s)return null;var u=null;if(r.hasOwnProperty(n)){for(var d,p=t.get(n+a),m=0,f=p.length;m<f;m++)if(d=p[m],(F(o)||o>d.priority)&&-1!==d.restrict.indexOf(i)){if(c&&(d=R(d,{$$start:c,$$end:l})),!d.$$bindings){var v=d.$$bindings=function(e,t){var n={isolateScope:null,bindToController:null};if(M(e.scope)&&(!0===e.bindToController?(n.bindToController=h(e.scope,t,!0),n.isolateScope={}):n.isolateScope=h(e.scope,t,!1)),M(e.bindToController)&&(n.bindToController=h(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw tK("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}(d,d.name);M(v.isolateScope)&&(d.$$isolateBindings=v.isolateScope)}e.push(d),u=d}}return u}function eE(e,t){var n=t.$attr,r=e.$attr;S(e,function(r,a){"$"!==a.charAt(0)&&(t[a]&&t[a]!==r&&(r.length?r+=("style"===a?";":" ")+t[a]:r=t[a]),e.$set(a,r,!0,n[a]))}),S(t,function(t,a){e.hasOwnProperty(a)||"$"===a.charAt(0)||(e[a]=t,"class"===a||"style"===a||(r[a]=n[a]))})}function ew(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function eS(e,t,n,r){function a(e){return e?" (module: "+e+")":""}if(t)throw tK("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,a(t.$$moduleName),n.name,a(n.$$moduleName),e,eb(r))}function eC(t,n){switch(t=p(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function ek(t,n,r){var a,i,s=n[0],c=n.length,l=s.parentNode;if(t){for(a=0,i=t.length;a<i;a++)if(t[a]===s){t[a++]=r;for(var u=a,d=u+c-1,p=t.length;u<p;u++,d++)d<p?t[u]=t[d]:delete t[u];t.length-=c-1,t.context===s&&(t.context=r);break}}l&&l.replaceChild(r,s);var m=e.document.createDocumentFragment();for(a=0;a<c;a++)m.appendChild(n[a]);for(o.hasData(s)&&(o.data(r,o.data(s)),o(s).off("$destroy")),o.cleanData(m.querySelectorAll("*")),a=1;a<c;a++)delete n[a];n[0]=r,n.length=1}function e$(e,t){return T(function(){return e.apply(null,arguments)},e,t)}function eA(e,t,n,r,a,i){try{e(t,n,r,a,i)}catch(e){f(e,eb(n))}}function ex(e,t){if(b)throw tK("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function eN(e,t,r,a,i){var o,s=[],c={};function l(t,n,a){K(r.$onChanges)&&!eo(n,a)&&(I||(e.$$postDigest(G),I=[]),o||(o={},I.push(u)),o[t]&&(a=o[t].previousValue),o[t]=new tY(a,n))}function u(){r.$onChanges(o),o=void 0}return S(a,function(a,o){var u,p,m,f,h,v=a.attrName,g=a.optional;switch(a.mode){case"@":g||d.call(t,v)||(ex(v,i.name),r[o]=t[v]=void 0),h=t.$observe(v,function(e){if(V(e)||Q(e)){var t=r[o];l(o,e,t),r[o]=e}}),t.$$observers[v].$$scope=e,V(u=t[v])?r[o]=n(u)(e):Q(u)&&(r[o]=u),c[o]=new tY(tW,r[o]),s.push(h);break;case"=":if(!d.call(t,v)){if(g)break;ex(v,i.name),t[v]=void 0}if(g&&!t[v])break;f=(p=k(t[v])).literal?es:eo,m=p.assign||function(){throw u=r[o]=p(e),tK("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,i.name)},u=r[o]=p(e);var y=function(t){return f(t,r[o])||(f(t,u)?m(e,t=r[o]):r[o]=t),u=t};y.$stateful=!0,h=a.collection?e.$watchCollection(t[v],y):e.$watch(k(t[v],y),null,p.literal),s.push(h);break;case"<":if(!d.call(t,v)){if(g)break;ex(v,i.name),t[v]=void 0}if(g&&!t[v])break;var b=(p=k(t[v])).literal,_=r[o]=p(e);c[o]=new tY(tW,r[o]),h=e.$watch(p,function(e,t){if(t===e){if(t===_||b&&es(t,_))return;t=_}l(o,e,t),r[o]=e},b),s.push(h);break;case"&":if(g||d.call(t,v)||ex(v,i.name),(p=t.hasOwnProperty(v)?k(t[v]):L)===L&&g)break;r[o]=function(t){return p(e,t)}}}),{initialChanges:c,removeWatches:s.length&&function(){for(var e=0,t=s.length;e<t;++e)s[e]()}}}}]}function tY(e,t){this.previousValue=e,this.currentValue=t}tG.$inject=["$provide","$$sanitizeUriProvider"],tY.prototype.isFirstChange=function(){return this.previousValue===tW};var tQ=/^((?:x|data)[:\-_])/i,tJ=/[:\-_]+(.)/g;function tZ(e){return e.replace(tQ,"").replace(tJ,function(e,t,n){return n?t.toUpperCase():t})}function tX(e,t){var n="",r=e.split(/\s+/),a=t.split(/\s+/);e:for(var i=0;i<r.length;i++){for(var o=r[i],s=0;s<a.length;s++)if(o===a[s])continue e;n+=(n.length>0?" ":"")+o}return n}function t0(e){var t=(e=o(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===eq&&""===n.nodeValue.trim())&&h.call(e,t,1)}return e}var t1=a("$controller"),t2=/^(\S+)(\s+as\s+([\w$]+))?$/;function t3(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){eL(t,"controller"),M(t)?T(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,r){return function(a,o,s,c){var l,u,d,p;if(s=!0===s,c&&V(c)&&(p=c),V(a)){if(!(u=a.match(t2)))throw t1("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",a);if(d=u[1],p=p||u[3],!(a=e.hasOwnProperty(d)?e[d]:eD(o.$scope,d,!0)||(t?eD(r,d,!0):void 0)))throw t1("ctrlreg","The controller with the name '{0}' is not registered.",d);eR(a,d,!0)}return s?(l=Object.create((H(a)?a[a.length-1]:a).prototype||null),p&&i(o,p,l,d||a.name),T(function(){var e=n.invoke(a,l,o,d);return e!==l&&(M(e)||K(e))&&(l=e,p&&i(o,p,l,d||a.name)),l},{instance:l,identifier:p})):(l=n.instantiate(a,o,d),p&&i(o,p,l,d||a.name),l)};function i(e,t,n,r){if(!(e&&M(e.$scope)))throw a("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function t4(){this.$get=["$window",function(e){return o(e.document)}]}function t5(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function a(){r=n.hidden}return e.on("visibilitychange",a),t.$on("$destroy",function(){e.off("visibilitychange",a)}),function(){return r}}]}function t6(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var t8=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof o&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},t7="application/json",t9={"Content-Type":t7+";charset=utf-8"},ne=/^\[|^\{(?!\{)/,nt={"[":/]$/,"{":/}$/},nn=/^\)]\}',?\n/,nr=a("$http");function na(e){return M(e)?j(e)?e.toISOString():ef(e):e}function ni(){this.$get=function(){return function(e){if(!e)return"";var t=[];return C(e,function(e,n){null===e||F(e)||K(e)||(H(e)?S(e,function(e){t.push(eC(n)+"="+eC(na(e)))}):t.push(eC(n)+"="+eC(na(e))))}),t.join("&")}}}function no(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,r,a){null===n||F(n)||(H(n)?S(n,function(t,n){e(t,r+"["+(M(t)?n:"")+"]")}):M(n)&&!j(n)?C(n,function(t,n){e(t,r+(a?"":"[")+n+(a?"":"]"))}):t.push(eC(r)+"="+eC(na(n))))}(e,"",!0),t.join("&")}}}function ns(e,t){if(V(e)){var n=e.replace(nn,"").trim();if(n){var r,a=t("Content-Type"),i=a&&0===a.indexOf(t7);if(i||(r=n.match(ne))&&nt[r[0]].test(n))try{e=eh(n)}catch(t){if(!i)return e;throw nr("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}return e}function nc(e){var t,n=eO();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return V(e)?S(e.split("\n"),function(e){t=e.indexOf(":"),r(p(X(e.substr(0,t))),X(e.substr(t+1)))}):M(e)&&S(e,function(e,t){r(p(t),X(e))}),n}function nl(e){var t;return function(n){if(t||(t=nc(e)),n){var r=t[p(n)];return void 0===r&&(r=null),r}return t}}function nu(e,t,n,r){return K(r)?r(e,t,n):(S(r,function(r){e=r(e,t,n)}),e)}function nd(e){return 200<=e&&e<300}function np(){var e=this.defaults={transformResponse:[ns],transformRequest:[function(e){return M(e)&&"[object File]"!==g.call(e)&&"[object Blob]"!==g.call(e)&&"[object FormData]"!==g.call(e)?ef(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:eM(t9),put:eM(t9),patch:eM(t9)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return q(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,i,o,s,c,l,u,d){var f=s("$http");e.paramSerializer=V(e.paramSerializer)?u.get(e.paramSerializer):e.paramSerializer;var h=[];function v(n){if(!M(n))throw a("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!V(d.valueOf(n.url)))throw a("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var s=T({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);s.headers=function(t){var n,r,a,i,o,s,c=e.headers,l=T({},t.headers);c=T({},c.common,c[p(t.method)]);t:for(i in c){for(s in o=p(i),l)if(p(s)===o)continue t;l[i]=c[i]}return n=eM(t),a={},S(l,function(e,t){K(e)?null!=(r=e(n))&&(a[t]=r):a[t]=e}),a}(n),s.method=m(s.method),s.paramSerializer=V(s.paramSerializer)?u.get(s.paramSerializer):s.paramSerializer,r.$$incOutstandingRequestCount();var g=[],y=[],b=l.resolve(s);return S(h,function(e){(e.request||e.requestError)&&g.unshift(e.request,e.requestError),(e.response||e.responseError)&&y.push(e.response,e.responseError)}),b=(b=_(b,g)).then(function(n){var r=n.headers,a=nu(n.data,nl(r),void 0,n.transformRequest);return F(a)&&S(r,function(e,t){"content-type"===p(t)&&delete r[t]}),F(n.withCredentials)&&!F(e.withCredentials)&&(n.withCredentials=e.withCredentials),(function(n,r){var a,s,u,m,h=l.defer(),g=h.promise,y=n.headers,b="jsonp"===p(n.method),_=n.url;if(b?_=d.getTrustedResourceUrl(_):V(_)||(_=d.valueOf(_)),a=_,(s=n.paramSerializer(n.params)).length>0&&(a+=(-1===a.indexOf("?")?"?":"&")+s),_=a,b&&(_=function(e,t){var n=e.split("?");if(n.length>2)throw nr("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return S(eE(n[1]),function(n,r){if("JSON_CALLBACK"===n)throw nr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(r===t)throw nr("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)}),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(_,n.jsonpCallbackParam)),v.pendingRequests.push(n),g.then($,$),(n.cache||e.cache)&&!1!==n.cache&&("GET"===n.method||"JSONP"===n.method)&&(u=M(n.cache)?n.cache:M(e.cache)?e.cache:f),u&&(q(m=u.get(_))?J(m)?m.then(k,k):H(m)?C(m[1],m[0],eM(m[2]),m[3],m[4]):C(m,200,{},"OK","complete"):u.put(_,g)),F(m)){var E=rf(n.url)?o()[n.xsrfCookieName||e.xsrfCookieName]:void 0;E&&(y[n.xsrfHeaderName||e.xsrfHeaderName]=E),i(n.method,_,r,function(e,n,r,a,i){function o(){C(n,e,r,a,i)}u&&(nd(e)?u.put(_,[e,n,nc(r),a,i]):u.remove(_)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())},y,n.timeout,n.withCredentials,n.responseType,w(n.eventHandlers),w(n.uploadEventHandlers))}return g;function w(e){if(e){var n={};return S(e,function(e,r){n[r]=function(n){t?c.$applyAsync(r):c.$$phase?r():c.$apply(r);function r(){e(n)}}}),n}}function C(e,t,r,a,i){(nd(t=t>=-1?t:0)?h.resolve:h.reject)({data:e,status:t,headers:nl(r),config:n,statusText:a,xhrStatus:i})}function k(e){C(e.data,e.status,eM(e.headers()),e.statusText,e.xhrStatus)}function $(){var e=v.pendingRequests.indexOf(n);-1!==e&&v.pendingRequests.splice(e,1)}})(n,a).then(E,E)}),b=(b=_(b,y)).finally(function(){r.$$completeOutstandingRequest(L)});function _(e,t){for(var n=0,r=t.length;n<r;){var a=t[n++],i=t[n++];e=e.then(a,i)}return t.length=0,e}function E(e){var t=T({},e);return t.data=nu(e.data,e.headers,e.status,s.transformResponse),nd(e.status)?t:l.reject(t)}}return S(n,function(e){h.unshift(V(e)?u.get(e):u.invoke(e))}),v.pendingRequests=[],function(e){S(arguments,function(e){v[e]=function(t,n){return v(T({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){S(arguments,function(e){v[e]=function(t,n,r){return v(T({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),v.defaults=e,v}]}function nm(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function nf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){var a,i;return a=e.defer,i=n[0],function(n,o,s,c,l,u,d,m,f,h){if(o=o||e.url(),"jsonp"===p(n))var v,g,y,b,_=t.createCallback(o),E=(v=o,g=function(e,n){var r=200===e&&t.getResponse(_);$(c,e,r,"",n,"complete"),t.removeCallback(_)},v=v.replace("JSON_CALLBACK",_),y=i.createElement("script"),b=null,y.type="text/javascript",y.src=v,y.async=!0,b=function(e){y.removeEventListener("load",b),y.removeEventListener("error",b),i.body.removeChild(y),y=null;var n=-1,r="unknown";e&&("load"!==e.type||t.wasCalled(_)||(e={type:"error"}),r=e.type,n="error"===e.type?404:200),g&&g(n,r)},y.addEventListener("load",b),y.addEventListener("error",b),i.body.appendChild(y),b);else{var w=r(n,o);if(w.open(n,o,!0),S(l,function(e,t){q(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"===rm(o).protocol?404:0),$(c,n,t,w.getAllResponseHeaders(),e,"complete")},w.onerror=function(){$(c,-1,null,null,"","error")},w.onabort=function(){$(c,-1,null,null,"","abort")},w.ontimeout=function(){$(c,-1,null,null,"","timeout")},S(f,function(e,t){w.addEventListener(t,e)}),S(h,function(e,t){w.upload.addEventListener(t,e)}),d&&(w.withCredentials=!0),m)try{w.responseType=m}catch(e){if("json"!==m)throw e}w.send(F(s)?null:s)}if(u>0)var C=a(k,u);else J(u)&&u.then(k);function k(){E&&E(),w&&w.abort()}function $(e,t,n,r,i,o){q(C)&&a.cancel(C),E=w=null,e(t,n,r,i,o)}}}]}var nh=_.$interpolateMinErr=a("$interpolate");function nv(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,a){var i=e.length,o=t.length,s=RegExp(e.replace(/./g,l),"g"),c=RegExp(t.replace(/./g,l),"g");function l(e){return"\\\\\\"+e}function u(n){return n.replace(s,e).replace(c,t)}function d(e,t,n,r){var a=e.$watch(function(e){return a(),r(e)},t,n);return a}function p(s,c,l,p){if(!s.length||-1===s.indexOf(e))return c||((m=I(u(s))).exp=s,m.expressions=[],m.$$watchDelegate=d),m;p=!!p;for(var m,f,h,v,g=0,y=[],b=[],_=s.length,E=[],w=[];g<_;)if(-1!==(f=s.indexOf(e,g))&&-1!==(h=s.indexOf(t,f+i)))g!==f&&E.push(u(s.substring(g,f))),v=s.substring(f+i,h),y.push(v),b.push(n(v,k)),g=h+o,w.push(E.length),E.push("");else{g!==_&&E.push(u(s.substring(g)));break}if(l&&E.length>1&&nh.throwNoconcat(s),!c||y.length){var S=function(e){for(var t=0,n=y.length;t<n;t++){if(p&&F(e[t]))return;E[w[t]]=e[t]}return E.join("")},C=function(e){return l?a.getTrusted(l,e):a.valueOf(e)};return T(function(e){var t=0,n=y.length,a=Array(n);try{for(;t<n;t++)a[t]=b[t](e);return S(a)}catch(e){r(nh.interr(s,e))}},{exp:s,expressions:y,$$watchDelegate:function(e,t){var n;return e.$watchGroup(b,function(r,a){var i=S(r);t.call(this,i,r!==a?n:i,e),n=i})}})}function k(e){try{return e=C(e),p&&!q(e)?e:eF(e)}catch(e){r(nh.interr(s,e))}}}return p.startSymbol=function(){return e},p.endSymbol=function(){return t},p}]}function ng(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,a){var i={};function o(o,s,c,l){var u=arguments.length>4,d=u?ed(arguments,4):[],p=t.setInterval,m=t.clearInterval,f=0,h=q(l)&&!l,v=(h?r:n).defer(),g=v.promise;return c=q(c)?c:0,g.$$intervalId=p(function(){h?a.defer(y):e.$evalAsync(y),v.notify(f++),c>0&&f>=c&&(v.resolve(f),m(g.$$intervalId),delete i[g.$$intervalId]),h||e.$apply()},s),i[g.$$intervalId]=v,g;function y(){u?o.apply(null,d):o(f)}}return o.cancel=function(e){return!!e&&e.$$intervalId in i&&(n5(i[e.$$intervalId].promise),i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0)},o}]}nh.throwNoconcat=function(e){throw nh("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},nh.interr=function(e,t){return nh("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ny=function(){this.$get=function(){var e=_.callbacks,t={};return{createCallback:function(n){var r,a="_"+(e.$$counter++).toString(36),i="angular.callbacks."+a,o=((r=function(e){r.data=e,r.called=!0}).id=a,r);return t[i]=e[a]=o,i},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var r=t[n];delete e[r.id],delete t[n]}}}},nb=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,n_={http:80,https:443,ftp:21},nE=a("$location");function nw(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=eS(t[n].replace(/%2F/g,"/"));return t.join("/")}function nS(e,t){var n=rm(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=N(n.port)||n_[n.protocol]||null}var nC=/^\s*[\\/]{2,}/;function nk(e,t,n){if(nC.test(e))throw nE("badpath",'Invalid url "{0}".',e);var r="/"!==e.charAt(0);r&&(e="/"+e);var a=rm(e),i=r&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname;t.$$path=function(e,t){for(var n=e.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),t&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(i,n),t.$$search=eE(a.search),t.$$hash=decodeURIComponent(a.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function n$(e,t){return e.slice(0,t.length)===t}function nA(e,t){if(n$(t,e))return t.substr(e.length)}function nx(e){var t=e.indexOf("#");return -1===t?e:e.substr(0,t)}function nT(e){return e.replace(/(#.+)|#$/,"$1")}function nN(e,t,n){this.$$html5=!0,n=n||"",nS(e,this),this.$$parse=function(e){var n=nA(t,e);if(!V(n))throw nE("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);nk(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ew(this.$$search),n=this.$$hash?"#"+eS(this.$$hash):"";this.$$url=nw(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,a){var i,o,s;return a&&"#"===a[0]?(this.hash(a.slice(1)),!0):(q(i=nA(e,r))?(o=i,s=n&&q(i=nA(n,i))?t+(nA("/",i)||i):e+o):q(i=nA(t,r))?s=t+i:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s)}}function nP(e,t,n){nS(e,this),this.$$parse=function(r){var a,i,o,s,c,l,u=nA(e,r)||nA(t,r);F(u)||"#"!==u.charAt(0)?this.$$html5?l=u:(l="",F(u)&&(e=r,this.replace())):F(l=nA(n,u))&&(l=u),nk(l,this,!1),this.$$path=(a=this.$$path,c=/^\/[A-Z]:(\/.*)/,(n$(i=l,o=e)&&(i=i.replace(o,"")),c.exec(i))?a:(s=c.exec(a))?s[1]:a),this.$$compose()},this.$$compose=function(){var t=ew(this.$$search),r=this.$$hash?"#"+eS(this.$$hash):"";this.$$url=nw(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return nx(e)===nx(t)&&(this.$$parse(t),!0)}}function nR(e,t,n){this.$$html5=!0,nP.apply(this,arguments),this.$$parseLinkUrl=function(r,a){var i,o;return a&&"#"===a[0]?(this.hash(a.slice(1)),!0):(e===nx(r)?i=r:(o=nA(t,r))?i=e+n+o:t===r+"/"&&(i=t),i&&this.$$parse(i),!!i)},this.$$compose=function(){var t=ew(this.$$search),r=this.$$hash?"#"+eS(this.$$hash):"";this.$$url=nw(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}var nL={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:nD("$$absUrl"),url:function(e){if(F(e))return this.$$url;var t=nb.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:nD("$$protocol"),host:nD("$$host"),port:nD("$$port"),path:nI("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(V(e)||U(e))e=e.toString(),this.$$search=eE(e);else if(M(e))S(e=ei(e,{}),function(t,n){null==t&&delete e[n]}),this.$$search=e;else throw nE("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:F(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:nI("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function nD(e){return function(){return this[e]}}function nI(e,t){return function(n){return F(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function nO(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return q(t)?(e=t,this):e},this.html5Mode=function(e){return Q(e)?(t.enabled=e,this):M(e)?(Q(e.enabled)&&(t.enabled=e.enabled),Q(e.requireBase)&&(t.requireBase=e.requireBase),(Q(e.rewriteLinks)||V(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,a,i,s){var c,l,u,d,p=r.baseHref(),m=r.url();if(t.enabled){if(!p&&t.requireBase)throw nE("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=m.substring(0,m.indexOf("/",m.indexOf("//")+2))+(p||"/"),u=a.history?nN:nR}else d=nx(m),u=nP;var f=(c=d).substr(0,nx(c).lastIndexOf("/")+1);(l=new u(d,f,"#"+e)).$$parseLinkUrl(m,m),l.$$state=r.state();var h=/^\s*(javascript|mailto):/i;function v(e,t,n){var a=l.url(),i=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(e){throw l.url(a),l.$$state=i,e}}i.on("click",function(e){var a=t.rewriteLinks;if(a&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var c=o(e.target);"a"!==en(c[0]);)if(c[0]===i[0]||!(c=c.parent())[0])return;if(!(V(a)&&F(c.attr(a)))){var u=c.prop("href"),d=c.attr("href")||c.attr("xlink:href");M(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=rm(u.animVal).href),!h.test(u)&&u&&!c.attr("target")&&!e.isDefaultPrevented()&&l.$$parseLinkUrl(u,d)&&(e.preventDefault(),l.absUrl()!==r.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}}),nT(l.absUrl())!==nT(m)&&r.url(l.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){if(!n$(e,f)){s.location.href=e;return}n.$evalAsync(function(){var r,a=l.absUrl(),i=l.$$state;e=nT(e),l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,a,t,i).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(a),l.$$state=i,v(a,!1,i)):(g=!1,y(a,i)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(g||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=nT(r.url()),t=nT(l.absUrl()),i=r.state(),o=l.$$replace,s=e!==t||l.$$html5&&a.history&&i!==l.$$state;(g||s)&&(g=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,i).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=i):(s&&v(t,o,i===l.$$state?null:l.$$state),y(e,i)))}))}l.$$replace=!1}),l;function y(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}}]}function nF(){var e=!0,t=this;this.debugEnabled=function(t){return q(t)?(e=t,this):e},this.$get=["$window",function(n){var r,a=i||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(r=o("debug"),function(){e&&r.apply(t,arguments)})};function o(e){var t=n.console||{},r=t[e]||t.log||L;return function(){var e=[];return S(arguments,function(t){var n;e.push((z(n=t)&&(n.stack&&a?n=n.message&&-1===n.stack.indexOf(n.message)?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n))}),Function.prototype.apply.call(r,t,e)}}}]}S([nR,nP,nN],function(e){e.prototype=Object.create(nL),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==nN||!this.$$html5)throw nE("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=F(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var nq=a("$parse"),nM={}.constructor.prototype.valueOf;function nB(e){return e+""}var nV=eO();S("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){nV[e]=!0});var nU={n:"\n",f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},nj=function(e){this.options=e};nj.prototype={constructor:nj,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),a=nV[t],i=nV[n],o=nV[r];if(a||i||o){var s=o?r:i?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return -1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\v"===e||"\xa0"===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,nq("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,q(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=p(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,a=!1;this.index<this.text.length;){var i=this.text.charAt(this.index);if(r+=i,a){if("u"===i){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else n+=nU[i]||i;a=!1}else if("\\"===i)a=!0;else if(i===e){this.index++,this.tokens.push({index:t,text:r,constant:!0,value:n});return}else n+=i;this.index++}this.throwError("Unterminated quote",t)}};var nH=function(e,t){this.lexer=e,this.options=t};function nz(e,t){return void 0!==e?e:t}function nK(e,t){return void 0===e?t:void 0===t?e:e+t}function nW(e,t,n){var r,a,i,o=e.isPure=function(e,t){switch(e.type){case nH.MemberExpression:if(e.computed)return!1;break;case nH.UnaryExpression:return 1;case nH.BinaryExpression:return"+"!==e.operator&&1;case nH.CallExpression:return!1}return void 0===t?2:t}(e,n);switch(e.type){case nH.Program:r=!0,S(e.body,function(e){nW(e.expression,t,o),r=r&&e.expression.constant}),e.constant=r;break;case nH.Literal:e.constant=!0,e.toWatch=[];break;case nH.UnaryExpression:nW(e.argument,t,o),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case nH.BinaryExpression:nW(e.left,t,o),nW(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case nH.LogicalExpression:nW(e.left,t,o),nW(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case nH.ConditionalExpression:nW(e.test,t,o),nW(e.alternate,t,o),nW(e.consequent,t,o),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case nH.Identifier:e.constant=!1,e.toWatch=[e];break;case nH.MemberExpression:nW(e.object,t,o),e.computed&&nW(e.property,t,o),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case nH.CallExpression:r=i=!!e.filter&&!t(e.callee.name).$stateful,a=[],S(e.arguments,function(e){nW(e,t,o),r=r&&e.constant,a.push.apply(a,e.toWatch)}),e.constant=r,e.toWatch=i?a:[e];break;case nH.AssignmentExpression:nW(e.left,t,o),nW(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case nH.ArrayExpression:r=!0,a=[],S(e.elements,function(e){nW(e,t,o),r=r&&e.constant,a.push.apply(a,e.toWatch)}),e.constant=r,e.toWatch=a;break;case nH.ObjectExpression:r=!0,a=[],S(e.properties,function(e){nW(e.value,t,o),r=r&&e.value.constant,a.push.apply(a,e.value.toWatch),e.computed&&(nW(e.key,t,!1),r=r&&e.key.constant,a.push.apply(a,e.key.toWatch))}),e.constant=r,e.toWatch=a;break;case nH.ThisExpression:case nH.LocalsExpression:e.constant=!1,e.toWatch=[]}}function nG(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function nY(e){return e.type===nH.Identifier||e.type===nH.MemberExpression}function nQ(e){if(1===e.body.length&&nY(e.body[0].expression))return{type:nH.AssignmentExpression,left:e.body[0].expression,right:{type:nH.NGValueParameter},operator:"="}}function nJ(e){this.$filter=e}function nZ(e){this.$filter=e}function nX(e,t,n){this.ast=new nH(e,n),this.astCompiler=n.csp?new nZ(t):new nJ(t)}function n0(e){return K(e.valueOf)?e.valueOf():nM.call(e)}function n1(){var e,t,n=eO(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(a){var i={csp:ec().noUnsafeEval,literals:ei(r),isIdentifierStart:K(e)&&e,isIdentifierContinue:K(t)&&t};return o.$$getAst=function(e){var t=new nj(i);return new nX(t,a,i).getAst(e).ast},o;function o(e,t){var r,o;switch(typeof e){case"string":if(!(r=n[o=e=e.trim()])){var s=new nj(i);(r=new nX(s,a,i).parse(e)).constant?r.$$watchDelegate=d:r.oneTime?r.$$watchDelegate=r.literal?u:l:r.inputs&&(r.$$watchDelegate=c),n[o]=r}return p(r,t);case"function":return p(e,t);default:return p(L,t)}}function s(e,t,n){return null==e||null==t?e===t:("object"!=typeof e||"object"!=typeof(e=n0(e))||!!n)&&(e===t||e!=e&&t!=t)}function c(e,t,n,r,a){var i,o=r.inputs;if(1===o.length){var c=s;return o=o[0],e.$watch(function(e){var t=o(e);return s(t,c,o.isPure)||(i=r(e,void 0,void 0,[t]),c=t&&n0(t)),i},t,n,a)}for(var l=[],u=[],d=0,p=o.length;d<p;d++)l[d]=s,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,a=o.length;n<a;n++){var c=o[n](e);(t||(t=!s(c,l[n],o[n].isPure)))&&(u[n]=c,l[n]=c&&n0(c))}return t&&(i=r(e,void 0,void 0,u)),i},t,n,a)}function l(e,t,n,r,a){var i;return i=r.inputs?c(e,o,n,r,a):e.$watch(function(e){return r(e)},o,n);function o(e,n,r){K(t)&&t(e,n,r),q(e)&&r.$$postDigest(function(){q(e)&&i()})}}function u(e,t,n,r){var a;return a=e.$watch(function(e){return r(e)},function(e,n,r){K(t)&&t(e,n,r),i(e)&&r.$$postDigest(function(){i(e)&&a()})},n);function i(e){var t=!0;return S(e,function(e){q(e)||(t=!1)}),t}}function d(e,t,n,r){var a=e.$watch(function(e){return a(),r(e)},t,n);return a}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,a=n!==u&&n!==l?function(n,a,i,o){return t(r&&o?o[0]:e(n,a,i,o),n,a)}:function(n,r,a,i){var o=e(n,r,a,i),s=t(o,n,r);return q(o)?s:o};return r=!e.inputs,n&&n!==c?(a.$$watchDelegate=n,a.inputs=e.inputs):t.$stateful||(a.$$watchDelegate=c,a.inputs=e.inputs?e.inputs:[e]),a.inputs&&(a.inputs=a.inputs.map(function(e){return 2===e.isPure?function(t){return e(t)}:e})),a}}]}function n2(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return n4(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return q(t)?(e=t,this):e}}function n3(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return n4(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return q(t)?(e=t,this):e}}function n4(e,t,n){var r=a("$q",TypeError),i=0,o=[];function s(){return new c}function c(){var e=this.promise=new l;this.resolve=function(t){p(e,t)},this.reject=function(t){m(e,t)},this.notify=function(t){h(e,t)}}function l(){this.$$state={status:0}}function u(){for(;!i&&o.length;){var e=o.shift();if(!e.pur){e.pur=!0;var n="Possibly unhandled rejection: "+eB(e.value);z(e.value)?t(e.value,n):t(n)}}}function d(r){!n||r.pending||2!==r.status||r.pur||(0===i&&0===o.length&&e(u),o.push(r)),!r.processScheduled&&r.pending&&(r.processScheduled=!0,++i,e(function(){!function(r){var a,o,s;s=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var c=0,l=s.length;c<l;++c){r.pur=!0,o=s[c][0],a=s[c][r.status];try{K(a)?p(o,a(r.value)):1===r.status?p(o,r.value):m(o,r.value)}catch(e){m(o,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--i,n&&0===i&&e(u)}}(r)}))}function p(e,t){e.$$state.status||(t===e?f(e,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function e(t,n){var r,a=!1;try{(M(n)||K(n))&&(r=n.then),K(r)?(t.$$state.status=-1,r.call(n,function(n){a||(a=!0,e(t,n))},i,function(e){h(t,e)})):(t.$$state.value=n,t.$$state.status=1,d(t.$$state))}catch(e){i(e)}function i(e){a||(a=!0,f(t,e))}}(e,t))}function m(e,t){e.$$state.status||f(e,t)}function f(e,t){e.$$state.value=t,e.$$state.status=2,d(e.$$state)}function h(n,r){var a=n.$$state.pending;n.$$state.status<=0&&a&&a.length&&e(function(){for(var e,n,i=0,o=a.length;i<o;i++){n=a[i][0],e=a[i][3];try{h(n,K(e)?e(r):r)}catch(e){t(e)}}})}function v(e){var t=new l;return m(t,e),t}function g(e,t,n){var r=null;try{K(n)&&(r=n())}catch(e){return v(e)}return J(r)?r.then(function(){return t(e)},v):t(e)}function y(e,t,n,r){var a=new l;return p(a,e),a.then(t,n,r)}T(l.prototype,{then:function(e,t,n){if(F(e)&&F(t)&&F(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&d(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return g(t,b,e)},function(t){return g(t,v,e)},t)}});var b=y;function _(e){if(!K(e))throw r("norslvr","Expected resolverFn, got '{0}'",e);var t=new l;return e(function(e){p(t,e)},function(e){m(t,e)}),t}return _.prototype=l.prototype,_.defer=s,_.reject=v,_.when=y,_.resolve=b,_.all=function(e){var t=new l,n=0,r=H(e)?[]:{};return S(e,function(e,a){n++,y(e).then(function(e){r[a]=e,--n||p(t,r)},function(e){m(t,e)})}),0===n&&p(t,r),t},_.race=function(e){var t=s();return S(e,function(e){y(e).then(t.resolve,t.reject)}),t.promise},_}function n5(e){e.$$state.pur=!0}function n6(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!n,i=a?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return i.supported=a,i}]}function n8(){var e=10,t=a("$rootScope"),n=null,r=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(a,o,s){function c(e){e.currentScope.$$destroyed=!0}function l(){this.$id=$(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}l.prototype={constructor:l,$new:function(e,t){var n;return t=t||this,e?(n=new l).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=$(),this.$$ChildScope=null}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",c),n},$watch:function(e,t,r,a){var i=o(e),s=K(t)?t:L;if(i.$$watchDelegate)return i.$$watchDelegate(this,s,r,i,e);var c=this,l=c.$$watchers,u={fn:s,last:_,get:i,exp:a||e,eq:!!r};return n=null,l||((l=c.$$watchers=[]).$$digestWatchIndex=-1),l.unshift(u),l.$$digestWatchIndex++,y(this,1),function(){var e=ea(l,u);e>=0&&(y(c,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=Array(e.length),r=Array(e.length),a=[],i=this,o=!1,s=!0;if(!e.length){var c=!0;return i.$evalAsync(function(){c&&t(r,r,i)}),function(){c=!1}}if(1===e.length)return this.$watch(e[0],function(e,a,i){r[0]=e,n[0]=a,t(r,e===a?r:n,i)});function l(){o=!1,s?(s=!1,t(r,r,i)):t(r,n,i)}return S(e,function(e,t){var s=i.$watch(e,function(e,a){r[t]=e,n[t]=a,o||(o=!0,i.$evalAsync(l))});a.push(s)}),function(){for(;a.length;)a.shift()()}},$watchCollection:function(e,t){h.$stateful=!0;var n,r,a,i=this,s=t.length>1,c=0,l=o(e,h),u=[],p={},m=!0,f=0;function h(e){if(!F(n=e)){if(M(n)){if(w(n)){r!==u&&(f=(r=u).length=0,c++),f!==(t=n.length)&&(c++,r.length=f=t);for(var t,a,i,o,s=0;s<t;s++)o=r[s],i=n[s],o!=o&&i!=i||o===i||(c++,r[s]=i)}else{for(a in r!==p&&(r=p={},f=0,c++),t=0,n)d.call(n,a)&&(t++,i=n[a],o=r[a],a in r?o!=o&&i!=i||o===i||(c++,r[a]=i):(f++,r[a]=i,c++));if(f>t)for(a in c++,r)d.call(n,a)||(f--,delete r[a])}}else r!==n&&(r=n,c++);return c}}return this.$watch(l,function(){if(m?(m=!1,t(n,n,i)):t(n,a,i),s){if(M(n)){if(w(n)){a=Array(n.length);for(var e=0;e<n.length;e++)a[e]=n[e]}else for(var r in a={},n)d.call(n,r)&&(a[r]=n[r])}else a=n}})},$digest:function(){var i,o,c,l,d,f,y,b,w,S=e,C=[];v("$digest"),s.$$checkUrlChange(),this===u&&null!==r&&(s.defer.cancel(r),E()),n=null;do{d=!1,y=this;for(var k=0;k<p.length;k++){try{(0,(w=p[k]).fn)(w.scope,w.locals)}catch(e){a(e)}n=null}p.length=0;n:do{if(l=y.$$watchers)for(l.$$digestWatchIndex=l.length;l.$$digestWatchIndex--;)try{if(i=l[l.$$digestWatchIndex]){if((o=(0,i.get)(y))===(c=i.last)||(i.eq?es(o,c):P(o)&&P(c))){if(i===n){d=!1;break n}}else d=!0,n=i,i.last=i.eq?ei(o,null):o,(0,i.fn)(o,c===_?o:c,y),S<5&&(C[b=4-S]||(C[b]=[]),C[b].push({msg:K(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:o,oldVal:c}))}}catch(e){a(e)}if(!(f=y.$$watchersCount&&y.$$childHead||y!==this&&y.$$nextSibling))for(;y!==this&&!(f=y.$$nextSibling);)y=y.$parent}while(y=f);if((d||p.length)&&!S--)throw g(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(d||p.length);for(g();h<m.length;)try{m[h++]()}catch(e){a(e)}m.length=h=0,s.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===u&&s.$$applicationDestroyed(),y(this,-this.$$watchersCount),this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=L,this.$on=this.$watch=this.$watchGroup=function(){return L},this.$$listeners={},this.$$nextSibling=null,function e(t){9===i&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e,t){u.$$phase||p.length||s.defer(function(){p.length&&u.$digest()}),p.push({scope:this,fn:o(e),locals:t})},$$postDigest:function(e){m.push(e)},$apply:function(e){try{v("$apply");try{return this.$eval(e)}finally{g()}}catch(e){a(e)}finally{try{u.$digest()}catch(e){throw a(e),e}}},$applyAsync:function(e){var t=this;e&&f.push(function(){t.$eval(e)}),e=o(e),null===r&&(r=s.defer(function(){u.$apply(E)}))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var a=this;return function(){var r=n.indexOf(t);-1!==r&&(delete n[r],b(a,1,e))}},$emit:function(e,t){var n,r,i,o=[],s=this,c=!1,l={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=eu([l],arguments,1);do{for(r=0,n=s.$$listeners[e]||o,l.currentScope=s,i=n.length;r<i;r++){if(!n[r]){n.splice(r,1),r--,i--;continue}try{n[r].apply(null,u)}catch(e){a(e)}}if(c)break;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=this,i={name:e,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return i;for(var o,s,c,l=eu([i],arguments,1);n=r;){for(s=0,i.currentScope=n,c=(o=n.$$listeners[e]||[]).length;s<c;s++){if(!o[s]){o.splice(s,1),s--,c--;continue}try{o[s].apply(null,l)}catch(e){a(e)}}if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var u=new l,p=u.$$asyncQueue=[],m=u.$$postDigestQueue=[],f=u.$$applyAsyncQueue=[],h=0;return u;function v(e){if(u.$$phase)throw t("inprog","{0} already in progress",u.$$phase);u.$$phase=e}function g(){u.$$phase=null}function y(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function _(){}function E(){for(;f.length;)try{f.shift()()}catch(e){a(e)}r=null}}]}function n7(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return q(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return q(e)?(t=e,this):t},this.$get=function(){return function(n,r){var a,i=r?t:e;return""===(a=rm(n&&n.trim()).href)||a.match(i)?n:"unsafe:"+a}}}nH.Program="Program",nH.ExpressionStatement="ExpressionStatement",nH.AssignmentExpression="AssignmentExpression",nH.ConditionalExpression="ConditionalExpression",nH.LogicalExpression="LogicalExpression",nH.BinaryExpression="BinaryExpression",nH.UnaryExpression="UnaryExpression",nH.CallExpression="CallExpression",nH.MemberExpression="MemberExpression",nH.Identifier="Identifier",nH.Literal="Literal",nH.ArrayExpression="ArrayExpression",nH.Property="Property",nH.ObjectExpression="ObjectExpression",nH.ThisExpression="ThisExpression",nH.LocalsExpression="LocalsExpression",nH.NGValueParameter="NGValueParameter",nH.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:nH.Program,body:e}},expressionStatement:function(){return{type:nH.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!nY(e))throw nq("lval","Trying to assign a value to a non l-value");e={type:nH.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:nH.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:nH.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:nH.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:nH.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:nH.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:nH.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:nH.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:nH.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=ei(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:nH.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:nH.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:nH.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:nH.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:nH.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:nH.Identifier,name:e.text}},constant:function(){return{type:nH.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:nH.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:nH.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:nH.ObjectExpression,properties:t}},throwError:function(e,t){throw nq("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw nq("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw nq("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,a){if(this.tokens.length>e){var i=this.tokens[e],o=i.text;if(o===t||o===n||o===r||o===a||!t&&!n&&!r&&!a)return i}return!1},expect:function(e,t,n,r){var a=this.peek(e,t,n,r);return!!a&&(this.tokens.shift(),a)},selfReferential:{this:{type:nH.ThisExpression},$locals:{type:nH.LocalsExpression}}},nJ.prototype={compile:function(e){var t,n=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},nW(e,n.$filter);var r="";if(this.stage="assign",t=nQ(e)){this.state.computing="assign";var a=this.nextId();this.recurse(t,a),this.return_(a),r="fn.assign="+this.generateFunction("assign","s,v,l")}var i=nG(e.body);n.stage="inputs",S(i,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var a=n.nextId();n.recurse(e,a),n.return_(a),n.state.inputs.push({name:r,isPure:e.isPure}),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e);var o=Function("$filter","getStringValue","ifDefined","plus",'"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;")(this.$filter,nB,nz,nK);return this.state=this.stage=void 0,o},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return S(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return(S(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length)?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,a,i){var o,s,c,l,u,d=this;if(r=r||L,!i&&q(e.watchId)){t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,a,!0));return}switch(e.type){case nH.Program:S(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){s=e}),n!==e.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case nH.Literal:l=this.escape(e.value),this.assign(t,l),r(t||l);break;case nH.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){s=e}),l=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,l),r(l);break;case nH.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){o=e}),this.recurse(e.right,void 0,void 0,function(e){s=e}),l="+"===e.operator?this.plus(o,s):"-"===e.operator?this.ifDefined(o,0)+e.operator+this.ifDefined(s,0):"("+o+")"+e.operator+"("+s+")",this.assign(t,l),r(l);break;case nH.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),r(t);break;case nH.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),r(t);break;case nH.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){a&&1!==a&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),r(t);break;case nH.MemberExpression:o=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,o,void 0,function(){d.if_(d.notNull(o),function(){e.computed?(s=d.nextId(),d.recurse(e.property,s),d.getStringValue(s),a&&1!==a&&d.if_(d.not(d.computedMember(o,s)),d.lazyAssign(d.computedMember(o,s),"{}")),l=d.computedMember(o,s),d.assign(t,l),n&&(n.computed=!0,n.name=s)):(a&&1!==a&&d.if_(d.isNull(d.nonComputedMember(o,e.property.name)),d.lazyAssign(d.nonComputedMember(o,e.property.name),"{}")),l=d.nonComputedMember(o,e.property.name),d.assign(t,l),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),r(t)},!!a);break;case nH.CallExpression:t=t||this.nextId(),e.filter?(s=d.filter(e.callee.name),c=[],S(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),c.push(t)}),l=s+"("+c.join(",")+")",d.assign(t,l),r(t)):(s=d.nextId(),o={},c=[],d.recurse(e.callee,s,o,function(){d.if_(d.notNull(s),function(){S(e.arguments,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){c.push(e)})}),l=o.name?d.member(o.context,o.name,o.computed)+"("+c.join(",")+")":s+"("+c.join(",")+")",d.assign(t,l)},function(){d.assign(t,"undefined")}),r(t)}));break;case nH.AssignmentExpression:s=this.nextId(),o={},this.recurse(e.left,void 0,o,function(){d.if_(d.notNull(o.context),function(){d.recurse(e.right,s),l=d.member(o.context,o.name,o.computed)+e.operator+s,d.assign(t,l),r(t||l)})},1);break;case nH.ArrayExpression:c=[],S(e.elements,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){c.push(e)})}),l="["+c.join(",")+"]",this.assign(t,l),r(t||l);break;case nH.ObjectExpression:c=[],u=!1,S(e.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),S(e.properties,function(e){e.computed?(o=d.nextId(),d.recurse(e.key,o)):o=e.key.type===nH.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,o,e.computed),s)})):(S(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){c.push(d.escape(t.key.type===nH.Identifier?t.key.name:""+t.key.value)+":"+e)})}),l="{"+c.join(",")+"}",this.assign(t,l)),r(t||l);break;case nH.ThisExpression:this.assign(t,"s"),r(t||"s");break;case nH.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case nH.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,a,i){var o=this;return function(){o.recurse(e,t,n,r,a,i)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(V(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(U(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw nq("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},nZ.prototype={compile:function(e){var t,n,r,a=this;nW(e,a.$filter),(t=nQ(e))&&(n=this.recurse(t));var i=nG(e.body);i&&(r=[],S(i,function(e,t){var n=a.recurse(e);n.isPure=e.isPure,e.input=n,r.push(n),e.watchId=t}));var o=[];S(e.body,function(e){o.push(a.recurse(e.expression))});var s=0===e.body.length?L:1===e.body.length?o[0]:function(e,t){var n;return S(o,function(r){n=r(e,t)}),n};return n&&(s.assign=function(e,t,r){return n(e,r,t)}),r&&(s.inputs=r),s},recurse:function(e,t,n){var r,a,i,o=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case nH.Literal:return this.value(e.value,t);case nH.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case nH.BinaryExpression:case nH.LogicalExpression:return r=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](r,a,t);case nH.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case nH.Identifier:return o.identifier(e.name,t,n);case nH.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(r,a,t,n):this.nonComputedMember(r,a,t,n);case nH.CallExpression:return i=[],S(e.arguments,function(e){i.push(o.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,n,r,o){for(var s=[],c=0;c<i.length;++c)s.push(i[c](e,n,r,o));var l=a.apply(void 0,s,o);return t?{context:void 0,name:void 0,value:l}:l}:function(e,n,r,o){var s,c=a(e,n,r,o);if(null!=c.value){for(var l=[],u=0;u<i.length;++u)l.push(i[u](e,n,r,o));s=c.value.apply(c.context,l)}return t?{value:s}:s};case nH.AssignmentExpression:return r=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,i,o){var s=r(e,n,i,o),c=a(e,n,i,o);return s.context[s.name]=c,t?{value:c}:c};case nH.ArrayExpression:return i=[],S(e.elements,function(e){i.push(o.recurse(e))}),function(e,n,r,a){for(var o=[],s=0;s<i.length;++s)o.push(i[s](e,n,r,a));return t?{value:o}:o};case nH.ObjectExpression:return i=[],S(e.properties,function(e){e.computed?i.push({key:o.recurse(e.key),computed:!0,value:o.recurse(e.value)}):i.push({key:e.key.type===nH.Identifier?e.key.name:""+e.key.value,computed:!1,value:o.recurse(e.value)})}),function(e,n,r,a){for(var o={},s=0;s<i.length;++s)i[s].computed?o[i[s].key(e,n,r,a)]=i[s].value(e,n,r,a):o[i[s].key]=i[s].value(e,n,r,a);return t?{value:o}:o};case nH.ThisExpression:return function(e){return t?{value:e}:e};case nH.LocalsExpression:return function(e,n){return t?{value:n}:n};case nH.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,a,i){var o=e(n,r,a,i);return o=q(o)?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(n,r,a,i){var o=e(n,r,a,i);return o=q(o)?-o:-0,t?{value:o}:o}},"unary!":function(e,t){return function(n,r,a,i){var o=!e(n,r,a,i);return t?{value:o}:o}},"binary+":function(e,t,n){return function(r,a,i,o){var s=nK(e(r,a,i,o),t(r,a,i,o));return n?{value:s}:s}},"binary-":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o),c=t(r,a,i,o),l=(q(s)?s:0)-(q(c)?c:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)*t(r,a,i,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)/t(r,a,i,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)%t(r,a,i,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)===t(r,a,i,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)!==t(r,a,i,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)==t(r,a,i,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)!=t(r,a,i,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)<t(r,a,i,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)>t(r,a,i,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)<=t(r,a,i,o);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)>=t(r,a,i,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)&&t(r,a,i,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)||t(r,a,i,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(a,i,o,s){var c=e(a,i,o,s)?t(a,i,o,s):n(a,i,o,s);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,a,i,o){var s=a&&e in a?a:r;n&&1!==n&&s&&null==s[e]&&(s[e]={});var c=s?s[e]:void 0;return t?{context:s,name:e,value:c}:c}},computedMember:function(e,t,n,r){return function(a,i,o,s){var c,l,u=e(a,i,o,s);return(null!=u&&(c=nB(c=t(a,i,o,s)),r&&1!==r&&u&&!u[c]&&(u[c]={}),l=u[c]),n)?{context:u,name:c,value:l}:l}},nonComputedMember:function(e,t,n,r){return function(a,i,o,s){var c=e(a,i,o,s);r&&1!==r&&c&&null==c[t]&&(c[t]={});var l=null!=c?c[t]:void 0;return n?{context:c,name:t,value:l}:l}},inputs:function(e,t){return function(n,r,a,i){return i?i[t]:e(n,r,a)}}},nX.prototype={constructor:nX,parse:function(e){var t,n=this.getAst(e),r=this.astCompiler.compile(n.ast);return r.literal=0===(t=n.ast).body.length||1===t.body.length&&(t.body[0].expression.type===nH.Literal||t.body[0].expression.type===nH.ArrayExpression||t.body[0].expression.type===nH.ObjectExpression),r.constant=n.ast.constant,r.oneTime=n.oneTime,r},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var n9=a("$sce"),re={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},rt=/_([a-z])/g;function rn(e){return e.replace(rt,eW)}function rr(e){var t=[];return q(e)&&S(e,function(e){t.push(function(e){if("self"===e)return e;if(V(e)){if(e.indexOf("***")>-1)throw n9("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return RegExp("^"+(e=ee(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"))+"$")}if(W(e))return RegExp("^"+e.source+"$");throw n9("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function ra(){this.SCE_CONTEXTS=re;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=rr(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=rr(e)),t},this.$get=["$injector",function(n){var r=function(e){throw n9("unsafe","Attempting to use an unsafe value in a safe context.")};function a(e,t){return"self"===e?rf(t):!!e.exec(t.href)}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}n.has("$sanitize")&&(r=n.get("$sanitize"));var o=i(),s={};return s[re.HTML]=i(o),s[re.CSS]=i(o),s[re.URL]=i(o),s[re.JS]=i(o),s[re.RESOURCE_URL]=i(s[re.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw n9("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||F(t)||""===t)return t;if("string"!=typeof t)throw n9("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(n,i){if(null===i||F(i)||""===i)return i;var o=s.hasOwnProperty(n)?s[n]:null;if(o&&i instanceof o)return i.$$unwrapTrustedValue();if(n===re.RESOURCE_URL){if(function(n){var r,i,o=rm(n.toString()),s=!1;for(r=0,i=e.length;r<i;r++)if(a(e[r],o)){s=!0;break}if(s){for(r=0,i=t.length;r<i;r++)if(a(t[r],o)){s=!1;break}}return s}(i))return i;throw n9("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",i.toString())}if(n===re.HTML)return r(i);throw n9("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof o?e.$$unwrapTrustedValue():e}}}]}function ri(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&i<8)throw n9("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=eM(re);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=D),r.parseAs=function(e,n){var a=t(n);return a.literal&&a.constant?a:t(n,function(t){return r.getTrusted(e,t)})};var a=r.parseAs,o=r.getTrusted,s=r.trustAs;return S(re,function(e,t){var n=p(t);r[rn("parse_as_"+n)]=function(t){return a(e,t)},r[rn("get_trusted_"+n)]=function(t){return o(e,t)},r[rn("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function ro(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,a=N((/android (\d+)/.exec(p((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=s.body&&s.body.style,l=!1,u=!1;return c&&(l=!!("transition"in c||"webkitTransition"in c),u=!!("animation"in c||"webkitAnimation"in c)),{history:!!(r&&!(a<4)&&!o),hasEvent:function(e){if("input"===e&&i)return!1;if(F(n[e])){var t=s.createElement("div");n[e]="on"+e in t}return n[e]},csp:ec(),transitions:l,animations:u,android:a}}]}var rs=a("$compile");function rc(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,a,i){function o(s,c){o.totalPendingRequests++,(!V(s)||F(n.get(s)))&&(s=i.getTrustedResourceUrl(s));var l=r.defaults&&r.defaults.transformResponse;return H(l)?l=l.filter(function(e){return e!==ns}):l===ns&&(l=null),r.get(s,T({cache:n,transformResponse:l},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},function(e){return c||t(e=rs("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText)),a.reject(e)})}return o.totalPendingRequests=0,o}]}function rl(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),a=[];return S(r,function(e){var r=_.element(e).data("$binding");r&&S(r,function(r){n?RegExp("(^|\\s)"+ee(t)+"(\\s|\\||$)").test(r)&&a.push(e):-1!==r.indexOf(t)&&a.push(e)})}),a},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],a=0;a<r.length;++a){var i=n?"=":"*=",o="["+r[a]+"model"+i+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function ru(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,a){var i={};function o(o,s,c){K(o)||(c=s,s=o,o=L);var l,u=ed(arguments,3),d=q(c)&&!c,p=(d?r:n).defer(),m=p.promise;return l=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(e){p.reject(e),a(e)}finally{delete i[m.$$timeoutId]}d||e.$apply()},s),m.$$timeoutId=l,i[l]=p,m}return o.cancel=function(e){return!!e&&e.$$timeoutId in i&&(n5(i[e.$$timeoutId].promise),i[e.$$timeoutId].reject("canceled"),delete i[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}var rd=e.document.createElement("a"),rp=rm(e.location.href);function rm(e){var t=e;return i&&(rd.setAttribute("href",t),t=rd.href),rd.setAttribute("href",t),{href:rd.href,protocol:rd.protocol?rd.protocol.replace(/:$/,""):"",host:rd.host,search:rd.search?rd.search.replace(/^\?/,""):"",hash:rd.hash?rd.hash.replace(/^#/,""):"",hostname:rd.hostname,port:rd.port,pathname:"/"===rd.pathname.charAt(0)?rd.pathname:"/"+rd.pathname}}function rf(e){var t=V(e)?rm(e):e;return t.protocol===rp.protocol&&t.host===rp.host}function rh(){this.$get=I(e)}function rv(e){var t=e[0]||{},n={},r="";function a(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,i,o,s,c,l=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(l!==r)for(o=0,e=(r=l).split("; "),n={};o<e.length;o++)(s=(i=e[o]).indexOf("="))>0&&F(n[c=a(i.substring(0,s))])&&(n[c]=a(i.substring(s+1)));return n}}function rg(){this.$get=rv}function ry(e){var t="Filter";function n(r,a){if(!M(r))return e.factory(r+t,a);var i={};return S(r,function(e,t){i[t]=n(t,e)}),i}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",rw),n("date",rD),n("filter",rb),n("json",rI),n("limitTo",rq),n("lowercase",rO),n("number",rS),n("orderBy",rB),n("uppercase",rF)}function rb(){return function(e,t,n,r){var i,o,s,c,l,u;if(!w(e)){if(null==e)return e;throw a("filter")("notarray","Expected array but received: {0}",e)}switch(r=r||"$",rE(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":s=n,c=r,l=o,u=M(t)&&c in t,!0===s?s=es:K(s)||(s=function(e,t){return!F(e)&&(null===e||null===t?e===t:!(M(t)||M(e)&&!O(e))&&(e=p(""+e),t=p(""+t),-1!==e.indexOf(t)))}),i=function(e){return u&&!M(e)?r_(e,t[c],s,c,!1):r_(e,t,s,c,l)};break;default:return e}return Array.prototype.filter.call(e,i)}}function r_(e,t,n,r,a,i){var o,s=rE(e),c=rE(t);if("string"===c&&"!"===t.charAt(0))return!r_(e,t.substring(1),n,r,a);if(H(e))return e.some(function(e){return r_(e,t,n,r,a)});switch(s){case"object":if(a){for(o in e)if(o.charAt&&"$"!==o.charAt(0)&&r_(e[o],t,n,r,!0))return!0;return!i&&r_(e,t,n,r,!1)}if("object"!==c)return n(e,t);for(o in t){var l=t[o];if(!(K(l)||F(l))){var u=o===r;if(!r_(u?e:e[o],l,n,r,u,u))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function rE(e){return null===e?"null":typeof e}function rw(e){var t=e.NUMBER_FORMATS;return function(e,n,r){F(n)&&(n=t.CURRENCY_SYM),F(r)&&(r=t.PATTERNS[1].maxFrac);var a=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:rC(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(a,n)}}function rS(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:rC(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function rC(e,t,n,r,a){if(!(V(e)||U(e))||isNaN(e))return"";var i,o=!isFinite(e),s=!1,c="";if(o)c="";else{!function(e,t,n,r){var a=e.d,i=a.length-e.i,o=(t=F(t)?Math.min(Math.max(n,i),r):+t)+e.i,s=a[o];if(o>0){a.splice(Math.max(e.i,o));for(var c=o;c<a.length;c++)a[c]=0}else{i=Math.max(0,i),e.i=1,a.length=Math.max(1,o=t+1),a[0]=0;for(var l=1;l<o;l++)a[l]=0}if(s>=5){if(o-1<0){for(var u=0;u>o;u--)a.unshift(0),e.i++;a.unshift(1),e.i++}else a[o-1]++}for(;i<Math.max(0,t);i++)a.push(0);var d=a.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(a.unshift(d),e.i++)}(i=function(e){var t,n,r,a,i,o=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(t=e.search(/e/i))>0?(i<0&&(i=t),i+=+e.slice(t+1),e=e.substring(0,t)):i<0&&(i=e.length),t=0;"0"===e.charAt(t);t++);if(t===(r=e.length))a=[0],i=1;else{for(r--;"0"===e.charAt(r);)r--;for(i-=t,a=[],n=0;t<=r;t++,n++)a[n]=+e.charAt(t)}return i>22&&(a=a.splice(0,21),o=i-1,i=1),{d:a,e:o,i:i}}(Math.abs(e)+""),a,t.minFrac,t.maxFrac);var l=i.d,u=i.i,d=i.e,p=[];for(s=l.reduce(function(e,t){return e&&!t},!0);u<0;)l.unshift(0),u++;u>0?p=l.splice(u,l.length):(p=l,l=[0]);var m=[];for(l.length>=t.lgSize&&m.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)m.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&m.unshift(l.join("")),c=m.join(n),p.length&&(c+=r+p.join("")),d&&(c+="e+"+d)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function rk(e,t,n,r){var a="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,a="-")),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),a+e}function r$(e,t,n,r,a){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),rk(o,t,r,a)}}function rA(e,t,n){return function(r,a){var i=r["get"+e]();return a[m((n?"STANDALONE":"")+(t?"SHORT":"")+e)][i]}}function rx(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function rT(e){return function(t){var n=rx(t.getFullYear());return rk(1+Math.round((+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n)/6048e5),e)}}function rN(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}rv.$inject=["$document"],ry.$inject=["$provide"],rw.$inject=["$locale"],rS.$inject=["$locale"];var rP={yyyy:r$("FullYear",4,0,!1,!0),yy:r$("FullYear",2,0,!0,!0),y:r$("FullYear",1,0,!1,!0),MMMM:rA("Month"),MMM:rA("Month",!0),MM:r$("Month",2,1),M:r$("Month",1,1),LLLL:rA("Month",!1,!0),dd:r$("Date",2),d:r$("Date",1),HH:r$("Hours",2),H:r$("Hours",1),hh:r$("Hours",2,-12),h:r$("Hours",1,-12),mm:r$("Minutes",2),m:r$("Minutes",1),ss:r$("Seconds",2),s:r$("Seconds",1),sss:r$("Milliseconds",3),EEEE:rA("Day"),EEE:rA("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n;return(r>=0?"+":"")+(rk(Math[r>0?"floor":"ceil"](r/60),2)+rk(Math.abs(r%60),2))},ww:rT(2),w:rT(1),G:rN,GG:rN,GGG:rN,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},rR=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,rL=/^-?\d+$/;function rD(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,a){var i,o,s="",c=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,V(n)&&(n=rL.test(n)?N(n):function(e){var n;if(n=e.match(t)){var r=new Date(0),a=0,i=0,o=n[8]?r.setUTCFullYear:r.setFullYear,s=n[8]?r.setUTCHours:r.setHours;n[9]&&(a=N(n[9]+n[10]),i=N(n[9]+n[11])),o.call(r,N(n[1]),N(n[2])-1,N(n[3]));var c=N(n[4]||0)-a,l=N(n[5]||0)-i,u=N(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(r,c,l,u,d),r}return e}(n)),U(n)&&(n=new Date(n)),!j(n)||!isFinite(n.getTime()))return n;for(;r;)(o=rR.exec(r))?r=(c=eu(c,o,1)).pop():(c.push(r),r=null);var l=n.getTimezoneOffset();return a&&(l=eg(a,l),n=ey(n,a,!0)),S(c,function(t){s+=(i=rP[t])?i(n,e.DATETIME_FORMATS,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function rI(){return function(e,t){return F(t)&&(t=2),ef(e,t)}}rD.$inject=["$locale"];var rO=I(p),rF=I(m);function rq(){return function(e,t,n){return P(t=Math.abs(Number(t))===1/0?Number(t):N(t))?e:(U(e)&&(e=e.toString()),w(e))?(n=(n=!n||isNaN(n)?0:N(n))<0?Math.max(0,e.length+n):n,t>=0)?rM(e,n,n+t):0===n?rM(e,t,e.length):rM(e,Math.max(0,n+t),n):e}}function rM(e,t,n){return V(e)?e.slice(t,n):f.call(e,t,n)}function rB(e){return function(r,i,o,s){if(null==r)return r;if(!w(r))throw a("orderBy")("notarray","Expected array but received: {0}",r);H(i)||(i=[i]),0===i.length&&(i=["+"]);var c=i.map(function(t){var n=1,r=D;if(K(t))r=t;else if(V(t)&&(("+"===t.charAt(0)||"-"===t.charAt(0))&&(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t)).constant)){var a=r();r=function(e){return e[a]}}return{get:r,descending:n}}),l=o?-1:1,u=K(s)?s:n,d=Array.prototype.map.call(r,function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:c.map(function(r){var a,i,o;return o=typeof(a=r.get(e)),null===a?(o="string",a="null"):"object"===o&&(K((i=a).valueOf)&&t(i=i.valueOf())||O(i)&&t(i=i.toString()),a=i),{value:a,type:o,index:n}})}});return d.sort(function(e,t){for(var r=0,a=c.length;r<a;r++){var i=u(e.predicateValues[r],t.predicateValues[r]);if(i)return i*c[r].descending*l}return(u(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*l}),r=d.map(function(e){return e.value})};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,r=e.type,a=t.type;if(r===a){var i=e.value,o=t.value;"string"===r?(i=i.toLowerCase(),o=o.toLowerCase()):"object"===r&&(M(i)&&(i=e.index),M(o)&&(o=t.index)),i!==o&&(n=i<o?-1:1)}else n=r<a?-1:1;return n}}function rV(e){return K(e)&&(e={link:e}),e.restrict=e.restrict||"AC",I(e)}rB.$inject=["$parse"];var rU=I({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===g.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),rj={};S(td,function(e,t){if("multiple"!==e){var n=tZ("ng-"+t),r=a;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&a(e,t,r)}),rj[n]=function(){return{restrict:"A",priority:100,link:r}}}function a(e,r,a){e.$watch(a[n],function(e){a.$set(t,!!e)})}}),S(tm,function(e,t){rj[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var a=r.ngPattern.match(l);if(a){r.$set("ngPattern",new RegExp(a[1],a[2]));return}}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),S(["src","srcset","href"],function(e){var t=tZ("ng-"+e);rj[t]=function(){return{priority:99,link:function(n,r,a){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===g.call(r.prop("href"))&&(s="xlinkHref",a.$attr[s]="xlink:href",o=null),a.$observe(t,function(t){if(!t){"href"===e&&a.$set(s,null);return}a.$set(s,t),i&&o&&r.prop(o,a[s])})}}}});var rH={$addControl:L,$$renameControl:function(e,t){e.$name=t},$removeControl:L,$setValidity:L,$setDirty:L,$setPristine:L,$setSubmitted:L},rz="ng-pending",rK="ng-submitted";function rW(e,t,n,r,a){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=a(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=rH,this.$$element=e,this.$$animate=r,rJ(this)}rW.$inject=["$element","$attrs","$scope","$animate","$interpolate"],rW.prototype={$rollbackViewValue:function(){S(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){S(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){eL(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],S(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),S(this.$error,function(t,n){this.$setValidity(n,null,e)},this),S(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),ea(this.$$controls,e),e.$$parentForm=rH},$setDirty:function(){this.$$animate.removeClass(this.$$element,aL),this.$$animate.addClass(this.$$element,aD),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,aL,aD+" "+rK),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,S(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){S(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,rK),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},rZ({clazz:rW,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(ea(r,n),0===r.length&&delete e[t])}});var rG=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:rW,compile:function(n,a){n.addClass(aL).addClass(aP);var i=a.name?"name":!!e&&!!a.ngForm&&"ngForm";return{pre:function(e,n,a,o){var s=o[0];if(!("action"in a)){var c=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",c),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",c)},0,!1)})}(o[1]||s.$$parentForm).$addControl(s);var l=i?r(s.$name):L;i&&(l(e,s),a.$observe(i,function(t){s.$name!==t&&(l(e,void 0),s.$$parentForm.$$renameControl(s,t),(l=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),l(e,void 0),T(s,rH)})}}}};function r(e){return""===e?n('this[""]').assign:n(e).assign||L}}]},rY=rG(),rQ=rG(!0);function rJ(e){e.$$classCache={},e.$$classCache[aR]=!(e.$$classCache[aP]=e.$$element.hasClass(aP))}function rZ(e){var t=e.clazz,n=e.set,r=e.unset;function a(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function i(e,t,n){a(e,aP+(t=t?"-"+eT(t,"-"):""),!0===n),a(e,aR+t,!1===n)}t.prototype.$setValidity=function(e,t,o){var s,c,l,u,d;F(t)?(c=this,c[l="$pending"]||(c[l]={}),n(c[l],e,o)):(u=this,u[d="$pending"]&&r(u[d],e,o),rX(u[d])&&(u[d]=void 0)),Q(t)?t?(r(this.$error,e,o),n(this.$$success,e,o)):(n(this.$error,e,o),r(this.$$success,e,o)):(r(this.$error,e,o),r(this.$$success,e,o)),this.$pending?(a(this,rz,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(a(this,rz,!1),this.$valid=rX(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid)),s=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),i(this,e,s),this.$$parentForm.$setValidity(e,s,this)}}function rX(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!1}return!0}var r0=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,r1=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,r2=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,r3=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,r4=/^(\d{4,})-(\d{2})-(\d{2})$/,r5=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,r6=/^(\d{4,})-W(\d\d)$/,r8=/^(\d{4,})-(\d\d)$/,r7=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,r9=eO();S("date,datetime-local,month,time,week".split(","),function(e){r9[e]=!0});var ae={text:function(e,t,n,r,a,i){an(e,t,n,r,a,i),at(r)},date:aa("date",r4,ar(r4,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":aa("datetimelocal",r5,ar(r5,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:aa("time",r7,ar(r7,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:aa("week",r6,function(e,t){if(j(e))return e;if(V(e)){r6.lastIndex=0;var n=r6.exec(e);if(n){var r=+n[1],a=+n[2],i=0,o=0,s=0,c=0,l=rx(r);return t&&(i=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,l.getDate()+(a-1)*7,i,o,s,c)}}return NaN},"yyyy-Www"),month:aa("month",r8,ar(r8,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,a,i){var o,s,c;ai(e,t,n,r),ao(r),an(e,t,n,r,a,i),(q(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||F(o)||e>=o},n.$observe("min",function(e){o=as(e),r.$validate()})),(q(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||F(s)||e<=s},n.$observe("max",function(e){s=as(e),r.$validate()})),(q(n.step)||n.ngStep)&&(r.$validators.step=function(e,t){return r.$isEmpty(t)||F(c)||al(t,o||0,c)},n.$observe("step",function(e){c=as(e),r.$validate()}))},url:function(e,t,n,r,a,i){an(e,t,n,r,a,i),at(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||r1.test(n)}},email:function(e,t,n,r,a,i){an(e,t,n,r,a,i),at(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||r2.test(n)}},radio:function(e,t,n,r){var a=!n.ngTrim||"false"!==X(n.ngTrim);F(n.name)&&t.attr("name",$()),t.on("click",function(e){var i;t[0].checked&&(i=n.value,a&&(i=X(i)),r.$setViewValue(i,e&&e.type))}),r.$render=function(){var e=n.value;a&&(e=X(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)},range:function(e,t,n,r,a,i){ai(e,t,n,r),ao(r),an(e,t,n,r,a,i);var o=r.$$hasNativeValidators&&"range"===t[0].type,s=o?0:void 0,c=o?100:void 0,l=o?1:void 0,u=t[0].validity,d=q(n.min),p=q(n.max),m=q(n.step),f=r.$render;function h(e,r){t.attr(e,n[e]),n.$observe(e,r)}r.$render=o&&q(u.rangeUnderflow)&&q(u.rangeOverflow)?function(){f(),r.$setViewValue(t.val())}:f,d&&(r.$validators.min=o?function(){return!0}:function(e,t){return r.$isEmpty(t)||F(s)||t>=s},h("min",function(e){if(s=as(e),!P(r.$modelValue)){if(o){var n=t.val();s>n&&(n=s,t.val(n)),r.$setViewValue(n)}else r.$validate()}})),p&&(r.$validators.max=o?function(){return!0}:function(e,t){return r.$isEmpty(t)||F(c)||t<=c},h("max",function(e){if(c=as(e),!P(r.$modelValue)){if(o){var n=t.val();c<n&&(t.val(c),n=c<s?s:c),r.$setViewValue(n)}else r.$validate()}})),m&&(r.$validators.step=o?function(){return!u.stepMismatch}:function(e,t){return r.$isEmpty(t)||F(l)||al(t,s||0,l)},h("step",function(e){l=as(e),P(r.$modelValue)||(o&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}))},checkbox:function(e,t,n,r,a,i,o,s){var c=au(s,e,"ngTrueValue",n.ngTrueValue,!0),l=au(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return es(e,c)}),r.$parsers.push(function(e){return e?c:l})},hidden:L,button:L,submit:L,reset:L,file:L};function at(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function an(e,t,n,r,a,i){var o,s=p(t[0].type);if(!a.android){var c=!1;t.on("compositionstart",function(){c=!0}),t.on("compositionend",function(){c=!1,l()})}var l=function(e){if(o&&(i.defer.cancel(o),o=null),!c){var a=t.val(),l=e&&e.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(a=X(a)),(r.$viewValue!==a||""===a&&r.$$hasNativeValidators)&&r.$setViewValue(a,l)}};if(a.hasEvent("input"))t.on("input",l);else{var d=function(e,t,n){o||(o=i.defer(function(){o=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||d(e,this,this.value)}),a.hasEvent("paste")&&t.on("paste cut drop",d)}t.on("change",l),r9[s]&&r.$$hasNativeValidators&&s===n.type&&t.on("keydown wheel mousedown",function(e){if(!o){var t=this[u],n=t.badInput,r=t.typeMismatch;o=i.defer(function(){o=null,(t.badInput!==n||t.typeMismatch!==r)&&l(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function ar(e,t){return function(n,r){var a,i;if(j(n))return n;if(V(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),r0.test(n))return new Date(n);if(e.lastIndex=0,a=e.exec(n))return a.shift(),i=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},S(a,function(e,n){n<t.length&&(i[t[n]]=+e)}),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function aa(e,t,n,r){return function(a,i,o,s,c,l,u){ai(a,i,o,s),an(a,i,o,s,c,l);var d,p,m,f=s&&s.$options.getOption("timezone");function h(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function v(e){return q(e)&&!j(e)?n(e)||void 0:e}s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,d);return f&&(r=ey(r,f)),r}}),s.$formatters.push(function(e){if(e&&!j(e))throw aM("datefmt","Expected `{0}` to be a date",e);return h(e)?((d=e)&&f&&(d=ey(d,f,!0)),u("date")(e,r,f)):(d=null,"")}),(q(o.min)||o.ngMin)&&(s.$validators.min=function(e){return!h(e)||F(p)||n(e)>=p},o.$observe("min",function(e){p=v(e),s.$validate()})),(q(o.max)||o.ngMax)&&(s.$validators.max=function(e){return!h(e)||F(m)||n(e)<=m},o.$observe("max",function(e){m=v(e),s.$validate()}))}}function ai(e,t,n,r){var a=t[0];(r.$$hasNativeValidators=M(a.validity))&&r.$parsers.push(function(e){var n=t.prop(u)||{};return n.badInput||n.typeMismatch?void 0:e})}function ao(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:r3.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!U(t))throw aM("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function as(e){return q(e)&&!U(e)&&(e=parseFloat(e)),P(e)?void 0:e}function ac(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function al(e,t,n){var r,a,i,o=Number(e),s=(0|(r=o))!==r,c=(0|(a=t))!==a,l=(0|(i=n))!==i;if(s||c||l){var u=Math.pow(10,Math.max(s?ac(o):0,c?ac(t):0,l?ac(n):0));o*=u,t*=u,n*=u,s&&(o=Math.round(o)),c&&(t=Math.round(t)),l&&(n=Math.round(n))}return(o-t)%n==0}function au(e,t,n,r,a){var i;if(q(r)){if(!(i=e(r)).constant)throw aM("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return i(t)}return a}var ad=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(a,i,o,s){s[0]&&(ae[p(o.type)]||ae.text)(a,i,o,s[0],t,e,n,r)}}}}],ap=/^(true|false|\d+)$/,am=function(){function e(e,t,n){var r=q(n)?n:9===i?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return ap.test(n.ngValue)?function(t,n,r){var a=t.$eval(r.ngValue);e(n,r,a)}:function(t,n,r){t.$watch(r.ngValue,function(t){e(n,r,t)})}}}},af=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=eF(e)})}}}}],ah=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,a){var i=e(r.attr(a.$attr.ngBindTemplate));t.$$addBindingInfo(r,i.expressions),r=r[0],a.$observe("ngBindTemplate",function(e){r.textContent=F(e)?"":e})}}}}],av=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,a){var i=t(a.ngBindHtml),o=t(a.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,a){n.$$addBindingInfo(r,a.ngBindHtml),t.$watch(o,function(){var n=i(t);r.html(e.getTrustedHtml(n)||"")})}}}}],ag=I({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function ay(e,t){var n;return e="ngClass"+e,["$parse",function(s){return{restrict:"AC",link:function(c,l,u){var d,p=u[e].trim(),m=":"===p.charAt(0)&&":"===p.charAt(1),f=s(p,m?o:i),h=l.data("$classCounts"),v=!0;function g(e,t){var n=[];return S(e,function(e){(t>0||h[e])&&(h[e]=(h[e]||0)+t,h[e]===+(t>0)&&n.push(e))}),n.join(" ")}function y(e){if(v===t){var n,i,o,s,c,l;o=r(n=a(d),i=a(e)),s=r(i,n),c=g(o,-1),l=g(s,1),u.$addClass(l),u.$removeClass(c)}d=e}h||(h=eO(),l.data("$classCounts",h)),"ngClass"!==e&&(n||(n=s("$index",function(e){return 1&e})),c.$watch(n,function(e){var n,r;e===t?(n=g(a(n=d),1),u.$addClass(n)):(r=g(a(r=d),-1),u.$removeClass(r)),v=e})),c.$watch(f,m?function(e){var t=i(e);t!==d&&y(t)}:y,m)}}}];function r(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var a=e[r],i=0;i<t.length;i++)if(a===t[i])continue e;n.push(a)}return n}function a(e){return e&&e.split(" ")}function i(e){var t=e;return H(e)?t=e.map(i).join(" "):M(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function o(e){var t=e;if(H(e))t=e.map(o);else if(M(e)){var n=!1;t=Object.keys(e).filter(function(t){var r=e[t];return!n&&F(r)&&(n=!0),r}),n&&t.push(void 0)}return t}}var ab=ay("",!0),a_=ay("Odd",0),aE=ay("Even",1),aw=rV({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),aS=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],aC={},ak={blur:!0,focus:!0};S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=tZ("ng-"+e);aC[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(a,i){var o=n(i[t]);return function(t,n){n.on(e,function(n){var a=function(){o(t,{$event:n})};ak[e]&&r.$$phase?t.$evalAsync(a):t.$apply(a)})}}}}]});var a$=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,a,i,o){var s,c,l;n.$watch(a.ngIf,function(n){n?c||o(function(n,i){c=i,n[n.length++]=t.$$createComment("end ngIf",a.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=eI(s.clone),e.leave(l).done(function(e){!1!==e&&(l=null)}),s=null))})}}}],aA=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_.noop,compile:function(r,a){var i=a.ngInclude||a.src,o=a.onload||"",s=a.autoscroll;return function(r,a,c,l,u){var d,p,m,f=0,h=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),m&&(n.leave(m).done(function(e){!1!==e&&(p=null)}),p=m,m=null)};r.$watch(i,function(i){var c=function(e){!1!==e&&q(s)&&(!s||r.$eval(s))&&t()},p=++f;i?(e(i,!0).then(function(e){if(!r.$$destroyed&&p===f){var t=r.$new();l.template=e;var s=u(t,function(e){h(),n.enter(e,null,a).done(c)});d=t,m=s,d.$emit("$includeContentLoaded",i),r.$eval(o)}},function(){r.$$destroyed||p!==f||(h(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(h(),l.template=null)})}}}}],ax=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,a,i){if(g.call(r[0]).match(/SVG/)){r.empty(),t(e2(i.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r});return}r.html(i.template),t(r.contents())(n)}}}],aT=rV({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),aN=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var a=n.ngList||", ",i="false"!==n.ngTrim,o=i?X(a):a;r.$parsers.push(function(e){if(!F(e)){var t=[];return e&&S(e.split(o),function(e){e&&t.push(i?X(e):e)}),t}}),r.$formatters.push(function(e){if(H(e))return e.join(a)}),r.$isEmpty=function(e){return!e||!e.length}}}},aP="ng-valid",aR="ng-invalid",aL="ng-pristine",aD="ng-dirty",aI="ng-untouched",aO="ng-touched",aF="ng-empty",aq="ng-not-empty",aM=a("ngModel");function aB(e,n,r,a,i,o,s,c,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(r.name||"",!1)(e),this.$$parentForm=rH,this.$options=t,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(r.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=r,this.$$element=a,this.$$animate=o,this.$$timeout=s,this.$$parse=i,this.$$q=c,this.$$exceptionHandler=n,rJ(this),function(e){e.$$scope.$watch(function(t){var n=e.$$ngModelGet(t);return n!==e.$modelValue&&(e.$modelValue==e.$modelValue||n==n)&&e.$$setModelValue(n),n})}(this)}aB.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],aB.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return K(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){K(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw aM("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,eb(this.$$element))},$render:L,$isEmpty:function(e){return F(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,aq),this.$$animate.addClass(this.$$element,aF)):(this.$$animate.removeClass(this.$$element,aF),this.$$animate.addClass(this.$$element,aq))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,aD),this.$$animate.addClass(this.$$element,aL)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,aL),this.$$animate.addClass(this.$$element,aD),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,aI,aO)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,aO,aI)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!P(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,a=this.$options.getOption("allowInvalid"),i=this;this.$$runValidators(t,e,function(e){a||n===e||(i.$modelValue=e?t:void 0,i.$modelValue!==r&&i.$$writeModelToScope())})}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var r,a,i,o,s=this.$$currentValidationRunId,c=this;if(r=c.$$parserName||"parse",(F(c.$$parserValid)?(l(r,null),false):(c.$$parserValid||(S(c.$validators,function(e,t){l(t,null)}),S(c.$asyncValidators,function(e,t){l(t,null)})),l(r,c.$$parserValid),!c.$$parserValid))||(a=!0,S(c.$validators,function(n,r){var i=!!n(e,t);a=a&&i,l(r,i)}),!a&&(S(c.$asyncValidators,function(e,t){l(t,null)}),1))){u(!1);return}function l(e,t){s===c.$$currentValidationRunId&&c.$setValidity(e,t)}function u(e){s===c.$$currentValidationRunId&&n(e)}i=[],o=!0,S(c.$asyncValidators,function(n,r){var a=n(e,t);if(!J(a))throw aM("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);l(r,void 0),i.push(a.then(function(){l(r,!0)},function(){o=!1,l(r,!1)}))}),i.length?c.$$q.all(i).then(function(){u(o)},L):u(!0)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!F(e)||void 0,this.$$parserValid){for(var n=0;n<this.$parsers.length;n++)if(F(e=this.$parsers[n](e))){this.$$parserValid=!1;break}}P(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,a=this.$options.getOption("allowInvalid");function i(){t.$modelValue!==r&&t.$$writeModelToScope()}this.$$rawModelValue=e,a&&(this.$modelValue=e,i()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(n){a||(t.$modelValue=n?e:void 0,i())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),S(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");U(t[e])?t=t[e]:U(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,L))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},rZ({clazz:aB,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var aV=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:aB,priority:1,compile:function(t){return t.addClass(aL).addClass(aI).addClass(aP),{pre:function(e,t,n,r){var a=r[0],i=r[1]||a.$$parentForm,o=r[2];o&&(a.$options=o.$options),a.$$initGetterSetters(),i.$addControl(a),n.$observe("name",function(e){a.$name!==e&&a.$$parentForm.$$renameControl(a,e)}),e.$on("$destroy",function(){a.$$parentForm.$removeControl(a)})},post:function(t,n,r,a){var i=a[0];function o(){i.$setTouched()}i.$$setUpdateOnEvents(),n.on("blur",function(){i.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}],aU=/(\s+|^)default(\s+|$)/;function aj(e){this.$$options=e}aj.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var n=!1;return S(e=T({},e),function(t,r){"$inherit"===t?"*"===r?n=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=X(t.replace(aU,function(){return e.updateOnDefault=!0," "})))},this),n&&(delete e["*"],az(e,this.$$options)),az(e,t.$$options),new aj(e)}},t=new aj({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var aH=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:t,n=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(n)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function az(e,t){S(t,function(t,n){q(e[n])||(e[n]=t)})}var aK=rV({terminal:!0,priority:1e3}),aW=a("ngOptions"),aG=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,aY=["$compile","$document","$parse",function(t,n,r){var a=e.document.createElement("option"),i=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=L},post:function(e,s,c,l){for(var u,d=l[0],p=l[1],m=c.multiple,f=0,h=s.children(),v=h.length;f<v;f++)if(""===h[f].value){d.hasEmptyOption=!0,d.emptyOption=h.eq(f);break}s.empty();var g=!!d.emptyOption;o(a.cloneNode(!1)).val("?");var y=function(e,t,n){var a=e.match(aG);if(!a)throw aW("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,eb(t));var i=a[5]||a[7],o=a[6],s=/ as /.test(a[0])&&a[1],c=a[9],l=r(a[2]?a[1]:i),u=s&&r(s)||l,d=c&&r(c),p=c?function(e,t){return d(n,t)}:function(e){return ty(e)},m=function(e,t){return p(e,b(e,t))},f=r(a[2]||a[1]),h=r(a[3]||""),v=r(a[4]||""),g=r(a[8]),y={},b=o?function(e,t){return y[o]=t,y[i]=e,y}:function(e){return y[i]=e,y};function _(e,t,n,r,a){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=a}function E(e){var t;if(!o&&w(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:c,getTrackByValue:m,getWatchables:r(g,function(e){for(var t=[],r=E(e=e||[]),i=r.length,o=0;o<i;o++){var s=e===r?o:r[o],c=e[s],l=b(c,s),u=p(c,l);if(t.push(u),a[2]||a[1]){var d=f(n,l);t.push(d)}if(a[4]){var m=v(n,l);t.push(m)}}return t}),getOptions:function(){for(var e=[],t={},r=g(n)||[],a=E(r),i=a.length,o=0;o<i;o++){var s=r===a?o:a[o],l=b(r[s],s),d=u(n,l),y=p(d,l),w=f(n,l),S=h(n,l),C=v(n,l),k=new _(y,d,w,S,C);e.push(k),t[y]=k}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[m(e)]},getViewValueFromOption:function(e){return c?ei(e.viewValue):e.viewValue}}}}}(c.ngOptions,s,e),b=n[0].createDocumentFragment();function _(e,t){var n,r,i=a.cloneNode(!1);t.appendChild(i),n=e,r=i,n.element=r,r.disabled=n.disabled,n.label!==r.label&&(r.label=n.label,r.textContent=n.label),r.value=n.selectValue}function E(e){var t=u.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}d.generateUnknownOptionValue=function(e){return"?"},m?(d.writeValue=function(e){if(u){var t=e&&e.map(E)||[];u.items.forEach(function(e){e.element.selected&&!er(t,e)&&(e.element.selected=!1)})}},d.readValue=function(){var e=s.val()||[],t=[];return S(e,function(e){var n=u.selectValueMap[e];n&&!n.disabled&&t.push(u.getViewValueFromOption(n))}),t},y.trackBy&&e.$watchCollection(function(){if(H(p.$viewValue))return p.$viewValue.map(function(e){return y.getTrackByValue(e)})},function(){p.$render()})):(d.writeValue=function(e){if(u){var t=s[0].options[s[0].selectedIndex],n=u.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(s[0].value!==n.selectValue&&(d.removeUnknownOption(),s[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):d.selectUnknownOrEmptyOption(e)}},d.readValue=function(){var e=u.selectValueMap[s.val()];return e&&!e.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),u.getViewValueFromOption(e)):null},y.trackBy&&e.$watch(function(){return y.getTrackByValue(p.$viewValue)},function(){p.$render()})),g&&(t(d.emptyOption)(e),s.prepend(d.emptyOption),8===d.emptyOption[0].nodeType?(d.hasEmptyOption=!1,d.registerOption=function(e,t){""===t.val()&&(d.hasEmptyOption=!0,d.emptyOption=t,d.emptyOption.removeClass("ng-scope"),p.$render(),t.on("$destroy",function(){var e=d.$isEmptyOptionSelected();d.hasEmptyOption=!1,d.emptyOption=void 0,e&&p.$render()}))}):d.emptyOption.removeClass("ng-scope")),e.$watchCollection(y.getWatchables,function(){var e=u&&d.readValue();if(u)for(var t=u.items.length-1;t>=0;t--){var n=u.items[t];q(n.group)?tc(n.element.parentNode):tc(n.element)}u=y.getOptions();var r={};if(u.items.forEach(function(e){var t;q(e.group)?((t=r[e.group])||(t=i.cloneNode(!1),b.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),_(e,t)):_(e,b)}),s[0].appendChild(b),p.$render(),!p.$isEmpty(e)){var a=d.readValue();(y.trackBy||m?es(e,a):e===a)||(p.$setViewValue(a),p.$render())}})}}}}],aQ=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,a=/^when(Minus)?(.+)$/;return{link:function(i,o,s){var c,l=s.count,u=s.$attr.when&&o.attr(s.$attr.when),d=s.offset||0,m=i.$eval(u)||{},f={},h=t.startSymbol()+l+"-"+d+t.endSymbol(),v=_.noop;function g(e){o.text(e||"")}S(s,function(e,t){var n=a.exec(t);n&&(m[(n[1]?"-":"")+p(n[2])]=o.attr(s.$attr[t]))}),S(m,function(e,n){f[n]=t(e.replace(r,h))}),i.$watch(l,function(t){var r=parseFloat(t),a=P(r);if(a||r in m||(r=e.pluralCat(r-d)),r!==c&&!(a&&P(c))){v();var o=f[r];F(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+u),v=L,g()):v=i.$watch(o,g),c=r}})}}}],aJ=["$parse","$animate","$compile",function(e,t,n){var r="$$NG_REMOVED",i=a("ngRepeat"),o=function(e,t,n,r,a,i,o){e[n]=r,a&&(e[a]=i),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=(1&t)==0)};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(a,s){var c,l,u,p,m=s.ngRepeat,f=n.$$createComment("end ngRepeat",m),h=m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",m);var v=h[1],g=h[2],y=h[3],b=h[4];if(!(h=v.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var _=h[3]||h[1],E=h[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var C={$id:ty};return b?c=e(b):(u=function(e,t){return ty(t)},p=function(e){return e}),function(e,n,a,s,h){c&&(l=function(t,n,r){return E&&(C[E]=t),C[_]=n,C.$index=r,c(e,C)});var v=eO();e.$watchCollection(g,function(a){var s,c,g,b,C,k,$,A,x,T,N,P,R,L=n[0],D=eO();if(y&&(e[y]=a),w(a))T=a,x=l||u;else for(var I in x=l||p,T=[],a)d.call(a,I)&&"$"!==I.charAt(0)&&T.push(I);for(c=0,P=Array(C=T.length);c<C;c++)if(k=a===T?c:T[c],$=a[k],v[A=x(k,$,c)])N=v[A],delete v[A],D[A]=N,P[c]=N;else if(D[A])throw S(P,function(e){e&&e.scope&&(v[e.id]=e)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",m,A,$);else P[c]={id:A,scope:void 0,clone:void 0},D[A]=!0;for(var O in v){if(R=eI((N=v[O]).clone),t.leave(R),R[0].parentNode)for(c=0,g=R.length;c<g;c++)R[c][r]=!0;N.scope.$destroy()}for(c=0;c<C;c++)if(k=a===T?c:T[c],$=a[k],(N=P[c]).scope){b=L;do b=b.nextSibling;while(b&&b[r]);N.clone[0]!==b&&t.move(eI(N.clone),null,L),L=(s=N).clone[s.clone.length-1],o(N.scope,c,_,$,E,k,C)}else h(function(e,n){N.scope=n;var r=f.cloneNode(!1);e[e.length++]=r,t.enter(e,null,L),L=r,N.clone=e,D[N.id]=N,o(N.scope,c,_,$,E,k,C)});v=D})}}}}],aZ="ng-hide",aX="ng-hide-animate",a0=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,aZ,{tempClasses:aX})})}}}],a1=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,aZ,{tempClasses:aX})})}}}],a2=rV(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&S(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),a3=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,a,i){var o=a.ngSwitch||a.on,s=[],c=[],l=[],u=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(o,function(n){for(var r,a;l.length;)e.cancel(l.pop());for(r=0,a=u.length;r<a;++r){var o=eI(c[r].clone);u[r].$destroy(),(l[r]=e.leave(o)).done(d(l,r))}c.length=0,u.length=0,(s=i.cases["!"+n]||i.cases["?"])&&S(s,function(n){n.transclude(function(r,a){u.push(a);var i=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen"),c.push({clone:r}),e.enter(r,i.parent(),i)})})})}}}],a4=rV({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,a){S(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:a,element:t})})}}),a5=rV({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,a){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:a,element:t})}}),a6=a("ngTransclude"),a8=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,a,i){if(!i)throw a6("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",eb(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var o=r.ngTransclude||r.ngTranscludeSlot;function s(){n(e,function(e){t.append(e)})}i(function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==eq||r.nodeValue.trim())return!0}}(e)?t.append(e):(s(),n.$destroy())},null,o),o&&!i.isSlotFilled(o)&&s()}}}}],a7=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,a=t[0].text;e.put(r,a)}}}}],a9={$setViewValue:L,$render:L};function ie(e,t){e.prop("selected",t),e.attr("selected",t)}var it=["$element","$scope",function(t,n){var r=this,a=new t_;r.selectValueMap={},r.ngModelCtrl=a9,r.multiple=!1,r.unknownOption=o(e.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),t.prepend(r.unknownOption),ie(r.unknownOption,!0),t.val(n)},r.updateUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),ie(r.unknownOption,!0),t.val(n)},r.generateUnknownOptionValue=function(e){return"? "+ty(e)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(t.val(""),ie(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&ie(r.emptyOption,!1)},n.$on("$destroy",function(){r.renderUnknownOption=L}),r.readValue=function(){var e=t.val(),n=e in r.selectValueMap?r.selectValueMap[e]:e;return r.hasOption(n)?n:null},r.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&ie(o(n),!1),r.hasOption(e)){r.removeUnknownOption();var a=ty(e);t.val(a in r.selectValueMap?a:e),ie(o(t[0].options[t[0].selectedIndex]),!0)}else r.selectUnknownOrEmptyOption(e)},r.addOption=function(e,t){if(8!==t[0].nodeType){eL(e,'"option value"'),""===e&&(r.hasEmptyOption=!0,r.emptyOption=t);var n=a.get(e)||0;a.set(e,n+1),s()}},r.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.delete(e),""===e&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):a.set(e,t-1))},r.hasOption=function(e){return!!a.get(e)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return t[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&t[0].options[t[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(e){null==e&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(e):r.renderUnknownOption(e)};var i=!1;function s(){i||(i=!0,n.$$postDigest(function(){i=!1,r.ngModelCtrl.$render()}))}var c=!1;function l(e){c||(c=!0,n.$$postDigest(function(){!n.$$destroyed&&(c=!1,r.ngModelCtrl.$setViewValue(r.readValue()),e&&r.ngModelCtrl.$render())}))}r.registerOption=function(e,t,n,a,i){if(n.$attr.ngValue){var o,c=NaN;n.$observe("value",function(e){var n,a=t.prop("selected");q(c)&&(r.removeOption(o),delete r.selectValueMap[c],n=!0),c=ty(e),o=e,r.selectValueMap[c]=e,r.addOption(e,t),t.attr("value",c),n&&a&&l()})}else a?n.$observe("value",function(e){r.readValue();var n,a=t.prop("selected");q(o)&&(r.removeOption(o),n=!0),o=e,r.addOption(e,t),n&&a&&l()}):i?e.$watch(i,function(e,a){n.$set("value",e);var i=t.prop("selected");a!==e&&r.removeOption(a),r.addOption(e,t),a&&i&&l()}):r.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(r.multiple?l(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=r.readValue(),t=n.value;r.removeOption(t),s(),(r.multiple&&e&&-1!==e.indexOf(t)||e===t)&&l(!0)})}}],ir=function(){return{restrict:"E",require:["select","?ngModel"],controller:it,priority:1,link:{pre:function(e,t,n,r){var a=r[0],i=r[1];if(!i){a.registerOption=L;return}if(a.ngModelCtrl=i,t.on("change",function(){a.removeUnknownOption(),e.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.multiple=!0,a.readValue=function(){var e=[];return S(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in a.selectValueMap?a.selectValueMap[n]:n)}}),e},a.writeValue=function(e){S(t.find("option"),function(t){var n=!!e&&(er(e,t.value)||er(e,a.selectValueMap[t.value]));n!==t.selected&&ie(o(t),n)})};var s,c=NaN;e.$watch(function(){c!==i.$viewValue||es(s,i.$viewValue)||(s=eM(i.$viewValue),i.$render()),c=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,r){var a=r[1];if(a){var i=r[0];a.$render=function(){i.writeValue(a.$viewValue)}}}}}},ia=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,a;return!q(n.ngValue)&&(q(n.value)?r=e(n.value,!0):(a=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var i="$selectController",o=t.parent(),s=o.data(i)||o.parent().data(i);s&&s.registerOption(e,t,n,r,a)}}}}],ii=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},io=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(V(e)&&e.length>0&&(e=RegExp("^"+e+"$")),e&&!e.test)throw a("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,eb(t));i=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||F(i)||i.test(t)}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var a=-1;n.$observe("maxlength",function(e){var t=N(e);a=P(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return a<0||r.$isEmpty(t)||t.length<=a}}}}},ic=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var a=0;n.$observe("minlength",function(e){a=N(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=a}}}}};if(e.angular.bootstrap){e.console;return}(function(){if(!eN){var t,n=el();(s=F(n)?e.jQuery:n?e[n]:void 0)&&s.fn.on?(o=s,T(s.fn,{scope:tu.scope,isolateScope:tu.isolateScope,controller:tu.controller,injector:tu.injector,inheritedData:tu.inheritedData}),t=s.cleanData,s.cleanData=function(e){for(var n,r,a=0;null!=(r=e[a]);a++)(n=s._data(r,"events"))&&n.$destroy&&s(r).triggerHandler("$destroy");t(e)}):o=e4,_.element=o,eN=!0}})(),T(_,{errorHandlingConfig:function(e){if(!M(e))return n;q(e.objectMaxDepth)&&(n.objectMaxDepth=r(e.objectMaxDepth)?e.objectMaxDepth:NaN)},bootstrap:eA,copy:ei,extend:T,merge:function(e){return x(e,f.call(arguments,1),!0)},equals:es,element:o,forEach:S,injector:tN,noop:L,bind:ep,toJson:ef,fromJson:eh,identity:D,isUndefined:F,isDefined:q,isString:V,isFunction:K,isObject:M,isNumber:U,isElement:et,isArray:H,version:{full:"1.6.9",major:1,minor:6,dot:9,codeName:"fiery-basilisk"},isDate:j,lowercase:p,uppercase:m,callbacks:{$$counter:0},getTestability:function(e){var t=_.element(e).injector();if(!t)throw b("test","no injector found for element argument to getTestability");return t.get("$$testability")},reloadWithDebugInfo:function(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()},$$minErr:a,$$csp:ec,$$encodeUriSegment:eS,$$encodeUriQuery:eC,$$stringify:eF}),(c=function(e){var t=a("$injector"),n=a("ng");function r(e,t,n){return e[t]||(e[t]=n())}var i=r(e,"angular",Object);return i.$$minErr=i.$$minErr||a,r(i,"module",function(){var e={};return function(a,i,o){var s={};return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)}(a,"module"),i&&e.hasOwnProperty(a)&&(e[a]=null),r(e,a,function(){if(!i)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",a);var e=[],r=[],c=[],l=d("$injector","invoke","push",r),u={_invokeQueue:e,_configBlocks:r,_runBlocks:c,info:function(e){if(q(e)){if(!M(e))throw n("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:i,name:a,provider:p("$provide","provider"),factory:p("$provide","factory"),service:p("$provide","service"),value:d("$provide","value"),constant:d("$provide","constant","unshift"),decorator:p("$provide","decorator",r),animation:p("$animateProvider","register"),filter:p("$filterProvider","register"),controller:p("$controllerProvider","register"),directive:p("$compileProvider","directive"),component:p("$compileProvider","component"),config:l,run:function(e){return c.push(e),this}};return o&&l(o),u;function d(t,n,r,a){return a||(a=e),function(){return a[r||"push"]([t,n,arguments]),u}}function p(t,n,r){return r||(r=e),function(e,i){return i&&K(i)&&(i.$$moduleName=a),r.push([t,n,arguments]),u}}})}})}(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:n7}),e.provider("$compile",tG).directive({a:rU,input:ad,textarea:ad,form:rY,script:a7,select:ir,option:ia,ngBind:af,ngBindHtml:av,ngBindTemplate:ah,ngClass:ab,ngClassEven:aE,ngClassOdd:a_,ngCloak:aw,ngController:aS,ngForm:rQ,ngHide:a1,ngIf:a$,ngInclude:aA,ngInit:aT,ngNonBindable:aK,ngPluralize:aQ,ngRepeat:aJ,ngShow:a0,ngStyle:a2,ngSwitch:a3,ngSwitchWhen:a4,ngSwitchDefault:a5,ngOptions:aY,ngTransclude:a8,ngModel:aV,ngList:aN,ngChange:ag,pattern:io,ngPattern:io,required:ii,ngRequired:ii,minlength:ic,ngMinlength:ic,maxlength:is,ngMaxlength:is,ngValue:am,ngModelOptions:aH}).directive({ngInclude:ax}).directive(rj).directive(aC),e.provider({$anchorScroll:tP,$animate:tq,$animateCss:tV,$$animateJs:tO,$$animateQueue:tF,$$AnimateRunner:tB,$$animateAsyncRun:tM,$browser:tj,$cacheFactory:tH,$controller:t3,$document:t4,$$isDocumentHidden:t5,$exceptionHandler:t6,$filter:ry,$$forceReflow:t8,$interpolate:nv,$interval:ng,$http:np,$httpParamSerializer:ni,$httpParamSerializerJQLike:no,$httpBackend:nf,$xhrFactory:nm,$jsonpCallbacks:ny,$location:nO,$log:nF,$parse:n1,$rootScope:n8,$q:n2,$$q:n3,$sce:ri,$sceDelegate:ra,$sniffer:ro,$templateCache:tz,$templateRequest:rc,$$testability:rl,$timeout:ru,$window:rh,$$rAF:n6,$$jqLite:tg,$$Map:tE,$$cookieReader:rg})}]).info({angularVersion:"1.6.9"}),_.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var r,a,i,o,s=(void 0===(i=n)&&(i=Math.min(-1==(a=(r=e+"").indexOf("."))?0:r.length-a-1,3)),o=Math.pow(10,i),{v:i,f:(e*o|0)%o});return 1==(0|e)&&0==s.v?t.ONE:t.OTHER}})}]),o(function(){!function(t,n){var r,a,i={};if(S(ek,function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,a=t.getAttribute(n))}),S(ek,function(e){var n,i=e+"app";!r&&(n=t.querySelector("["+i.replace(":","\\:")+"]"))&&(r=n,a=n.getAttribute(i))}),r){if(!e$){e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");return}i.strictDi=null!==function(e,t){var n,r,a=ek.length;for(r=0;r<a;++r)if(n=ek[r]+t,V(n=e.getAttribute(n)))return n;return null}(r,"strict-di"),n(r,a?[a]:[],i)}}(e.document,eA)})}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},695:function(e,t,n){n(426),e.exports=angular},70:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,(function(t){return e[t]}).bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(2),o=n(8),s=n(0),c=function(){var e,t;function n(e,t){var r=t.location,a=t.distance,i=t.threshold,s=t.maxPatternLength,c=t.caseSensitive,l=t.tokenSeparator,u=t.findAllMatches,d=t.minMatchCharLength,p=t.id,m=t.keys,f=t.shouldSort,h=t.getFn,v=t.sortFn,g=t.tokenize,y=t.matchAllTokens,b=t.includeMatches,_=t.includeScore,E=t.verbose;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.options={location:void 0===r?0:r,distance:void 0===a?100:a,threshold:void 0===i?.6:i,maxPatternLength:void 0===s?32:s,isCaseSensitive:void 0!==c&&c,tokenSeparator:void 0===l?/ +/g:l,findAllMatches:void 0!==u&&u,minMatchCharLength:void 0===d?1:d,id:void 0===p?null:p,keys:void 0===m?[]:m,includeMatches:void 0!==b&&b,includeScore:void 0!==_&&_,shouldSort:void 0===f||f,getFn:void 0===h?o:h,sortFn:void 0===v?function(e,t){return e.score-t.score}:v,verbose:void 0!==E&&E,tokenize:void 0!==g&&g,matchAllTokens:void 0!==y&&y},this.setCollection(e)}return e=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,a=n.fullSearcher,i=this._search(r,a),o=i.weights,s=i.results;return this._computeScore(o,s),this.options.shouldSort&&this._sort(s),t.limit&&"number"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,a=n.length;r<a;r+=1)t.push(new i(n[r],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},a=[];if("string"==typeof n[0]){for(var i=0,o=n.length;i<o;i+=1)this._analyze({key:"",value:n[i],record:i,index:i},{resultMap:r,results:a,tokenSearchers:e,fullSearcher:t});return{weights:null,results:a}}for(var s={},c=0,l=n.length;c<l;c+=1)for(var u=n[c],d=0,p=this.options.keys.length;d<p;d+=1){var m=this.options.keys[d];if("string"!=typeof m){if(s[m.name]={weight:1-m.weight||1},m.weight<=0||m.weight>1)throw Error("Key weight has to be > 0 and <= 1");m=m.name}else s[m]={weight:1};this._analyze({key:m,value:this.options.getFn(u,m),record:u,index:c},{resultMap:r,results:a,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:a}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,a=void 0===r?-1:r,i=e.value,o=e.record,c=e.index,l=t.tokenSearchers,u=void 0===l?[]:l,d=t.fullSearcher,p=void 0===d?[]:d,m=t.resultMap,f=void 0===m?{}:m,h=t.results,v=void 0===h?[]:h;if(null!=i){var g=!1,y=-1,b=0;if("string"==typeof i){this._log("\nKey: ".concat(""===n?"-":n));var _=p.search(i);if(this._log('Full text: "'.concat(i,'", score: ').concat(_.score)),this.options.tokenize){for(var E=i.split(this.options.tokenSeparator),w=[],S=0;S<u.length;S+=1){var C=u[S];this._log('\nPattern: "'.concat(C.pattern,'"'));for(var k=!1,$=0;$<E.length;$+=1){var A=E[$],x=C.search(A),T={};x.isMatch?(T[A]=x.score,g=!0,k=!0,w.push(x.score)):(T[A]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'.concat(A,'", score: ').concat(T[A]))}k&&(b+=1)}y=w[0];for(var N=w.length,P=1;P<N;P+=1)y+=w[P];y/=N,this._log("Token score average:",y)}var R=_.score;y>-1&&(R=(R+y)/2),this._log("Score average:",R);var L=!this.options.tokenize||!this.options.matchAllTokens||b>=u.length;if(this._log("\nCheck Matches: ".concat(L)),(g||_.isMatch)&&L){var D=f[c];D?D.output.push({key:n,arrayIndex:a,value:i,score:R,matchedIndices:_.matchedIndices}):(f[c]={item:o,output:[{key:n,arrayIndex:a,value:i,score:R,matchedIndices:_.matchedIndices}]},v.push(f[c]))}}else if(s(i))for(var I=0,O=i.length;I<O;I+=1)this._analyze({key:n,arrayIndex:I,value:i[I],record:o,index:c},{resultMap:f,results:v,tokenSearchers:u,fullSearcher:p})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var a=t[n].output,i=a.length,o=1,s=1,c=0;c<i;c+=1){var l=e?e[a[c].key].weight:1,u=(1===l?a[c].score:a[c].score||.001)*l;1!==l?s=Math.min(s,u):(a[c].nScore=u,o*=u)}t[n].score=1===s?o:s,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})),n=null}var a=[];this.options.includeMatches&&a.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,a=n.length;r<a;r+=1){var i=n[r];if(0!==i.matchedIndices.length){var o={indices:i.matchedIndices,value:i.value};i.key&&(o.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(o.arrayIndex=i.arrayIndex),t.matches.push(o)}}}),this.options.includeScore&&a.push(function(e,t){t.score=e.score});for(var i=0,o=e.length;i<o;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),a.length){for(var c={item:s.item},l=0,u=a.length;l<u;l+=1)a[l](s,c);t.push(c)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}],a(n.prototype,e),t&&a(n,t),n}();e.exports=c},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(3),i=n(4),o=n(7),s=function(){var e,t;function n(e,t){var r=t.location,a=t.distance,i=t.threshold,s=t.maxPatternLength,c=void 0===s?32:s,l=t.isCaseSensitive,u=t.tokenSeparator,d=t.findAllMatches,p=t.minMatchCharLength;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.options={location:void 0===r?0:r,distance:void 0===a?100:a,threshold:void 0===i?.6:i,maxPatternLength:c,isCaseSensitive:void 0!==l&&l,tokenSeparator:void 0===u?/ +/g:u,findAllMatches:void 0!==d&&d,minMatchCharLength:void 0===p?1:p},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=c&&(this.patternAlphabet=o(this.pattern))}return e=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return a(e,this.pattern,r);var o=this.options,s=o.location,c=o.distance,l=o.threshold,u=o.findAllMatches,d=o.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:l,findAllMatches:u,minMatchCharLength:d})}}],r(n.prototype,e),t&&r(n,t),n}();e.exports=s},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,a=new RegExp(t.replace(n,"\\$&").replace(r,"|")),i=e.match(a),o=!!i,s=[];if(o)for(var c=0,l=i.length;c<l;c+=1){var u=i[c];s.push([e.indexOf(u),u.length-1])}return{score:o?.5:1,isMatch:o,matchedIndices:s}}},function(e,t,n){var r=n(5),a=n(6);e.exports=function(e,t,n,i){for(var o=i.location,s=i.distance,c=void 0===s?100:s,l=i.threshold,u=i.findAllMatches,d=void 0!==u&&u,p=i.minMatchCharLength,m=void 0===o?0:o,f=e.length,h=void 0===l?.6:l,v=e.indexOf(t,m),g=t.length,y=[],b=0;b<f;b+=1)y[b]=0;-1!==v&&(h=Math.min(r(t,{errors:0,currentLocation:v,expectedLocation:m,distance:c}),h),-1!==(v=e.lastIndexOf(t,m+g))&&(h=Math.min(r(t,{errors:0,currentLocation:v,expectedLocation:m,distance:c}),h))),v=-1;for(var _=[],E=1,w=g+f,S=1<<(g<=31?g-1:30),C=0;C<g;C+=1){for(var k=0,$=w;k<$;)r(t,{errors:C,currentLocation:m+$,expectedLocation:m,distance:c})<=h?k=$:w=$,$=Math.floor((w-k)/2+k);w=$;var A=Math.max(1,m-$+1),x=d?f:Math.min(m+$,f)+g,T=Array(x+2);T[x+1]=(1<<C)-1;for(var N=x;N>=A;N-=1){var P=N-1,R=n[e.charAt(P)];if(R&&(y[P]=1),T[N]=(T[N+1]<<1|1)&R,0!==C&&(T[N]|=(_[N+1]|_[N])<<1|1|_[N+1]),T[N]&S&&(E=r(t,{errors:C,currentLocation:P,expectedLocation:m,distance:c}))<=h){if(h=E,(v=P)<=m)break;A=Math.max(1,2*m-v)}}if(r(t,{errors:C+1,currentLocation:m,expectedLocation:m,distance:c})>h)break;_=T}return{isMatch:v>=0,score:0===E?.001:E,matchedIndices:a(y,void 0===p?1:p)}}},function(e,t){e.exports=function(e,t){var n=t.errors,r=t.currentLocation,a=t.expectedLocation,i=t.distance,o=void 0===i?100:i,s=(void 0===n?0:n)/e.length,c=Math.abs((void 0===a?0:a)-(void 0===r?0:r));return o?s+c/o:c?1:s}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,a=-1,i=0,o=e.length;i<o;i+=1){var s=e[i];s&&-1===r?r=i:s||-1===r||((a=i-1)-r+1>=t&&n.push([r,a]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var a=0;a<n;a+=1)t[e.charAt(a)]|=1<<n-a-1;return t}},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,a){if(n){var i=n.indexOf("."),o=n,s=null;-1!==i&&(o=n.slice(0,i),s=n.slice(i+1));var c=t[o];if(null!=c){if(s||"string"!=typeof c&&"number"!=typeof c){if(r(c))for(var l=0,u=c.length;l<u;l+=1)e(c[l],s,a);else s&&e(c,s,a)}else a.push(c.toString())}}else a.push(t);return a}(e,t,[])}}])},640:function(e){self,e.exports=function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return x}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=function(e){function t(t,n,r,a,i){var o=this.constructor,s=e.call(this,"Buya error: ".concat(t,".").concat(n,": ").concat(r))||this;return s.category=t,s.code=n,s.message=r,s.shouldRetry=a,s.data=i,s.name="BuyaError",s.__proto__=o.prototype,s}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.toJSON=function(){return{category:this.category,code:this.code,message:this.message,should_retry:this.shouldRetry,data:this.data}},t}(Error);function i(e,t){var n;return new a(e.category,e.code,null!==(n=e.message)&&void 0!==n?n:t,void 0===e.should_retry||e.should_retry,e.data)}var o=function(){function e(e,t,n,r){var a=this;this.$window=e,this.id=t,this.targetOrigin=n,this.target=r,this.onMessage=null,this.listener=function(e){if(null===a.onMessage)throw Error("Unexpected error: Received a message but there is no callback.");if("*"===a.targetOrigin||a.targetOrigin===e.origin){var t,n=e.data;if("string"==typeof n){try{t=JSON.parse(n)}catch(e){return}"object"==typeof t&&t.messageBusId===a.id&&a.onMessage(t.message)}}}}return e.prototype.start=function(e){this.onMessage=e,this.$window.addEventListener("message",this.listener)},e.prototype.stop=function(){this.$window.removeEventListener("message",this.listener),this.onMessage=null},e.prototype.message=function(e){var t=JSON.stringify({message:e,messageBusId:this.id});this.target.postMessage(t,this.targetOrigin)},e}();function s(){var e;try{e=crypto}catch(t){try{e=msCrypto}catch(e){}}return e&&e.getRandomValues?"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(t){var n=e.getRandomValues(new Uint8Array(1))[0],r=parseInt(t,10);return(r^n&15>>r/4).toString(16)}):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)})}var c=["pan","exp","cvv","personal_id","track2"],l=setTimeout;function u(e){return!!(e&&void 0!==e.length)}function d(){}function p(e){if(!(this instanceof p))throw TypeError("Promises must be constructed via new");if("function"!=typeof e)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(e,this)}function m(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,p._immediateFn(function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{n=r(e._value)}catch(e){return void h(t.promise,e)}f(t.promise,n)}else(1===e._state?f:h)(t.promise,e._value)})):e._deferreds.push(t)}function f(e,t){try{if(t===e)throw TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof p)return e._state=3,e._value=t,void v(e);if("function"==typeof n)return void y(function(){n.apply(t,arguments)},e)}e._state=1,e._value=t,v(e)}catch(t){h(e,t)}}function h(e,t){e._state=2,e._value=t,v(e)}function v(e){2===e._state&&0===e._deferreds.length&&p._immediateFn(function(){e._handled||p._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)m(e,e._deferreds[t]);e._deferreds=null}function g(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function y(e,t){var n=!1;try{e(function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,h(t,e))})}catch(e){if(n)return;n=!0,h(t,e)}}p.prototype.catch=function(e){return this.then(null,e)},p.prototype.then=function(e,t){var n=new this.constructor(d);return m(this,new g(e,t,n)),n},p.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},p.all=function(e){return new p(function(t,n){if(!u(e))return n(TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var a=r.length,i=0;i<r.length;i++)(function e(i,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(t){e(i,t)},n)}r[i]=o,0==--a&&t(r)}catch(e){n(e)}})(i,r[i])})},p.allSettled=function(e){return new this(function(t,n){if(!e||void 0===e.length)return n(TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var a=r.length,i=0;i<r.length;i++)!function e(n,i){if(i&&("object"==typeof i||"function"==typeof i)){var o=i.then;if("function"==typeof o)return void o.call(i,function(t){e(n,t)},function(e){r[n]={status:"rejected",reason:e},0==--a&&t(r)})}r[n]={status:"fulfilled",value:i},0==--a&&t(r)}(i,r[i])})},p.resolve=function(e){return e&&"object"==typeof e&&e.constructor===p?e:new p(function(t){t(e)})},p.reject=function(e){return new p(function(t,n){n(e)})},p.race=function(e){return new p(function(t,n){if(!u(e))return n(TypeError("Promise.race accepts an array"));for(var r=0,a=e.length;r<a;r++)p.resolve(e[r]).then(t,n)})},p._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},p._unhandledRejectionFn=function(e){};var b="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0,_=(null==b?void 0:b.Promise)&&b.Promise.race&&b.Promise.prototype.finally?b.Promise:p;function E(e){throw Error("Unexpected object: ".concat(e))}function w(e){try{t=new URL(e).origin}catch(e){}if(t)return t;var t,n=document.createElement("a");return n.href=e,void 0!==n.origin?n.origin:"http:"===n.protocol&&"80"===n.port||"https:"===n.protocol&&"443"===n.port?"".concat(n.protocol,"//").concat(n.hostname):"".concat(n.protocol,"//").concat(n.hostname,":").concat(n.port)}function S(e,t,n,r,a,i,o){var s=e.createElement("iframe");if(null!==t&&(s.name=t),null!==n&&(s.id=n),null!==o&&s.sandbox)try{for(var c=0;c<o.length;c++){var l=o[c];s.sandbox.add(l)}}catch(e){try{s.sandbox=o.join(" ")}catch(e){}}return null!==r&&(s.src=r),s.setAttribute("allowtransparency","true"),s.setAttribute("frameborder","0"),s.setAttribute("scrolling","no"),s.style.display="block",s.style.width=a,s.style.height=i,s}function C(e,t,n){return new _(function(r,i){var o=setTimeout(function(){i(new a("client","timeout","Timeout loading ".concat(t," after ").concat(n,"ms."),!0,null))},n);e.addEventListener("load",function(){clearTimeout(o),r(e)})})}var k="/session/hostedfield/",$=function(){function e(e,t,n){var a=this;this.$window=e,this.buyaBaseUrl=t,this.buyaClientToken=n,this.state={status:"pristine"},this.attachedFrames=[],this.onMessage=function(e){switch(e.type){case"init:failed":"initializing-hosted-fields"===a.state.status&&a.state.rejectInitialization(i(e.error,"Hosted fields initialization failed."));break;case"state:changed":switch(a.state.status){case"initializing-hosted-fields":a.state.resolveInitialization({status:e.state.status,valid:e.state.valid,error:e.state.error?i(e.state.error,"Session update failed."):null,submitRequested:!1,fields:e.state.fields}),a.state={status:"ready",leaderFrameMessageBus:a.state.leaderFrameMessageBus,sessionUpdateState:{status:"waiting_for_input"}};break;case"ready":switch(a.state.sessionUpdateState.status){case"waiting_for_input":break;case"requesting_session_update":switch(e.state.status){case"updating_session":a.state=r(r({},a.state),{sessionUpdateState:{status:"updating_session",resolveUpdateSession:a.state.sessionUpdateState.resolveUpdateSession,rejectUpdateSession:a.state.sessionUpdateState.rejectUpdateSession}});break;case"waiting_for_input":break;default:E(e.state.status)}break;case"updating_session":switch(e.state.status){case"updating_session":break;case"waiting_for_input":var t=e.state.error;null!==t?a.state.sessionUpdateState.rejectUpdateSession(i(t,"Session update failed.")):a.state.sessionUpdateState.resolveUpdateSession(),a.state=r(r({},a.state),{sessionUpdateState:{status:"waiting_for_input"}})}break;default:E(a.state.sessionUpdateState)}a.onStateChangedListener&&a.onStateChangedListener({status:e.state.status,valid:e.state.valid,error:e.state.error?i(e.state.error,"Session update failed."):null,submitRequested:e.state.submitRequested,fields:e.state.fields});break;case"pristine":case"uninitialized":break;default:E(a.state)}}},this.buyaOrigin=w(t),this.clientIntegrationId=s().replace("-","")}return e.prototype.init=function(e){for(var t=this,n=[],r=0,i=Object.keys(e.fields);r<i.length;r++){var s=i[r];if(-1===c.indexOf(s))throw Error('Failed to create hosted fields: unrecognized field "'.concat(s,'"'));n.push([s,e.fields[s]])}var l=new _(function(r,i){t.createHostedFields(n,t.clientIntegrationId).then(function(){return t.createLeader(t.clientIntegrationId)}).then(function(a){var s,c=new o(t.$window,t.clientIntegrationId,t.buyaOrigin,a.contentWindow.window);c.start(t.onMessage),t.state={status:"initializing-hosted-fields",leaderFrameMessageBus:c,resolveInitialization:r,rejectInitialization:i};for(var l={},u=0;u<n.length;u++){var d=n[u],p=d[0],m=d[1];l[p]=null!==(s=m.config)&&void 0!==s?s:{}}t.sendCommand({type:"init",sessionId:e.sessionId,fields:l,stylesConfig:e.styles})}).catch(function(e){"uninitialized"!==t.state.status&&(e instanceof a||(e=new a("client","unknown","error: ".concat(JSON.stringify(e)),!0,null)),i(e))})}),u=void 0===e.initTimeout?15e3:e.initTimeout,d=new _(function(e,n){setTimeout(function(){"uninitialized"!==t.state.status&&n(new a("client","timeout","Hosted fields initialization timed out after ".concat(u,"ms."),!0,null))},u)});return _.race([l,d]).catch(function(e){throw t.teardown(),e})},e.prototype.teardown=function(){switch(this.state.status){case"pristine":return this.cleanupFrames(),void(this.state={status:"uninitialized"});case"initializing-hosted-fields":case"ready":this.state.leaderFrameMessageBus.stop(),this.cleanupFrames(),this.state={status:"uninitialized"};break;case"uninitialized":return;default:E(this.state)}},e.prototype.cleanupFrames=function(){for(var e;this.attachedFrames.length>0;){var t=this.attachedFrames.pop();null===(e=t.parentNode)||void 0===e||e.removeChild(t)}},e.prototype.createLeader=function(e){var t=S(this.$window.document,null,null,"".concat(this.buyaBaseUrl).concat(k,"leader#cid=").concat(e,"&pk=").concat(this.buyaClientToken),"0","0",["allow-scripts","allow-same-origin"]);return this.$window.document.body.appendChild(t),this.attachedFrames.push(t),C(t,"hosted fields iframe",1e4)},e.prototype.createHostedFieldIframe=function(e,t,n){var r=t.element,a=S(this.$window.document,null,null,"".concat(this.buyaBaseUrl).concat(k,"field#cid=").concat(n),"100%","100%",["allow-scripts","allow-same-origin","allow-forms"]);return a.name=e,r.appendChild(a),this.attachedFrames.push(a),C(a,"hosted field ".concat(e," iframe"),1e4)},e.prototype.createHostedFields=function(e,t){var n=this;if(0===e.length)return _.resolve([]);var r=e[0],a=r[0],i=r[1],o=e.slice(1),s=this.createHostedFieldIframe(a,i,t),c=new _(function(e){return setTimeout(e,200)});return _.race([c,s]).then(function(){return _.all([s].concat(o.map(function(e){var r=e[0],a=e[1];return n.createHostedFieldIframe(r,a,t)})))})},e.prototype.sendCommand=function(e){switch(this.state.status){case"pristine":case"uninitialized":return;case"initializing-hosted-fields":case"ready":break;default:E(this.state)}this.state.leaderFrameMessageBus.message(e)},e.prototype.onStateChange=function(e){var t=this;return this.onStateChangedListener=e,function(){t.onStateChangedListener=void 0}},e.prototype.focusInput=function(e){this.sendCommand({type:"focus-input",name:e})},e.prototype.updateSession=function(){var e=this;return new _(function(t,n){return"ready"!==e.state.status?n(new a("client","state_error","Can't update session. Not initialized yet.",!0,null)):"requesting_session_update"===e.state.sessionUpdateState.status||"updating_session"===e.state.sessionUpdateState.status?n(new a("client","state_error","Can't update session. A session update is already in progress.",!1,null)):(e.sendCommand({type:"update-session"}),void(e.state=r(r({},e.state),{sessionUpdateState:{status:"requesting_session_update",resolveUpdateSession:t,rejectUpdateSession:n}})))})},e}(),A=function(){function e(e,t,n){this.$window=e,this.buyaBaseUrl=t,this.buyaClientToken=n,this.buyaOrigin=w(t)}return e.prototype.handleThreeDSAction=function(e){var t,n,r,a=this,c=s().replace("-",""),l=((t=this.$window.document.createElement("div")).style.position="fixed",t.style.top="0",t.style.right="0",t.style.bottom="0",t.style.left="0",t.style.backgroundColor="rgba(0, 0, 0, 0.3)",t.style.zIndex="2147483647",t),u=S(this.$window.document,null,null,e.url+"#cid=".concat(c,"&pk=").concat(this.buyaClientToken),"100%","100%",["allow-forms","allow-scripts","allow-same-origin","allow-pointer-lock"]);try{u.allowFullscreen=!1}catch(e){}try{u.allowPaymentRequest=!1}catch(e){}try{u.allow="payment *; public-key-credentials *"}catch(e){}var d=new _(function(e,t){n=e,r=t});l.appendChild(u),this.$window.document.body.appendChild(l);var p=new o(this.$window,c,this.buyaOrigin,u.contentWindow.window);return p.start(function(e){var t;if("state:changed"===e.type){if(null!==e.state.error)return void r(i(e.state.error,"3-D Secure authentication failed."));var a=null===(t=e.state.payment.authentication)||void 0===t?void 0:t.three_d_s;if(!a)return;switch(a.status){case"pending_three_d_s_method":case"pending_authenticate":case"pending_challenge":break;case"authenticated":case"not_authenticated":case"failed":n(e.state.payment);break;default:a.status}}else e.type}),{promise:C(u,"threeds iframe",1e4).then(function(){return d}).finally(function(){p.stop(),a.$window.document.body.removeChild(l)}),cancel:function(){p.message({type:"cancel"})}}},e.prototype.handleAction=function(e){switch(e.type){case"three_d_s":return this.handleThreeDSAction(e);case"pass_to_device":return{promise:_.reject(new a("client","unsupported","The pass_to_device action must be handled manually.",!1,null)),cancel:function(){return null}};default:return{promise:_.reject(new a("client","invalid_argument","Unknown action ".concat(e),!1,null)),cancel:function(){return null}}}},e}(),x=function(){function e(e){if(!e.baseUrl||"string"!=typeof e.baseUrl||"http"!==e.baseUrl.substring(0,4))throw new a("client","invalid_argument","buya.client.create() requires the Buya base URL. The base URL looks like `https://api.buya.co.il`.",!1,null);if(!e.clientToken||"string"!=typeof e.clientToken||"buyapk_"!==e.clientToken.substring(0,7))throw new a("client","invalid_argument","buya.client.create() requires your merchant client token. Client tokens look like `buyapk_a0B1c2D3e4F5g6H7i8J9k0L1m2N`.)",!1,null);this.baseUrl=e.baseUrl,this.clientToken=e.clientToken,this.$window=e.window||window}return e.prototype.hostedFields=function(){return new $(this.$window,this.baseUrl,this.clientToken)},e.prototype.payments=function(){return new A(this.$window,this.baseUrl,this.clientToken)},e}();return t.default}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e,t,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g,y,b,_,E,w,S,C,k,$,A,x,T,N,P,R,L,D,I,O,F,q,M,B,V,U,j,H,z,K,W,G,Y,Q,J,Z,X,ee,et,en,er,ea,ei,eo,es,ec,el,eu,ed,ep,em,ef,eh,ev,eg,ey,eb,e_,eE,ew,eS,eC,ek,e$,eA,ex,eT,eN,eP,eR,eL=function(e,t){return(eL=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function eD(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}eL(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var eI=function(){return(eI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function eO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function eF(e,t,n){if(n||2==arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var eq=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},eM=function(e){return new this(function(t,n){if(!(e&&void 0!==e.length))return n(TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var a=r.length,i=0;i<r.length;i++)!function e(n,i){if(i&&("object"==typeof i||"function"==typeof i)){var o=i.then;if("function"==typeof o){o.call(i,function(t){e(n,t)},function(e){r[n]={status:"rejected",reason:e},0==--a&&t(r)});return}}r[n]={status:"fulfilled",value:i},0==--a&&t(r)}(i,r[i])})},eB=setTimeout;function eV(e){return!!(e&&void 0!==e.length)}function eU(){}function ej(e){if(!(this instanceof ej))throw TypeError("Promises must be constructed via new");if("function"!=typeof e)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],eY(e,this)}function eH(e,t){for(;3===e._state;)e=e._value;if(0===e._state){e._deferreds.push(t);return}e._handled=!0,ej._immediateFn(function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null===r){(1===e._state?ez:eK)(t.promise,e._value);return}try{n=r(e._value)}catch(e){eK(t.promise,e);return}ez(t.promise,n)})}function ez(e,t){try{if(t===e)throw TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof ej){e._state=3,e._value=t,eW(e);return}if("function"==typeof n){eY(function(){n.apply(t,arguments)},e);return}}e._state=1,e._value=t,eW(e)}catch(t){eK(e,t)}}function eK(e,t){e._state=2,e._value=t,eW(e)}function eW(e){2===e._state&&0===e._deferreds.length&&ej._immediateFn(function(){e._handled||ej._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)eH(e,e._deferreds[t]);e._deferreds=null}function eG(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function eY(e,t){var n=!1;try{e(function(e){n||(n=!0,ez(t,e))},function(e){n||(n=!0,eK(t,e))})}catch(e){if(n)return;n=!0,eK(t,e)}}ej.prototype.catch=function(e){return this.then(null,e)},ej.prototype.then=function(e,t){var n=new this.constructor(eU);return eH(this,new eG(e,t,n)),n},ej.prototype.finally=eq,ej.all=function(e){return new ej(function(t,n){if(!eV(e))return n(TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var a=r.length,i=0;i<r.length;i++)!function e(i,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s){s.call(o,function(t){e(i,t)},n);return}}r[i]=o,0==--a&&t(r)}catch(e){n(e)}}(i,r[i])})},ej.allSettled=eM,ej.resolve=function(e){return e&&"object"==typeof e&&e.constructor===ej?e:new ej(function(t){t(e)})},ej.reject=function(e){return new ej(function(t,n){n(e)})},ej.race=function(e){return new ej(function(t,n){if(!eV(e))return n(TypeError("Promise.race accepts an array"));for(var r=0,a=e.length;r<a;r++)ej.resolve(e[r]).then(t,n)})},ej._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){eB(e,0)},ej._unhandledRejectionFn=function(e){};var eQ=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("unable to locate global object")}();"function"!=typeof eQ.Promise?eQ.Promise=ej:eQ.Promise.prototype.finally?eQ.Promise.allSettled||(eQ.Promise.allSettled=eM):eQ.Promise.prototype.finally=eq;var eJ=n(695),eZ=n.n(eJ);n(711),n(590);var eX=function(){function e(e){this.$q=e,this.name="Console",this.hasPrinter=!0}return e.$inject=["$q"],e.prototype.getStatus=function(){return this.$q.resolve("normal")},e.prototype.print=function(e){for(var t=0,n=e.items;t<n.length;t++){var r=n[t];switch(r.type){case"blank":case"qr":break;case"text":var a=[];switch(r.size){case"large":a.push("font-size: 1.1rem");break;case"x-large":a.push("font-size: 1.5rem")}switch(r.font){case"monospace":a.push("font-family: monospace");break;case"serif":a.push('font-familty: "serif"');break;case"sans-serif":a.push('font-familty: "sans-serif"')}break;default:r.type}}return new this.$q(function(e){setTimeout(e,1e3)})},e}();function e0(){if("wposPlugin"in window)return window.wposPlugin}function e1(){return navigator.userAgent.indexOf("WPOS-3")>-1&&void 0!==e0()?tl.Wpos3:navigator.userAgent.indexOf("WPOS-TAB")>-1&&void 0!==e0()?tl.WposTab:tl.Unknown}function e2(){return e1()===tl.Wpos3}(tc=tl||(tl={})).Wpos3="wpos_3",tc.WposTab="wpos_tab",tc.Unknown="unknown";var e3=function(){function e(e){this.$q=e,this.name="Wpos",this.hasPrinter=!0}return e.$inject=["$q"],e.isSupported=function(){return e2()},e.prototype.getStatus=function(){var e=e0();return new this.$q(function(t,n){e?e.printerStatus?e.printerStatus(t,n):t("unknown"):n()})},e.prototype.print=function(e){var t=e0();return new this.$q(function(n,r){void 0===t?r({error:"no_plugin",data:null}):t.print(e,n,function(e){r({error:e?e.replace(/.*ret=(\d+).*/gi,"$1"):"unknown",data:e})})})},e}();function e4(){var e=new Date;return function(){return new Date().getTime()-e.getTime()}}function e5(e,t,n){for(e="".concat(e);e.length<n;)e="".concat(t).concat(e);return e}function e6(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return r}}function e8(e,t){for(var n,r,a=0;a<e.length;a++){var i=e[a],o=t(i);(void 0===n||o>n)&&(n=o,r=i)}return r}function e7(e){var t=e.indexOf("?");return -1===t?{}:e.substring(t+1).split("&").filter(function(e){return!!e}).map(function(e){return e.split("=")}).reduce(function(e,t){var n;return eI(eI({},e),((n={})[t[0]]=t[1],n))},{})}var e9=function(){function e(e,t){this.bucketSeconds=e,this.bucketSize=t,this.bucketTime=new Date().getTime(),this.bucketCount=0}return e.prototype.hit=function(){var e=new Date().getTime();return e-this.bucketTime>1e3*this.bucketSeconds&&(this.bucketTime=e,this.bucketCount=0),this.bucketCount++<=this.bucketSize},e}();function te(e){throw Error("Unexpected object: ".concat(e))}function tt(e,t){return e.map(function(e,n){return eF(eF([],t(e),!0),[n],!1)}).sort(function(e,t){for(var n=0;n<e.length;n++){if(e[n]<t[n])return -1;if(e[n]>t[n])return 1}return 0}).map(function(t){return e[t[t.length-1]]})}function tn(e,t){for(var n={},r=0;r<e.length;r++){var a=e[r],i=t(a);i in n||(n[i]=[]),n[i].push(a)}return n}function tr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0;r<e.length;r++){var a=e[r];if(void 0!==a){if("string"==typeof a)n.push(a);else for(var i=0,o=Object.keys(a);i<o.length;i++){var s=o[i];a[s]&&n.push(s)}}}return n.join(" ")}function ta(e,t){var n=Error(e);throw n.data=t,n}(function(){this.called=!1}).prototype.callOnce=function(e){this.called||(this.called=!0,e())};var ti=function(){function e(){}return e.prototype.$get=function(){return this},e}(),to=function(){function e(e,t){this.$injector=e,this.loggerConfig=t,this.rateLimiter=new e9(3600,10),this.breadcrumbs=[]}return e.$inject=["$injector","loggerConfig"],e.prototype.addBreadcrumb=function(e){this.breadcrumbs.push(e)},e.prototype.doLog=function(e){var t=this,n=this.$injector.get("$q"),r=this.$injector.get("$http");if(this.rateLimiter.hit()){var a=this.loggerConfig.endpoint;if(a){var i=window.location.href,o=window.history.length,s=window.history.state,c=window.performance.now();n.resolve(void 0!==this.loggerConfig.getContext?this.loggerConfig.getContext(this.$injector):{}).then(function(n){return r({method:"POST",url:a,data:{breadcrumbs:t.breadcrumbs,type:e.type,location:i,message:e.message,context:n,historyLength:o.toString(),historyState:s,elapsedSincePageLoaded:c.toString()}})}).catch(function(){})}}},e.prototype.warn=function(e){this.doLog({message:e,type:"warn"})},e.prototype.error=function(e){this.doLog({message:e,type:"error"})},e}();function ts(e){return function(t,n){("string"!=typeof t||-1===t.indexOf("Possibly unhandled rejection")||-1===t.indexOf("breakOffCommand"))&&(t instanceof Error?(!t.message||-1===t.message.indexOf("$location:ipthprfx"))&&(!t.stack||-1===t.stack.indexOf("chrome-extension"))&&(!t.stack||-1===t.stack.indexOf("moz-extension"))&&e.error({name:t.name,message:t.message,stack:t.stack,data:t.data,cause:n}):e.error({error:t,message:"Unhandled thrown value.",cause:n}))}}ts.$inject=["$log"];var tc,tl,tu,td,tp,tm,tf,th,tv,tg=eZ().module("ravkav.common.logger",[]).provider("loggerConfig",ti).factory("$exceptionHandler",ts).service("$log",to).name,ty={},tb=[],t_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function tE(e,t){for(var n in t)e[n]=t[n];return e}function tw(e){var t=e.parentNode;t&&t.removeChild(e)}function tS(e,t,n){var r,a,i,o={};for(i in t)"key"==i?r=t[i]:"ref"==i?a=t[i]:o[i]=t[i];if(arguments.length>2&&(o.children=arguments.length>3?tu.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===o[i]&&(o[i]=e.defaultProps[i]);return tC(e,o,r,a,null)}function tC(e,t,n,r,a){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++tp:a};return null==a&&null!=td.vnode&&td.vnode(i),i}function tk(e){return e.children}function t$(e,t){this.props=e,this.context=t}function tA(e,t){if(null==t)return e.__?tA(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?tA(e):null}function tx(e){(!e.__d&&(e.__d=!0)&&tm.push(e)&&!tT.__r++||th!==td.debounceRendering)&&((th=td.debounceRendering)||tf)(tT)}function tT(){for(var e;tT.__r=tm.length;)e=tm.sort(function(e,t){return e.__v.__b-t.__v.__b}),tm=[],e.some(function(e){var t,n,r,a,i;e.__d&&(a=(r=e.__v).__e,(i=e.__P)&&(t=[],(n=tE({},r)).__v=r.__v+1,tF(i,r,n,e.__n,void 0!==i.ownerSVGElement,null!=r.__h?[a]:null,t,null==a?tA(r):a,r.__h),tq(t,r),r.__e!=a&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(r)))})}function tN(e,t,n,r,a,i,o,s,c,l){var u,d,p,m,f,h,v,g=r&&r.__k||tb,y=g.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(m=n.__k[u]=null==(m=t[u])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?tC(null,m,null,null,m):Array.isArray(m)?tC(tk,{children:m},null,null,null):m.__b>0?tC(m.type,m.props,m.key,null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(p=g[u])||p&&m.key==p.key&&m.type===p.type)g[u]=void 0;else for(d=0;d<y;d++){if((p=g[d])&&m.key==p.key&&m.type===p.type){g[d]=void 0;break}p=null}tF(e,m,p=p||ty,a,i,o,s,c,l),f=m.__e,(d=m.ref)&&p.ref!=d&&(v||(v=[]),p.ref&&v.push(p.ref,null,m),v.push(d,m.__c||f,m)),null!=f?(null==h&&(h=f),"function"==typeof m.type&&m.__k===p.__k?m.__d=c=function e(t,n,r){for(var a,i=t.__k,o=0;i&&o<i.length;o++)(a=i[o])&&(a.__=t,n="function"==typeof a.type?e(a,n,r):tR(r,a,a,i,a.__e,n));return n}(m,c,e):c=tR(e,m,p,g,f,c),"function"==typeof n.type&&(n.__d=c)):c&&p.__e==c&&c.parentNode!=e&&(c=tA(p))}for(n.__e=h,u=y;u--;)null!=g[u]&&("function"==typeof n.type&&null!=g[u].__e&&g[u].__e==n.__d&&(n.__d=tA(r,u+1)),function e(t,n,r){var a,i;if(td.unmount&&td.unmount(t),(a=t.ref)&&(a.current&&a.current!==t.__e||tM(a,null,n)),null!=(a=t.__c)){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(e){td.__e(e,n)}a.base=a.__P=null}if(a=t.__k)for(i=0;i<a.length;i++)a[i]&&e(a[i],n,"function"!=typeof t.type);r||null==t.__e||tw(t.__e),t.__e=t.__d=void 0}(g[u],g[u]));if(v)for(u=0;u<v.length;u++)tM(v[u],v[++u],v[++u])}function tP(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){tP(e,t)}):t.push(e)),t}function tR(e,t,n,r,a,i){var o,s,c;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||a!=i||null==a.parentNode)r:if(null==i||i.parentNode!==e)e.appendChild(a),o=null;else{for(s=i,c=0;(s=s.nextSibling)&&c<r.length;c+=2)if(s==a)break r;e.insertBefore(a,i),o=i}return void 0!==o?o:a.nextSibling}function tL(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||t_.test(t)?n:n+"px"}function tD(e,t,n,r,a){var i;r:if("style"===t){if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||tL(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||tL(e.style,t,n[t])}}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?tO:tI,i):e.removeEventListener(t,i?tO:tI,i);else if("dangerouslySetInnerHTML"!==t){if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break r}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function tI(e){this.l[e.type+!1](td.event?td.event(e):e)}function tO(e){this.l[e.type+!0](td.event?td.event(e):e)}function tF(e,t,n,r,a,i,o,s,c){var l,u,d,p,m,f,h,v,g,y,b,_=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,s=t.__e=n.__e,t.__h=null,i=[s]),(l=td.__b)&&l(t);try{r:if("function"==typeof _){if(v=t.props,g=(l=_.contextType)&&r[l.__c],y=l?g?g.props.value:l.__:r,n.__c?h=(u=t.__c=n.__c).__=u.__E:("prototype"in _&&_.prototype.render?t.__c=u=new _(v,y):(t.__c=u=new t$(v,y),u.constructor=_,u.render=tB),g&&g.sub(u),u.props=v,u.state||(u.state={}),u.context=y,u.__n=r,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=_.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=tE({},u.__s)),tE(u.__s,_.getDerivedStateFromProps(v,u.__s))),p=u.props,m=u.state,d)null==_.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==_.getDerivedStateFromProps&&v!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,y)||t.__v===n.__v){u.props=v,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),u.__h.length&&o.push(u);break r}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,y),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(p,m,f)})}u.context=y,u.props=v,u.state=u.__s,(l=td.__r)&&l(t),u.__d=!1,u.__v=t,u.__P=e,l=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(r=tE(tE({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(p,m)),b=null!=l&&l.type===tk&&null==l.key?l.props.children:l,tN(e,Array.isArray(b)?b:[b],t,n,r,a,i,o,s,c),u.base=t.__e,t.__h=null,u.__h.length&&o.push(u),h&&(u.__E=u.__=null),u.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,a,i,o,s){var c,l,u,d=n.props,p=t.props,m=t.type,f=0;if("svg"===m&&(a=!0),null!=i){for(;f<i.length;f++)if((c=i[f])&&"setAttribute"in c==!!m&&(m?c.localName===m:3===c.nodeType)){e=c,i[f]=null;break}}if(null==e){if(null===m)return document.createTextNode(p);e=a?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,p.is&&p),i=null,s=!1}if(null===m)d===p||s&&e.data===p||(e.data=p);else{if(i=i&&tu.call(e.childNodes),l=(d=n.props||ty).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!s){if(null!=i)for(d={},f=0;f<e.attributes.length;f++)d[e.attributes[f].name]=e.attributes[f].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,a){var i;for(i in n)"children"===i||"key"===i||i in t||tD(e,i,null,n[i],r);for(i in t)a&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||tD(e,i,t[i],n[i],r)}(e,p,d,a,s),u)t.__k=[];else if(tN(e,Array.isArray(f=t.props.children)?f:[f],t,n,r,a&&"foreignObject"!==m,i,o,i?i[0]:n.__k&&tA(n,0),s),null!=i)for(f=i.length;f--;)null!=i[f]&&tw(i[f]);s||("value"in p&&void 0!==(f=p.value)&&(f!==e.value||"progress"===m&&!f||"option"===m&&f!==d.value)&&tD(e,"value",f,d.value,!1),"checked"in p&&void 0!==(f=p.checked)&&f!==e.checked&&tD(e,"checked",f,d.checked,!1))}return e}(n.__e,t,n,r,a,i,o,c);(l=td.diffed)&&l(t)}catch(e){t.__v=null,(c||null!=i)&&(t.__e=s,t.__h=!!c,i[i.indexOf(s)]=null),td.__e(e,t,n)}}function tq(e,t){td.__c&&td.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){td.__e(e,t.__v)}})}function tM(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){td.__e(e,n)}}function tB(e,t,n){return this.constructor(e,n)}function tV(e,t,n){var r,a,i;td.__&&td.__(e,t),a=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],tF(t,e=(!r&&n||t).__k=tS(tk,null,[e]),a||ty,ty,void 0!==t.ownerSVGElement,!r&&n?[n]:a?null:t.firstChild?tu.call(t.childNodes):null,i,!r&&n?n:a?a.__e:t.firstChild,r),tq(i,e)}function tU(e,t,n){var r,a,i,o=tE({},e.props);for(i in t)"key"==i?r=t[i]:"ref"==i?a=t[i]:o[i]=t[i];return arguments.length>2&&(o.children=arguments.length>3?tu.call(arguments,2):n),tC(e.type,o,r||e.key,a||e.ref,null)}tu=tb.slice,td={__e:function(e,t,n,r){for(var a,i,o;t=t.__;)if((a=t.__c)&&!a.__)try{if((i=a.constructor)&&null!=i.getDerivedStateFromError&&(a.setState(i.getDerivedStateFromError(e)),o=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(e,r||{}),o=a.__d),o)return a.__E=a}catch(t){e=t}throw e}},tp=0,t$.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=tE({},this.state),"function"==typeof e&&(e=e(tE({},n),this.props)),e&&tE(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),tx(this))},t$.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),tx(this))},t$.prototype.render=tk,tm=[],tf="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tT.__r=0,tv=0;var tj,tH,tz,tK=0,tW=[],tG=td.__b,tY=td.__r,tQ=td.diffed,tJ=td.__c,tZ=td.unmount;function tX(e,t){td.__h&&td.__h(tH,e,tK||t),tK=0;var n=tH.__H||(tH.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function t0(e){return tK=1,t1(nr,e)}function t1(e,t,n){var r=tX(tj++,2);return r.t=e,r.__c||(r.__=[n?n(t):nr(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=tH),r.__}function t2(e,t){var n=tX(tj++,3);!td.__s&&nn(n.__H,t)&&(n.__=e,n.__H=t,tH.__H.__h.push(n))}function t3(e,t){var n=tX(tj++,4);!td.__s&&nn(n.__H,t)&&(n.__=e,n.__H=t,tH.__h.push(n))}function t4(e){return tK=5,t5(function(){return{current:e}},[])}function t5(e,t){var n=tX(tj++,7);return nn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function t6(e,t){return tK=8,t5(function(){return e},t)}function t8(e){var t=tH.context[e.__c],n=tX(tj++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(tH)),t.props.value):e.__}function t7(){for(var e;e=tW.shift();)if(e.__P)try{e.__H.__h.forEach(ne),e.__H.__h.forEach(nt),e.__H.__h=[]}catch(t){e.__H.__h=[],td.__e(t,e.__v)}}td.__b=function(e){tH=null,tG&&tG(e)},td.__r=function(e){tY&&tY(e),tj=0;var t=(tH=e.__c).__H;t&&(t.__h.forEach(ne),t.__h.forEach(nt),t.__h=[])},td.diffed=function(e){tQ&&tQ(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==tW.push(t)&&tz===td.requestAnimationFrame||((tz=td.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),t9&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);t9&&(t=requestAnimationFrame(n))})(t7)),tH=null},td.__c=function(e,t){t.some(function(e){try{e.__h.forEach(ne),e.__h=e.__h.filter(function(e){return!e.__||nt(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],td.__e(n,e.__v)}}),tJ&&tJ(e,t)},td.unmount=function(e){tZ&&tZ(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{ne(e)}catch(e){t=e}}),t&&td.__e(t,n.__v))};var t9="function"==typeof requestAnimationFrame;function ne(e){var t=tH,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),tH=t}function nt(e){var t=tH;e.__c=e.__(),tH=t}function nn(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function nr(e,t){return"function"==typeof t?t(e):t}function na(e,t){for(var n in t)e[n]=t[n];return e}function ni(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function no(e){this.props=e}(no.prototype=new t$).isPureReactComponent=!0,no.prototype.shouldComponentUpdate=function(e,t){return ni(this.props,e)||ni(this.state,t)};var ns=td.__b;td.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ns&&ns(e)};var nc="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function nl(e){function t(t){var n=na({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=nc,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var nu=function(e,t){return null==e?null:tP(tP(e).map(t))},nd=td.__e;td.__e=function(e,t,n,r){if(e.then){for(var a,i=t;i=i.__;)if((a=i.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t)}nd(e,t,n,r)};var np=td.unmount;function nm(){this.__u=0,this.t=null,this.__b=null}function nf(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function nh(){this.u=null,this.o=null}td.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),np&&np(e)},(nm.prototype=new t$).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var a=nf(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,a?a(s):s())};n.__R=o;var s=function(){if(!--r.__u){if(r.state.__e){var e,t=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)}),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(t,t.__c.__P,t.__c.__O)}for(r.setState({__e:r.__b=null});e=r.t.pop();)e.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(o,o)},nm.prototype.componentWillUnmount=function(){this.t=[]},nm.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=na({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)})),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var a=t.__e&&tS(tk,null,e.fallback);return a&&(a.__h=null),[tS(tk,null,t.__e?null:e.children),a]};var nv=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function ng(e){return this.getChildContext=function(){return e.context},e.children}function ny(e){var t=this,n=e.i;t.componentWillUnmount=function(){tV(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),tV(tS(ng,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(nh.prototype=new t$).__e=function(e){var t=this,n=nf(t.__v),r=t.o.get(e);return r[0]++,function(a){var i=function(){t.props.revealOrder?(r.push(a),nv(t,e,r)):a()};n?n(i):i()}},nh.prototype.render=function(e){this.u=null,this.o=new Map;var t=tP(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},nh.prototype.componentDidUpdate=nh.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){nv(e,n,t)})};var nb="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,n_=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nE="undefined"!=typeof document;t$.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(t$.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var nw=td.event;function nS(){}function nC(){return this.cancelBubble}function nk(){return this.defaultPrevented}td.event=function(e){return nw&&(e=nw(e)),e.persist=nS,e.isPropagationStopped=nC,e.isDefaultPrevented=nk,e.nativeEvent=e};var n$,nA={configurable:!0,get:function(){return this.class}},nx=td.vnode;td.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var a=-1===t.indexOf("-");for(var i in r={},n){var o,s=n[i];nE&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in n&&null==s||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===s?s="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&(o=n.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(o))?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():a&&n_.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),r[i]=s)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=tP(n.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==t&&null!=r.defaultValue&&(r.value=tP(n.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),e.props=r,n.class!=n.className&&(nA.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",nA))}e.$$typeof=nb,nx&&nx(e)};var nT=td.__r;function nN(e){return!!e&&e.$$typeof===nb}td.__r=function(e){nT&&nT(e),n$=e.__c};var nP={useState:t0,useReducer:t1,useEffect:t2,useLayoutEffect:t3,useRef:t4,useImperativeHandle:function(e,t,n){tK=6,t3(function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},null==n?n:n.concat(e))},useMemo:t5,useCallback:t6,useContext:t8,useDebugValue:function(e,t){td.useDebugValue&&td.useDebugValue(t?t(e):e)},version:"17.0.2",Children:{map:nu,forEach:nu,count:function(e){return e?tP(e).length:0},only:function(e){var t=tP(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:tP},render:function(e,t,n){return null==t.__k&&(t.textContent=""),tV(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return function e(t,n){tV(t,n,e)}(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(tV(null,e),!0)},createPortal:function(e,t){var n=tS(ny,{__v:e,i:t});return n.containerInfo=t,n},createElement:tS,createContext:function(e,t){var n={__c:t="__cC"+tv++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(tx)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(e){return tS.bind(null,e)},cloneElement:function(e){return nN(e)?tU.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:tk,isValidElement:nN,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:t$,PureComponent:no,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:ni(this.props,e)}function r(t){return this.shouldComponentUpdate=n,tS(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:nl,flushSync:function(e,t){return e(t)},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:tk,Suspense:nm,SuspenseList:nh,lazy:function(e){var t,n,r;function a(a){if(t||(t=e()).then(function(e){n=e.default||e},function(e){r=e}),r)throw r;if(!n)throw t;return tS(n,a)}return a.displayName="Lazy",a.__f=!0,a},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(e){return n$.__n[e.__c].props.value}}}}};function nR(e){var t,n=t8(e);if(null===n)throw Error(null!==(t=e.displayName)&&void 0!==t?t:"No context display name");return n}var nL=nP.createContext(null);function nD(){return nR(nL)}nL.displayName="LogServiceContext";var nI=function(){function e(e,t,n){var r=new Date(Date.UTC(e,t-1,n));if(r.getUTCFullYear()!==e||r.getUTCMonth()+1!==t||r.getUTCDate()!==n)throw Error("Invalid Dt: ".concat(e,", ").concat(t,", ").concat(n));this.year=e,this.month=t,this.day=n}return e.fromIso=function(t){var n=t.split("-"),r=n[0],a=n[1],i=n[2];return new e(parseInt(r,10),parseInt(a,10),parseInt(i,10))},e.prototype.toIso=function(){var e=e5(this.year,"0",4),t=e5(this.month,"0",2),n=e5(this.day,"0",2);return"".concat(e,"-").concat(t,"-").concat(n)},e.prototype.toString=function(){return this.toIso()},e.fromUtc=function(t){return new e(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate())},e.prototype.toUtc=function(){return new Date(Date.UTC(this.year,this.month-1,this.day))},e.fromLocal=function(t){return new e(t.getFullYear(),t.getMonth()+1,t.getDate())},e.prototype.toLocal=function(){return new Date(this.year,this.month-1,this.day)},Object.defineProperty(e.prototype,"weekDay",{get:function(){return this.toUtc().getUTCDay()},enumerable:!1,configurable:!0}),e.isSameDay=function(e,t){return e.year===t.year&&e.month===t.month&&e.day===t.day},e.daysDiff=function(e,t){return Math.floor((e.toUtc().getTime()-t.toUtc().getTime())/864e5)},e.prototype.before=function(t){return 0>e.daysDiff(this,t)},e.prototype.after=function(t){return e.daysDiff(this,t)>0},e.prototype.addDays=function(t){return e.fromUtc(new Date(this.toUtc().getTime()+864e5*t))},e.prototype.addMonths=function(t){var n=this.toUtc();return n.setUTCMonth(this.month-1+t),new e(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate())},e.prototype.truncWeek=function(){return this.addDays(-this.weekDay)},e.prototype.truncMonth=function(){return new e(this.year,this.month,1)},e.range=function(e,t){for(var n=[],r=0;r<t+1;r++)n.push(e.addDays(r));return n},e.min=function(e,t){return e.toUtc()<t.toUtc()?e:t},e.max=function(e,t){return e.toUtc()>t.toUtc()?e:t},e}();function nO(e,t){void 0===t&&(t="dd/mm/yyyy");var n=e.getDate(),r=e.getMonth()+1,a=e.getFullYear(),i=(n<10?"0":"")+n.toString(),o=(r<10?"0":"")+r.toString();switch(t){case"mm/yyyy":return"".concat(o,"/").concat(a);case"dd/mm/yyyy":return"".concat(i,"/").concat(o,"/").concat(a);case"dd/mm":return"".concat(i,"/").concat(o);default:te(t)}}function nF(e,t){void 0===t&&(t="HH:MM");var n=e.getMinutes(),r=e.getHours(),a=(r<10?"0":"")+r.toString(),i=(n<10?"0":"")+n.toString();switch(t){case"HH:MM":return"".concat(a,":").concat(i);case"HH:MM:SS":var o=e.getSeconds(),s=(o<10?"0":"")+o.toString();return"".concat(a,":").concat(i,":").concat(s);default:te(t)}}function nq(e){return"".concat(nO(e)," ").concat(nF(e))}(e=H||(H={})).Unlimited="UNLIMITED",e.Calendrical="CALENDRICAL",e.Fixed="FIXED",e.Flexible="FLEXIBLE",e.MonthlyFlexible="MONTHLY_FLEXIBLE",(t=z||(z={})).NotUsed="NOT_USED",t.Constant="CONSTANT",t.Flexible="FLEXIBLE",(r=K||(K={})).NotUsed="NOT_USED",r.Train="TRAIN",(a=W||(W={})).Included="included",a.Exempt="exempt",(i=G||(G={})).Rail="rail",i.Bus="bus",i.LightRail="light_rail",i.CableCar="cable_car",(o=Y||(Y={}))._15km="15km",o._40km="40km",o._75km="75km",o._120km="120km",o._225km="225km",o.unlimited="unlimited";var nM=function(){function e(e){this.id=e.id,this.ett=e.ett,this.etta=e.etta,this.customer_profile=e.customer_profile,this.can_be_sold=e.can_be_sold,this.areas=e.areas,this.predefined_contract=e.predefined_contract,this.is_permitted_for_anonymous=e.is_permitted_for_anonymous,this.counter=e.counter,this.counterMode=e.counter_mode,this.price=e.price,this.priceRounded=e.price_rounded,this.vat_status=e.vat_status,this.modes_of_transport=e.modes_of_transport,this.distance_range=e.distance_range,this.display_name=e.display_name,this.validity_period_type=e.validity_period_type,this.validity_start_date=e.validity_start_date?nI.fromIso(e.validity_start_date):null,this.validity_end_date=e.validity_end_date?nI.fromIso(e.validity_end_date):null,this.validity_duration_days=e.validity_duration_days,this.origin_destination_mode=e.origin_destination_mode,this.respected_by_operators=e.respected_by_operators}return e.prototype.isInternal=function(){return 0===this.predefined_contract.id},e.prototype.isStoredValue=function(){return 6===this.etta},e.prototype.isFlexibleStoredValue=function(){return this.isStoredValue()&&this.counterMode===z.Flexible},e.prototype.isReformContract=function(){return this.predefined_contract.reform_areas.length>0},e.prototype.isFlexible=function(){switch(this.validity_period_type){case H.Unlimited:case H.Calendrical:case H.Fixed:return!1;case H.Flexible:case H.MonthlyFlexible:return!0;default:te(this.validity_period_type)}},e.prototype.isActiveInReformAreas=function(e){var t=this;return!!this.isReformContract()&&e.every(function(e){return t.predefined_contract.reform_areas.indexOf(e)>-1})},e.prototype.isForSpecialCustomerProfile=function(){return 0!==this.customer_profile},e.prototype.getAcceptedByOperators=function(){return this.respected_by_operators},e}(),nB=function(e){function t(t){var n=e.call(this,t)||this;return n.contracts=t.contracts,n.journey_interchanges_duration=t.journey_interchanges_duration,n.journey_interchanges_restriction=t.journey_interchanges_restriction,n.fare_codes=t.fare_codes,n.multiplier=t.multiplier,n.max_payments=t.max_payments,n}return eD(t,e),t.prototype.getContractOfOperator=function(e){for(var t=0,n=this.contracts;t<n.length;t++){var r=n[t];if(r.operator===e)return r}return null},t.prototype.getContractById=function(e){for(var t=0,n=this.contracts;t<n.length;t++){var r=n[t];if(r.id===e)return r}},t}(nM),nV=function(){function e(e){this.client=e.withBasePath("/api/ravkav/contract/")}return e.$inject=["apiClient"],e.prototype.getList=function(e){return this.client.get("",{params:e}).then(function(e){return e.map(function(e){return new nM(e)})})},e.prototype.getDetail=function(e){return this.client.get("".concat(e)).then(function(e){return new nB(e)})},e.prototype.fromData=function(e){return new nM(e)},e}(),nU=nP.createContext(null);function nj(e){return null==e?void 0:!0===e||""===e.trim()?[]:e.split(",").map(function(e){return parseInt(e,10)})}function nH(e){return null==e?void 0:!0===e||""===e.trim()?[]:e.split(",")}function nz(e){return null==e?void 0:e.slice().sort().join(",")}function nK(e){if(null!=e){var t=parseInt(e,10);if(!isNaN(t))return t}}function nW(e){return null==e?void 0:e.toString()}function nG(e){return null==e?void 0:"false"!==e}function nY(e){return null==e?void 0:e.toString()}function nQ(e){return null==e?void 0:e?"1":"0"}function nJ(e,t){return null!=e?e:t}function nZ(e){var t;return null!==(t=null==e?void 0:e.toIso())&&void 0!==t?t:null}function nX(e){if(void 0===e)return null;try{return nI.fromIso(e)}catch(e){return null}}nU.displayName="ContractGroupServiceContext";var n0=function(e){return e.code},n1=[10,4,5,6,1,902,901,99,905],n2=function(e){return n1.indexOf(e)};function n3(e,t,n){return void 0===t&&(t="id"),void 0===n&&(n="name"),e.reduce(function(e,r){return e[r[t]]=r[n],e},{})}var n4=function(){function e(e,t){this.initPromise=null,this.Operator={},this.ActiveOperator={},this.ETTA={},this.ETT={},this.CustomerProfile={},this.ActiveCustomerProfile={},this.Area={},this.Metropolin={},this.RealMetropolin={},this.TrainStation={},this.EventCircumstances={},this.EventTransportMean={},this.ReformArea={},this.Settlement={},this.anonymousApiClient=e.withBasePath("/api/ravkav/"),this.client=t.withBasePath("/api/ravkav/")}return e.$inject=["anonymousApiClient","apiClient"],e.prototype.init=function(){var e=this;return null!==this.initPromise||(this.initPromise=this.anonymousApiClient.get("lookups").then(function(t){e.Operator=n3(t.operator),e.ActiveOperator=n3(t.operator.filter(function(e){return!e.hidden})),e.ETTA=n3(t.etta),e.ETT=n3(t.ett),e.CustomerProfile=n3(t.customer_profile),e.ActiveCustomerProfile=n3(t.customer_profile.filter(function(e){return!e.hidden})),e.Area=n3(t.area),e.Metropolin=n3(t.metropolin),e.RealMetropolin=n3(t.metropolin.filter(function(e){return 10!==e.id})),e.TrainStation=t.train_station.map(function(e){return{id:e.id,name:e.name,reformArea:e.reform_area_id,stationGroup:e.station_group_id,lat:e.lat,lon:e.lon}}).reduce(function(e,t){return e[t.id]=t,e},{}),e.EventCircumstances=n3(t.event_circumstances),e.EventTransportMean=n3(t.event_transport_mean),e.ReformArea=t.reform_area.reduce(function(e,t){return e[t.id]=t,e},{}),e.Settlement=t.settlements.reduce(function(e,t){return e[t.id]=t,e},{})}).catch(function(t){throw e.initPromise=null,t})),this.initPromise},e.prototype.findInstitutions=function(e){var t=e.q,n=e.ids,r=e.limit,a=e.hidden;return this.client.get("institution",{params:{q:t,id:nz(n),limit:nW(void 0===r?20:r),hidden:nQ(a)}})},e}(),n5=nP.createContext(null);function n6(){return nR(n5)}function n8(e){return(n8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n7(e){var t=function(e,t){if("object"!==n8(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==n8(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n8(t)?t:String(t)}function n9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.forEach(function(t){var r,a,i;r=e,a=t,i=n[t],(a=n7(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i})}return e}function re(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n7(r.key),r)}}function rn(e,t,n){return t&&rt(e.prototype,t),n&&rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rr(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ra(e,t){if(t&&("object"===n8(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return rr(e)}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ro(e,t){return(ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rs(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ro(e,t)}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rl(e,t){if(e){if("string"==typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rc(e,t)}}function ru(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,t)||rl(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n5.displayName="RavkavDataServiceContext",(s=Q||(Q={})).Personalized="personalized",s.CurrentStudent="current_student",s.ActiveStudent="active_student",s.Under18="under18",s.Over65="over65",s.Over60="over60",s.Over62="over62",s.Over67="over67",s.Over75="over75",s.CurrentSeniorCitizen75Plus="current_senior_citizen_75_plus",(c=J||(J={})).Eligible="eligible",c.NotEligible="not_eligible",c.ProfileCutOffByExpiration="profile_cut_off_by_expiration",c.ProfilesAlreadyExist="profiles_already_exist",c.NoSpaceForProfiles="no_space_for_profiles",(l=Z||(Z={})).Fixed="fixed",l.EndOfCard="end_of_card",l.FarFuture="far_future",l.Age18="age18",l.Manual="manual";var rd={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,function(e){if(Array.isArray(e))return rc(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||rl(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},rp=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};re(this,e),this.init(t,n)}return rn(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||rd,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,n9({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),rm=function(){function e(){re(this,e),this.observers={}}return rn(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}),this}},{key:"off",value:function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var r=n.observers[e].indexOf(t);r>-1&&n.observers[e].splice(r,1)}else delete n.observers[e]})}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(n))})}}]),e}();function rf(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n}function rh(e){return null==e?"":""+e}function rv(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(a())return{};var o=r(i.shift());!e[o]&&n&&(e[o]=new n),e=e[o]}return a()?{}:{obj:e,k:r(i.shift())}}function rg(e,t,n){var r=rv(e,t,Object);r.obj[r.k]=n}function ry(e,t){var n=rv(e,t),r=n.obj,a=n.k;if(r)return r[a]}function rb(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var r_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function rE(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return r_[e]}):e}var rw=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return re(this,t),n=ra(this,ri(t).call(this)),rm.call(rr(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return rs(t,e),rn(t,[{key:"addNamespaces",value:function(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=[e,t];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=e.split(".")),ry(this.data,i)}},{key:"addResource",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var o=[e,t];n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),rg(this.data,o,r),a.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var a in n)("string"==typeof n[a]||"[object Array]"===Object.prototype.toString.apply(n[a]))&&this.addResource(e,t,a,n[a],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=n,n=t,t=o[1]),this.addNamespaces(t);var s=ry(this.data,o)||{};r?function e(t,n,r){for(var a in n)a in t?"string"==typeof t[a]||t[a]instanceof String||"string"==typeof n[a]||n[a]instanceof String?r&&(t[a]=n[a]):e(t[a],n[a],r):t[a]=n[a];return t}(s,n,a):s=n9({},s,n),rg(this.data,o,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?n9({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(rm),rS={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,a){var i=this;return e.forEach(function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,a))}),t}},rC=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return re(this,t),n=ra(this,ri(t).call(this)),rm.call(rr(n)),function(e,t,n){e.forEach(function(e){t[e]&&(n[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],e,rr(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=rp.create("translator"),n}return rs(t,e),rn(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var i=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(a=i.shift()),e=i.join(r)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}},{key:"translate",value:function(e,t){var n=this;if("object"!==n8(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],t),i=a.key,o=a.namespaces,s=o[o.length-1],c=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase())return l?s+(t.nsSeparator||this.options.nsSeparator)+i:i;var u=this.resolve(e,t),d=u&&u.res,p=u&&u.usedKey||i,m=u&&u.exactUsedKey||i,f=Object.prototype.toString.apply(d),h=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,g="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(v&&d&&g&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(f)&&!("string"==typeof h&&"[object Array]"===f)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,t):"key '".concat(i," (").concat(this.language,")' returned an object instead of string.");if(r){var y="[object Array]"===f,b=y?[]:{},_=y?m:p;for(var E in d)if(Object.prototype.hasOwnProperty.call(d,E)){var w="".concat(_).concat(r).concat(E);b[E]=this.translate(w,n9({},t,{joinArrays:!1,ns:o})),b[E]===w&&(b[E]=d[E])}d=b}}else if(v&&"string"==typeof h&&"[object Array]"===f)(d=d.join(h))&&(d=this.extendTranslation(d,e,t));else{var S=!1,C=!1;if(!this.isValidLookup(d)&&void 0!==t.defaultValue){if(S=!0,void 0!==t.count){var k=this.pluralResolver.getSuffix(c,t.count);d=t["defaultValue".concat(k)]}d||(d=t.defaultValue)}this.isValidLookup(d)||(C=!0,d=i);var $=t.defaultValue&&t.defaultValue!==d&&this.options.updateMissing;if(C||S||$){this.logger.log($?"updateKey":"missingKey",c,s,i,$?t.defaultValue:d);var A=[],x=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&x&&x[0])for(var T=0;T<x.length;T++)A.push(x[T]);else"all"===this.options.saveMissingTo?A=this.languageUtils.toResolveHierarchy(t.lng||this.language):A.push(t.lng||this.language);var N=function(e,r){n.options.missingKeyHandler?n.options.missingKeyHandler(e,s,r,$?t.defaultValue:d,$,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,s,r,$?t.defaultValue:d,$,t),n.emit("missingKey",e,s,r,d)};if(this.options.saveMissing){var P=void 0!==t.count&&"string"!=typeof t.count;this.options.saveMissingPlurals&&P?A.forEach(function(e){n.pluralResolver.getPluralFormsOfKey(e,i).forEach(function(t){return N([e],t)})}):N(A,i)}}d=this.extendTranslation(d,e,t,u),C&&d===i&&this.options.appendNamespaceToMissingKey&&(d="".concat(s,":").concat(i)),C&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d}},{key:"extendTranslation",value:function(e,t,n,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(n9({},n,{interpolation:n9({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=n9({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language,n),!1!==n.nest&&(e=this.interpolator.nest(e,function(){return a.translate.apply(a,arguments)},n)),n.interpolation&&this.interpolator.reset()}var o=n.postProcess||this.options.postProcess,s="string"==typeof o?[o]:o;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=rS.handle(s,e,t,n,this)),e}},{key:"resolve",value:function(e){var t,n,r,a,i,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!o.isValidLookup(t)){var c=o.extractFromKey(e,s),l=c.key;n=l;var u=c.namespaces;o.options.fallbackNS&&(u=u.concat(o.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,p=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,m=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);u.forEach(function(e){o.isValidLookup(t)||(i=e,m.forEach(function(n){if(!o.isValidLookup(t)){a=n;var i,c,u=l,m=[u];for(o.i18nFormat&&o.i18nFormat.addLookupKeys?o.i18nFormat.addLookupKeys(m,l,n,e,s):(d&&(i=o.pluralResolver.getSuffix(n,s.count)),d&&p&&m.push(u+i),p&&m.push(u+="".concat(o.options.contextSeparator).concat(s.context)),d&&m.push(u+=i));c=m.pop();)o.isValidLookup(t)||(r=c,t=o.getResource(n,e,c,s))}}))})}}),{res:t,usedKey:n,exactUsedKey:r,usedLng:a,usedNS:i}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}]),t}(rm);function rk(e){return e.charAt(0).toUpperCase()+e.slice(1)}var r$=function(){function e(t){re(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=rp.create("languageUtils")}return rn(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||0>e.indexOf("-"))return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||0>e.indexOf("-"))return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=rk(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=rk(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=rk(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],i=function(e){e&&(n.isWhitelisted(e)?a.push(e):n.logger.warn("rejecting non-whitelisted language code: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach(function(e){0>a.indexOf(e)&&i(n.formatLanguageCode(e))}),a}}]),e}(),rA=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],rx={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1===e?0:2===e?1:(e<0||e>10)&&e%10==0?2:3)}},rT=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};re(this,e),this.languageUtils=t,this.options=r,this.logger=rp.create("pluralResolver"),this.rules=(n={},rA.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:rx[e.fc]}})}),n)}return rn(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=this,r=[],a=this.getRule(e);return a&&a.numbers.forEach(function(a){var i=n.getSuffix(e,a);r.push("".concat(t).concat(i))}),r}},{key:"getSuffix",value:function(e,t){var n=this,r=this.getRule(e);if(r){var a=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),i=r.numbers[a];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON?o():this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?o():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),rN=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};re(this,e),this.logger=rp.create("interpolator"),this.init(t,!0)}return rn(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e}),e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escape=void 0!==n.escape?n.escape:rE,this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.useRawValueToEscape=void 0!==n.useRawValueToEscape&&n.useRawValueToEscape,this.prefix=n.prefix?rb(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?rb(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?rb(n.nestingPrefix):n.nestingPrefixEscaped||rb("$t("),this.nestingSuffix=n.nestingSuffix?rb(n.nestingSuffix):n.nestingSuffixEscaped||rb(")"),this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var a,i,o,s=this,c=function(e){if(0>e.indexOf(s.formatSeparator))return ry(t,e);var r=e.split(s.formatSeparator),a=r.shift().trim(),i=r.join(s.formatSeparator).trim();return s.format(ry(t,a),i,n)};this.resetRegExp();var l=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler;for(o=0;(a=this.regexpUnescape.exec(e))&&(i=c(a[1].trim()),e=e.replace(a[0],i),this.regexpUnescape.lastIndex=0,!(++o>=this.maxReplaces)););for(o=0;a=this.regexp.exec(e);){if(void 0===(i=c(a[1].trim()))){if("function"==typeof l){var u=l(e,a,r);i="string"==typeof u?u:""}else this.logger.warn("missed to pass in variable ".concat(a[1]," for interpolating ").concat(e)),i=""}else"string"==typeof i||this.useRawValueToEscape||(i=rh(i));if(i=(this.escapeValue?this.escape(i):i).replace(/\$/g,"$$$$"),e=e.replace(a[0],i),this.regexp.lastIndex=0,++o>=this.maxReplaces)break}return e}},{key:"nest",value:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n9({},a);function o(e,t){if(0>e.indexOf(","))return e;var n=e.split(",");e=n.shift();var r=n.join(",");r=(r=this.interpolate(r,i)).replace(/'/g,'"');try{i=JSON.parse(r),t&&(i=n9({},t,i))}catch(t){this.logger.error("failed parsing options string in nesting for key ".concat(e),t)}return e}for(i.applyPostProcessor=!1;n=this.nestingRegexp.exec(e);){if((r=t(o.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=rh(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}(),rP=function(e){function t(e,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return re(this,t),a=ra(this,ri(t).call(this)),rm.call(rr(a)),a.backend=e,a.store=n,a.languageUtils=r.languageUtils,a.options=i,a.logger=rp.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,i.backend,i),a}return rs(t,e),rn(t,[{key:"queueLoad",value:function(e,t,n,r){var a=this,i=[],o=[],s=[],c=[];return e.forEach(function(e){var r=!0;t.forEach(function(t){var s="".concat(e,"|").concat(t);!n.reload&&a.store.hasResourceBundle(e,t)?a.state[s]=2:a.state[s]<0||(1===a.state[s]?0>o.indexOf(s)&&o.push(s):(a.state[s]=1,r=!1,0>o.indexOf(s)&&o.push(s),0>i.indexOf(s)&&i.push(s),0>c.indexOf(t)&&c.push(t)))}),r||s.push(e)}),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:r}),{toLoad:i,pending:o,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var r=ru(e.split("|"),2),a=r[0],i=r[1];t&&this.emit("failedLoading",a,i,t),n&&this.store.addResourceBundle(a,i,n),this.state[e]=t?-1:2;var o={};this.queue.forEach(function(n){var r,s,c,l;(c=(s=rv(n.loaded,[a],Object)).obj)[l=s.k]=c[l]||[],r&&(c[l]=c[l].concat(i)),r||c[l].push(i),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach(function(e){o[e]||(o[e]=[]),n.loaded[e].length&&n.loaded[e].forEach(function(t){0>o[e].indexOf(t)&&o[e].push(t)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,function(s,c){if(s&&c&&a<5){setTimeout(function(){r.read.call(r,e,t,n,a+1,2*i,o)},i);return}o(s,c)}):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=ru(e.split("|"),2),a=r[0],i=r[1];this.read(a,i,"read",null,null,function(r,o){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(a," failed"),r),!r&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(a),o),t.loaded(e,r,o)})}},{key:"saveMissing",value:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,n9({},i,{isUpdate:a})),e&&e[0]&&this.store.addResource(e[0],t,n,r)}}]),t}(rm);function rR(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&0>e.whitelist.indexOf("cimode")&&(e.whitelist=e.whitelist.concat(["cimode"])),e}function rL(){}var rD=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(re(this,t),e=ra(this,ri(t).call(this)),rm.call(rr(e)),e.options=rR(n),e.services={},e.logger=rp,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),ra(e,rr(e));setTimeout(function(){e.init(n,r)},0)}return e}return rs(t,e),rn(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),this.options=n9({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===n8(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===n8(e[2])||"object"===n8(e[3])){var n=e[3]||e[2];Object.keys(n).forEach(function(e){t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,rR(t)),this.format=this.options.interpolation.format,n||(n=rL),!this.options.isClone){this.modules.logger?rp.init(r(this.modules.logger),this.options):rp.init(null,this.options);var a=new r$(this.options);this.store=new rw(this.options.resources,this.options);var i=this.services;i.logger=rp,i.resourceStore=this.store,i.languageUtils=a,i.pluralResolver=new rT(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new rN(this.options),i.backendConnector=new rP(r(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))}),this.modules.languageDetector&&(i.languageDetector=r(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=r(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new rC(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}});var o=rf(),s=function(){e.changeLanguage(e.options.lng,function(t,r){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),o.resolve(r),n(t,r)})};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),o}},{key:"loadResources",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rL;if(!this.options.resources||this.options.partialBundledLanguages){if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],r=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(e){0>n.indexOf(e)&&n.push(e)})};this.language?r(this.language):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return r(e)}),this.options.preload&&this.options.preload.forEach(function(e){return r(e)}),this.services.backendConnector.load(n,this.options.ns,t)}else t(null)}},{key:"reloadResources",value:function(e,t,n){var r=rf();return e||(e=this.languages),t||(t=this.options.ns),n||(n=rL),this.services.backendConnector.reload(e,t,function(e){r.resolve(),n(e)}),r}},{key:"use",value:function(e){return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&rS.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this,r=rf();this.emit("languageChanging",e);var a=function(e,a){n.translator.changeLanguage(a),a&&(n.emit("languageChanged",a),n.logger.log("languageChanged",a)),r.resolve(function(){return n.t.apply(n,arguments)}),t&&t(e,function(){return n.t.apply(n,arguments)})},i=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources(function(t){a(t,e)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t){var n=this,r=function e(t,r){var a=n9({},r);if("object"!==n8(r)){for(var i=arguments.length,o=Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];a=n.options.overloadTranslationOptionHandler([t,r].concat(o))}return a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,n.t(t,a)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"loadNamespaces",value:function(e,t){var n=this,r=rf();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(function(e){0>n.options.ns.indexOf(e)&&n.options.ns.push(e)}),this.loadResources(function(e){r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=rf();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],a=e.filter(function(e){return 0>r.indexOf(e)});return a.length?(this.options.preload=r.concat(a),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rL,a=n9({},this.options,n,{isClone:!0}),i=new t(a);return["store","services","language"].forEach(function(t){i[t]=e[t]}),i.translator=new rC(i.services,i.options),i.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n))}),i.init(a,r),i.translator.options=i.options,i}}]),t}(rm)),rI=JSON.parse('{"he":{"translation":{"language":"","error":"","brand:RAVKAVONLINE":"- ","brand:ALHAKAVONLINE":"- ","scanCard":" ","ravkavScanning":" -","contract":" ","contracts":" ","loadProfiles":" ","continuationRides":" ","reserveLoading":" ","issueRavKav":" -","cancelLoading":" ","mainMenu":" ","openMainMenu":"  ","about":"","next":"","skip":"","continue":"","open":"","oops":"!","enter":"","exit":"","noMatchingContracts":"   ","startingAt":" ","cardContents":" ","editRavKav":" -","ravKav":"-","back":"","search":"","menu":"","anonymous":"","until":"","cardExpiredAt":"   ","events":"","contractNotSoldNow":"   ","noContracts":"   -","noEvents":"     -","renewContract":"","similarContract":"  ","renewContractAtPrice":"\\n {{price}}","renewContractStartingAtPrice":"\\n  {{price}}","loadAContract":" ","loadAnotherContract":"  ","loadContractNotOnCard":"    ","inactiveContracts":"  ","activeContracts":" ","fromStation":"","toStation":"","date":"","fromDate":"","toDate":" ","ravKavName":" -","ravKavNumber":" -","billingStatusName":" ","operator":"","metropolin":"","metropolinX":" {{ metropolin }}","nfcInactive":"NFC  ","pressToScan":" ","toScan":"","nfcActivate":" NFC","nfcNotFound":"   NFC ","nfcItIsRequired":"     -","nfcOtherServices":"  NFC","pressCardBackOfDevice":"    ","pressCardTopOfDevice":"       ","readingCardDontMove":" ,  ","readCardSuccess":"  ","pressCardBackOfDeviceTillFinished":"       ","tryAgain":" ","predefinedContract":" ","purchasedAt":" ","profile":"","profiles":"","lineNumber":"","numPassengers":"","debitAmount":" ","station":"","atDate":"","loadInWebsite":"    ","customerServiceAndSupport":"  ","copyright":"     \\" 2015-{{currentYear}} \xa9","loadingHistory":" ","loadingHistoryCard":"  ","hiddenCard":" ","hiddenCardExplanation":"   ","filter":"","filterClear":" ","filterWithout":" ","freeText":" ","resultsNotFound":"  ","resultsNotFoundFilter":"      ","fetchFailed":"  ","tryAgainRefresh":"     ","loadMore":" ","ravKavCard":" -","ravKavCards":" -","ravKavCardNumber":" - ","cardName":" ","unnamed":" ","changeName":" ","lastUseAtBrand:RAVKAVONLINE":"  - ","lastUseAtBrand:ALHAKAVONLINE":"  - ","reminder":"","validityReminderExplanation":"   ","reserveLoadingToCard":"  ","reserveLoadingToCardExplanation":"       ","noRavKavCards":"  -","ravKavCardHowToSave:RAVKAVONLINE":"       - ","ravKavCardHowToSave:ALHAKAVONLINE":"       - ","lastUpdatedAt":"  {{date}}","paymentMeans":" ","support":"","logout":"","logoutVerify":"  ?","yes":"","no":"","enterNewCardName":"   ","cancel":"","update":"","help":"","unknown":" ","openMenu":" ","advancedFilter":" ","closeAdvancedFilter":"  ","toEdit":"","toView":"","picture":"","searching":"","additionalActions":" ","actionFailed":" ","recentlySelected":" ","payAttention":" ","downloadForAndroid":"  ","downloadForIPhone":"  ","balance":"","uninitializedRavkavCard":{"didntFindActionsForCard":"     - "},"mobileSidebar":{"scan":" -","allActionsAndServices":"  ","youMayBeInterested":"  ","ravkavIssuanceTitle":" - ","plt":" ","svc":"  ","orderRavkavBanner1:RAVKAVONLINE":"  - ","orderRavkavBanner1:ALHAKAVONLINE":"  - ","orderRavkavBanner2":" -  >>","goldenRavkavAlt":"- ","pltZahav1":"  75+","pltZahav2":"   75 >>","studentProfileBanner1":"  ","studentProfileBanner2":"   !"},"cardLoader":{"issuing":"  \\n ","unavailableTitle":"     ","unavailableBody":"     ","conflictTitle":"     -","conflictBody":"     ","unexpectedTitle":"   ","unexpectedBody":"     ","ready":"        ","waitOperationComplete":"   "},"cardContracts":{"arrow":"","moreInfo":" ","lastUses":" ","pressMoreInfo":"     ","loadedAt":" ","type":"","purchasedFromOperator":" ","contractStatus":" ","contractRenewal":" ","canRenew":" ","noActiveContracts":"   ","noInactiveContracts":"    ","travelAreas":" ","cancelContract":" ","contractCannotBeCanceled":"   ","toCancel":"","issueCancellationRequest":" ","loginToCheck":"     - -    ","entitledCancellationRequestForContract":"  ","entitledToCancelContract":"    "},"cardEvents":{"passengers":"{{count}} ","passengers_0":" "},"usableStatuses":{"usable":" ","out_of_value":"  ","no_longer_valid":" ","no_yet_valid":"  ","erased":"   ","card_inactive":"    -","customer_profile_inactive":"   \\"{{profile}}\\"    ","noRides":"  "},"languagePicker":{"chooseLanguage":" "},"login":{"invalidDeviceTitle":"  ","invalidDeviceBody:RAVKAVONLINE":"   -         .        .","invalidDeviceBody:ALHAKAVONLINE":"   -         .        .","verificationCodeSent":"    ,         . \\n      ,    .","codeExpired":"   ","tooMuchTimePassedReLogin":"      .   .","incorrectVerificationCode":"  ,     ","tooManyAttempts":"   ","waitFewMinutes":"    ,   {{minutes}}   .","codeNotSent":"       ?","resend":" ","codeResent":"     ,        ,    ."},"settings":{"confirmLogoutToChangeServiceStation":"        .   ?"},"initServiceStation":{"fetchingTitle":"  ","fetchingBody":" ","fetchFailedTitle":"    ","fetchFailedAction":" ","notAPosOperatorTitle:RAVKAVONLINE":"       - ","notAPosOperatorTitle:ALHAKAVONLINE":"       - ","notAPosOperatorBody:RAVKAVONLINE":"      -    ,      - .","notAPosOperatorBody:ALHAKAVONLINE":"      -    ,      - .","notAPosOperatorAction":" ","noServiceStationsTitle":"   ","noServiceStationsBody":"         .       .","switchingTitle":"   ","switchingBody":",        :","switchingAction:RAVKAVONLINE":" - ","switchingAction:ALHAKAVONLINE":" - ","suggestingTitle":"  ","suggestingBody1":"      :","suggestingBody2":"  ?","suggestingAction:RAVKAVONLINE":",  - ","suggestingAction:ALHAKAVONLINE":",  - ","suggestingSecondaryAction":",   ","creatingFromRemoteIdTitle":"     {{remoteId}}","createFromRemoteIdFailedTitle":"   ","createFromRemoteIdFailedBody":"   .","showingCurrentServiceStationTitle":"     {{serviceStationName}}","showingCurrentServiceStationBody":"       ","createdFromRemoteIdTitle":"      {{remoteId}}","continue":"","selectServiceStation":"  :","typeToFilter":" ","resultsNotFound":"  ","changeUser":"   ","exit":""},"scan":{"removeCard":"      ","tryAgain":"   {{seconds}} "},"paymentMethod":{"null":" ","balance":"","creditcard":" ","creditcardShort":"","cash":""},"itemSelector":{"typeToFilter":" ","resultsNotFound":"  "},"personalArea":{"title":" ","personalDetails":" ","fullName":"","email":"","joinedAt":"  {{date}}","joinAtDate":" ","security":""},"cardContent":{"ravkavDetails":"  -","ravkavContents":"  -","expirationDate":"  -","ravkavExpired":"  -","editAction":"","profile":" {{profile}}"},"contractCounter":{"rides":"{{count}} ","rides_0":" ","days":"{{count}} ","days_0":" ","days_1":"","monthlyFlexible":" ","storedValueFlexible":"","storedValueFixed":"  {{amount}}","unknownContract":"  ","unlimited":" "},"paymentDetailsNotEntered":"   ","created":"","loadingDetails":" ","reservationApproval":" ","purchaseApproval":" ","cancellationApproval":" ","deleteCreditCardSure":"          {{lastDigits}}?","deleteCreditCardTitle":"  ","noSavedCreditCards":"   ","howToSaveCreditCard":"       \\"   \\"   .","lastChargedAt":"   {{date}}","expiredAt":"   {{date}}","delete":"","eventDescription":"{{event}} {{eventTransportMean}}","ravkavOnlineEventDescription":"{{event}} - ","organizationsErrors":{"unknown":"   ,   ","unavailable":"   ,   ","not_found":"   ,   ","bad_request":"   ,   ","organization_misconfigured":"   ","no_remaining_allowance":"   ","unexpected":"   "},"enrollmentRequest":{"title":" ","requestedExplanation":"{{organization}}      -  .","continue":"","tryAgainInFewMinutes":"     .       .","enrolledExplanation":",    ","failedExplanation":"   .     ,    ","canceledExplanation":"  ","successTitle":" !","successDescription":"  ","successBannerTitle":"  ?","successActionLabel":"     ","executing":" ,  ","success":"  ","error":"   ","failed":"   "},"localAccount":{"preferredLanguage":" ","passengerIdType":"  ","remoteAccountOpening":"  ","continue":"","accountDetails":"  ","update":"","updatedSucceeded":"  ","remoteAccount":" ","openOrUpdateRemoteAccount":"    ","unavailable":"    .      .","missingPrerequisites":"   :","missingPrerequisitesLocation":" ","missingPrerequisitesPersonalized":"   ","notOpenedYet":"     - .","foundShamashEnrollmentInProgress":"      .","completeProgress":" ","openAccount":" "},"localAccountEnrollment":{"title":"  ","executing":" ","success":"  ","error":"   ","problemWithOpeningLocalAccount":"    .    ","failed":"    ","continue":"","tryAgainInFewMinutes":"     ","enrolledExplanation":"   "},"shamashErrors":{"unknown":"   ,   ","unavailable":"    .      .","not_found":"   ,   ","bad_request":"   ","location_required":"   ","passenger_hash_incompatible":"      ","unexpected":"   "},"membershipPage":{"title":" ","reload":"","failedToFetchContract":"       ","devNotifiedTryLater":"   !      .","timelineInactiveMembership":"   .    ","timelineGotAllowance":"    {{allowance}}","timelineCanLoadContract":"  {{contractName}}","timelineCanLoadStoredValueWithoutDiscount":"     {{price}}","timelineCanLoadStoredValueWithDiscount":"     {{price}} (-     {{counterValue}}   {{profile}})","timelineCantLoadContract":"    {{contractName}}","timelineWillHaveLeft":"  {{remainingAllowance}}    ","timelineHaveLeft":"  {{remainingAllowance}}    ","timelineAllowanceWillBeRenewed":"  "},"blacklist":{"title":" ","cardInBlacklist":"  ","invalidateCard":" ","invalidatedSuccessfully":"  ","executing":" ,  ","wasntInvalidated":"   ","success":"   "},"allowanceAvailabilityCannotClaimReason":{"membershipNotActiveYet":"   .      {{date}}.","membershipInactive":"   .       .","insufficientAllowanceForContract":"       .       .","maxedStoredValueCap":"  {{currentStoredValue}}     -       -{{cap}}  .        -.","exceededStoredValueLimitOnCard":"    -.       -.","noRemainingAllowance1":"     .","noRemainingAllowance2":"   {{date}}.","overlappingExistingContract":"      -.          .","noMatchingContractToClaim":"    .       .","noMatchingContractForAnonymousCard":"       -  - ."},"cardNotification":{"cancellableTransaction":"  {{ett}}    {{timestamp}}.","cancellableProfile":"   {{profile}}    {{timestamp}}.","cancelLoading":" ","moreInfo":" ","canLoadProfileImmediately":"      :","thanksNotInterested":" ,  ","loadAProfile":" ","existingProfileLoadingFound":"      -   {{dateTime}}.","continueProfileLoading":"  ","reservedTransaction":"  {{contract}}       {{by}}  {{at}}.","loadTheContract":" ","unusableStoredValueFound":"        {{profile}} (   ).","convertibleStoredValueFound":"        , {{profile}} (   ).","convertAStoredValue":"  ","cardValidityExtension":"   -   {{endDate}}.     -   {{until}} (   ).","extendCardValidity":"  ","fulfillCompensation":" ","gotAllowance":"    {{remainingAllowance}} {{organization}}","gotAllowanceRedacted":"   {{organization}}","load":"","invitationFromOrganization":"    -   \\"{{organization}}\\"","joinOrganization":"","entitledCancellationRequestForContractOnCard":"         -","entitledCancellationRequest":"     ","issueCancellationRequest":" ","existingCancellationRequestFound":"     -   {{createdAt}}.","continueCancellationRequest":" "},"vatStatus":{"name":" \\"","included":"","exempt":""},"modeOfTransport":{"titlePlural":" ","rail":"","bus":"","light_rail":" ","cable_car":""},"distanceRange":{"name":" ","15km":" 15 \\"","40km":" 40 \\"","75km":" 75 \\"","120km":" 120 \\"","225km":" 225 \\"","unlimited":" "},"enterCreditCard":"  ","securePayment":" ","note!":" !","onlyFewHoursRemaining":"    .        .","contractOverlapsWithExisting":"     .   {{count}} .        .","contractOverlapsWithExisting_0":"     .    .        .","viewContract":" ","contractStartDate":"  ","fromLoadingDate":"  ","changeDate":" ","numMinutes":"{{ count }} ","numMinutes_0":" ","contractComments":" ","acceptedByOperators":" ","fareCodes":" ","fareCodeRoutesSystem":" {{routesSystem}}   {{fareCode}}","changeOperator":" ","chooseOperator":" ","chooseOperatorSubTitle":"      .      .","contractDetails":" ","cantBeCompleted":"    ","tryAgainLater":"     ","purchase":"","pay":"","get":"","minMaxPrice":"    {{minPrice}}  {{maxPrice}}","cantLoadMoreStoredValue":"       ","refundedAmount":"","estimatedBalanceAfter":"   ","pleaseWait":" ","send":"","newCreditCard":"  ","savedCreditCard":"  ","enterPersonalId":"         ","personalId":" ","installments":"","chooseAnotherCreditCard":"  ","chooseCreditCredit":"  ","paymentFailed":" ","notCharged":"  ","errorThatWasReceived":"  ","searchingSavedCreditCards":"   ","connectingSecure":"  ","loadingPaymentPage":"   ","paymentCancelled":" ","systemMessagesReset":"  ","systemMessagesResetExplanation":"  ,  .","messagesWillReappear":"    .","ok":"","select":"","softwareVersion":" ","appVersion":" ","brandWebsite:RAVKAVONLINE":" - ","brandWebsite:ALHAKAVONLINE":" - ","faq":" ","contact":" ","notifications":"","getUpdates":"   ","getUpdatesExplanation:RAVKAVONLINE":"   , ,  - .","getUpdatesExplanation:ALHAKAVONLINE":"   , ,  - .","reset":"","cardHolderPersonalId":"     -","cardHolderPassport":"     -","didYouMean":"  ","additionalAreas":" ","chooseProfile":" ","profileMustBeOnCard":"    -","anonymousCard":" ","chooseFlexibleStart":"    ","chooseFlexibleStartSubTitle":"      .","km":"{{ km }} \\"","app":{"failedToInitPage":"  .","notifiedAndWillHandle":"      ."},"welcome":{"ravkav":"-","actions":"","trainTitle":" ","trainBody":"  ","loadContractTitle":" -","loadContractBody":"    ","cardContentsTitle":"  ","cardContentsBody":"   -","loadProfileTitle":" ","loadProfileBody":"  ","convertStoredValueTitle":"  ","convertStoredValueBody":"    ","extendCardValidityTitle":"  ","extendCardValidityBody":"     ","noNfcTitle":"   NFC ","noNfcBody":"     -","noNfcAction":"  NFC","services":"","findServiceStationTitle":"  ","findServiceStationBody":"     ","reservationTitle":" ","reservationBody":"   ","orderRavKavTitle":" -","orderRavKavBody":"  -   ","information":"","personalAreaTitle":" ","personalAreaBody":" ,  ","contractSearchTitle":" ","contractSearchBody:RAVKAVONLINE":"   - ","contractSearchBody:ALHAKAVONLINE":"   - ","reformSearchTitle":"   ","reformSearchBody":"    ","aboutTitle":"","aboutBody:RAVKAVONLINE":"  - ","aboutBody:ALHAKAVONLINE":"  - ","howWouldYouLike":"    -?","appTitle":"","appBody":"    NFC","appAction":" ","serviceStationTitle":" ","serviceStationBody":" ,  ","serviceStationAction":"  ","pcTitle":"","pcBody":"  ","pcAction":" "},"contractLoadSuccess":{"title":"-  ","purchaseConfirmationSent":"    ","viewPurchaseConfirmation":"  ","scanAgain":"  -   ","thanks":" ","hadFun":"? ?"},"userBalance":{"credit":"","inProgressTitle":" ","inProgressBody":"     ","availableCreditTitle":"   ","creditDisabled":"  .\\n    ."},"messages":{"required":" ","email":"   ","number":"    ","minlength":"   ","maxlength":"   ","arrayMinlength":"   ","arrayMaxlength":"   ","equalto":"   ","mustAccept":" ","login_unknown_error":"   .    .","invalid_credentials":"   /   ","inactive_user":"  .        .","invalid_software":"  .   .","restricted_software":"    .   .","invalid_device":"    .       .","israeliPersonalId":"   ","pattern":"   ","invalid":"  ","recaptcha":"   ","ravkavHolderName":"         -     "},"messagesUsername":{"username":"   ","invalid_credentials":"  /   "},"changePassword":{"title":" ","devicesWillDisconnect":"    ","current":" ","new":" ","newAgain":"  ()","invalidPassword":"  .    .","incorrectPassword":"   .   .","unexpectedError":"   .   .","submit":" ","successTitle":"","successBody":" ","successMessage":"  !"},"updatePersonalDetails":{"title":"  ","updateDetails":" ","nameFirst":" ","nameLast":" ","unexpectedError":"   .   ."},"versionUnsupported":{"title":"  ","update":" ","continue":"  ","message:RAVKAVONLINE":"      ( {{version}})   .    .\\n\\n       - .","message:ALHAKAVONLINE":"      ( {{version}})   .    .\\n\\n       - ."},"reload":{"title":"","initiating":"  ","executing":",  ","inactiveTitle":"   ","inactiveBody":"    ","smsQuestion":" SMS  ?","smsAnswer":"  !","smsMoreInfo":" ","notLoaded":"  ","notCharged":"  ","success":"  ","ready":"     -  ","balanceBelow":"   {{balance}}","loadingNewRequest":"  ","personalIdRequired":"      ","actionAlreadyUsed":"    ","notCompletedTitle":"   ","notCompletedBody":" -        .\\n\\n    ?","notCompletedAbortReloading":",    ","notCompletedBackToReloading":",     -","reloadingAbortedBody1":"    !","reloadingAbortedBody2":"        .   ,    .\\n\\n    ,   .           .","reloadingAbortedOk":"","almostDoneTitle":" ","almostDoneBody":"    -    .","almostDoneContinue":"!  ","scanRavKavCard":"  -"},"cancelReloadSuccess":{"title":"  ","body":"    ","scan":"  -   ","thanks":" ","rateUsMessage":"   !"},"units":{"M_0":"{{count}} ","M":"{{count}} ","KM":"{{count}} \\""},"days":{"1":" ","2":" ","3":" ","4":" ","5":" ","6":" ","7":" "},"times":{"lastMonth":" ","lastWeek":" ","yesterday":"","today":"","tomorrow":"","dayAfterTomorrow":"","thisWeek":"","thisMonth":""},"creditCard":{"endsWith":"   {{lastDigits}}"},"rateUs":{"title":"   !","action":""},"searchContracts":{"title":"  ","filterEtt":" ","notAnonymous":" ","storedValueForProfile":"  {{profile}}","forProfile":"  {{profile}}","resultsCount_0":"  ","resultsCount":" {{count}} ","resultsAnonymous":" - ","resultsForProfile":" ","train":" ","searchFailed":" ","notPermittedForAnonymous":"   - ","partialSearchClearing":"        ","recentSearches":" ","willDisplayRecentSearches":"    ","unexpectedError":"   ","selectEttChoice":"   ,     ","howSearchWorks":"  ?","howSearchWorksItem1":"     .   \\"\\", \\" 2\\", \\"  \\" - \\"\\".","howSearchWorksItem2":"   ,       -  15 \\".         .","howSearchWorksItem3":"   ,        .  :           .","howSearchWorksItem4":"    ,          .","howSearchWorksItem5":"   -           ."},"searchContractsTextSearch":{"searchSettlements":" ,  , ","addMore":"","search":" {{term}}"},"trainTariffPicker":{"origin":" ","destination":" ","selectStations":"    ","fetchFailed":"   ","perRide":"{{saving}} ","profile":" {{profile}}","select":"","lastRoutes":" "},"newAddressForm":{"address":"","name":"","nameComment":"      ","city":"","street":"","houseNumber":" ","entrance":"","zip":"","apartment":" ","poBox":" ","apartmentComment":"0  ","comments":"","save":"","autoComplete":"    ","searchAddress":" ","fillAddressManually":" ?  "},"order":{"purchasableAlreadyInOrderTitle":"        ","purchasableAlreadyInOrderBody":"     .","multipleShipmentsTitle":"  ","shipmentRequiredTitle":"   ","nothingToShipTitle":"    ","unexpectedError":"   .","listTitle":"","myOrders":" ","notFound":"  ","itemsCount_0":" ","itemsCount":"{{count}} ","createdAt":"  {{date}}","detailsTitle":" ","backToList":" ","pay":"","status":" ","paymentMethod":" ","total":"\\" ","cancelTitle":" ","cancelBody":"          .","cancelAction":" ","orderNotFound":"  ","makeSureTheRightAccount":"        ","confirmCancellation":"       ?","checkoutTitle":" ","continue":"","incompleteNotificationTitle":" {{count}}   ","incompleteNotificationAction":"  ","itemsNotFound":"  .","itemsTitle":" ","itemsBody":"       :","shipmentTitle":"","shipmentBody":"      .","shipmentType":" ","address":"","shipmentAddress":" ","newAddress":"  "},"reformSearch":{"chooseMetropolin":" ","showTrain":"  ","chooseContractType":"   ","chooseContract":" ","noSelectionTitle":"   ","noSelectionBody":"     ","noResultsTitle":"  ","noResultsBody":"    ","predefinedContract":" ","showSeniorPrice":"      50%-","clear":""},"serviceStations":{"title":" ","found_0":"   ","found":" {{count}}  ","notFound":"     ","notFoundDontWorry":"  ?  !","notFoundAskFriend":"     ","notFoundClickMap":"     .","moreInfo":" ","openingHours":" ","navigateToServiceStation":" ","goToServiceStation":" ","usingNavApp":"  ","advancedSearch":" ","address":"","typeToSearch":" ","servicesAtStation":" ","pristineBody":"     ,    \\" \\"  .","reservationAction":"   ","operatingCompany":"  ","comments":"","activityHours":" ","attributes":"","back":" ","foundHeader_0":"  ","foundHeader":" {{count}} ","actions":"","noLocation":"  ","loadingMap":"  ","mapUnsupported":"      ","mapFailed":"   .\\n     ."},"serviceStationAttribute":{"accepts_cash":" ","accepts_credit_card":" ","manned":"","ravkav_services":" -","reload_reservation":"  ","sells_ravkav_reader":"   -"},"currentLocation":{"turnOnGps":"   ","find":" ","locating":" ","update":" ","permissionDenied":"    ","failed":"   "},"browserUnsupported":{"title":"  ","notSupported":"        \\"  ","suggestBrowser":"\\"          .\\n      \\" :","afterInstall":"      ."},"deviceUnsupported":{"title":"  ","loadingInApp:RAVKAVONLINE":"   - ","loadingInApp:ALHAKAVONLINE":"   - ","imageAria":"      ","info":"         ","faqAction":" "},"payment":{"title":"","payment_option_balance":"  ","payment_option_existing_credit_card":"  ","payment_option_new_credit_card_track2":" ","payment_option_new_credit_card_emv":"EMV","payment_option_new_credit_card_details":"  ","contract":"","receivedMessage":" :","paymentForContract":"  ","paymentForOrder":"  ","choosePaymentMethod":"   ","additionalPaymentMethods":"  ","pay":"","selectedCreditCard":"     {{lastDigits}}.","payWithBalance":" ","payWithApplePay":"  Apple Pay","payWithGooglePay":"  Google Pay","payWithCreditCard":" ","continue":"","inactive":"  .   .","alreadyUsed":"     .       .","unableCompleteCashPayment":"        .\\n      .","unavailable":"     .      .","unexpectedError":"   .","disabledTitle":" .","disabledBody":"    .","insufficientFundsTitle":"     .","insufficientFundsBody":"      {{amount}}.\\n    .","checkBalance":"     ","connecting":"  ","mpiPageTitle":"  ","idLabel":"     ","actionFailed":" ","tryActionAgain":"      ","actionCanceled":" ","reason":" ","selectOption":"   :","scanning1":"  ","scanning2":"    ","emv1":"EMV","emv2":"     ","details1":"  ","details2":"   , ,     (CVV)   ","pleaseSelectAPaymentMethod":"   ","enterCardDetails":"   ","changePaymentMethod":"  ","payWithCardEndingWith":"   {{last_four_digits}}","payWithNewCreditCard":"   ","noAvailablePaymentOptionsTitle":"    ","noAvailablePaymentOptionsBody":"     ","makeSureValuesCorrect":"    ","sessionInUse":"     ","connectionFailed":"    .   ","googlePayPromotion":"      ?    Google Pay.","deprecatedPaymentMethods":"  ","paymentWithoutEmv":"  EMV"},"buyaHostedFields":{"panLabel":"  ","expLabel":"","personalIdLabel":" ","personalIdTooltip":"     .       ","leaveBlank":"     ","cvvTooltip":"3   ","track2Label":"  ","numberOfPaymentsLabel":" ","reusableLabel":"  ","pay":"","cardExpired":"  ","initFailedUserError":"   ,       .\\n     ,    ","threeDSExplanation":"    \\n    "},"scanState":{"connecting":"","cantConnect":"  ","checkConnection":"     ","keepPressed":"     "},"ravkavIssueRequest":{"stateDescriptionCreated":"      .","stateDescriptionExpired":"         .","stateDescriptionPendingInspection":"    .","stateDescriptionInMandatoryWait":"  -        .      -.","stateDescriptionPendingIssuance":"    .","title":" -","notificationApprovedTitle_0":"  - ","notificationApprovedTitle":" {{count}}    -","notificationApprovedBody":"     ,     .","notificationOrderTitle":"   ","notificationOrderBody":"      ,     .","completeOrder":" ","notificationOrderMultipleTitle":" {{count}}   ","notificationOrderMultipleBody":"     ,     .","myRequests":" ","newAction":" ","forHolder":" {{holderName}}","completeDetails":"     ","detailsTitle":"  -","backToCheck":" ","newRequest":" ","submitNew":" ","personalDetailsTitle":" ","personalDetailsBody":"        -    .","nameFirst":" ","nameLast":" ","personalIdType":"  ","personalId":" ","passport":"","numbersLetters":"8-9  ","phone":"","birthDate":" ","documents":"","documentsFor":"     ","missingDocuments":"  ","cancelTitle":" ","cancelBody":"   .      .","cancelConfirm":"   .       .    ?","cancelAction":" ","requestDetails":" ","requestState":" ","placeOrder":" ","disapprovalReason":"  ","createdAt":" ","notDefined":" ","issuedTitle":" - ","serial":" :","requestNotFound":"  ","makeSureTheRightAccount":"        ","confirmCancellation":"       ?","createTitle":"   -","create":" ","issueTypeTitle":"   :","issueTypePrice":"   {{price}}","withoutWaiting":" ","profileTitle":"    :","regularProfile":"","regularProfileComment":" -    .","specialProfile":"","specialProfileComment":" -     .\\n -         .","errorNotAllowedTitle":"     .","errorNotAllowedAction":"  .    .","errorMissingPrerequisitesTitle":"   .","errorDocumentTitle":"  .","errorDocumentAction":"   .","errorDoesNotExistTitle":"  .","errorDoesNotExistAction":"     .","errorInvalidFileTypeTitle":"   .","errorInvalidFileTypeBody":"      :","errorInvalidFileSizeTitle":"   .","errorInvalidFileSizeBody":"    ","errorInvalidFileNameTitle":"   .","errorInvalidFileNameBody":"       {{maxLength}}    .","errorConflictingProfiles":"   .      .","errorActiveRavkavIssueRequestForPersonalId":"      .\\n    ,        .","errorNotEligibleForProfile":"      {{profile}}:","goToRavkavIssueRequestDetails":"  ","errorUnexpectedError":"   .","gotRequest":"  !","inspectingRequest":"       .","mailWhenDone":"      .","suggestMoreRequests":"     ,     ?","orderMore":"  - ","noThanks":" !","alt":" ","privacyTitle":"  !","privacyBody":"           .","ravkavDesignSelection":"  -","ravkavDesign":" -"},"installDesktop":{"title:RAVKAVONLINE":"  - ","title:ALHAKAVONLINE":"  - ","doneAction":" , ","windowsDownload":" ","macDownload":" ","linuxDownload":" ","steps1":"   .","steps2":"       .","steps3":"     \\"  \\"           \\"\\".","steps4":"    .","steps5":"    .","steps6":"      .","incorrectOS":"    ?","suggestWindows":" (Windows)","suggestMac":" (macOS)","suggestLinux":" (Ubuntu, Debian)","noDownload":"  "},"scanSlideshow":{"androidDontMoveTitle":"     ","androidDontMoveBody":"        ","androidTryAgainTitle":"    ","androidTryAgainBody":"         ","androidTrySpotsTitle":"      ","androidTrySpotsBody":"       ","androidNoCaseTitle":"   ","androidNoCaseBody":"   ","androidTurnPhoneTitle":"   ?","androidTurnPhoneBody":"  NFC     ","iosPlaceCardTitle":"   -","iosPlaceCardBody":"      ,  ","iosCardManufacturerTitle":"   ","iosCardManufacturerBody":"  ASK        iPhone X","iosTryAgainTitle":"    ","iosTryAgainBody":"         ","iosNoCaseTitle":"   ","iosNoCaseBody":"   "},"emvSlideshow":{"deviceNowSupportsEmvTitle":"       EMV","deviceNowSupportsEmvBody":"   ","contactlessExplanationTitle":"      ","contactlessExplanationBody":"     ","supportsGooglePayApplePayTitle":"    ApplePay - GooglePay","supportsGooglePayApplePayBody":" ","mightRequirePinCodeTitle":"            ","mightRequirePinCodeBody":" !         ","track2FallbackTitle":"     -EMV,     ","track2FallbackBody":"     ","notificationTitle":"!   EMV","notificationBody":"   "},"reservation":{"title":" ","cantReserveContract":"     .","reserveOtherContract":"   .","unknownError":"     ","tryAgain":"       .","reserveContract":" ","makeReservation":" ","success":"  !","completeLoading":"       ,      ","trackReservation":"   ","hadFun":" ?","cancel":"  ","cancelConfirm":"       ?","cancelled":"   ","cancelError":"    ","reservedLoading":" ","loadReservation":"  ","findServiceStation":"  ","contractStartDate":"  ","contractStartsAtLoading":"  ","changeDate":" ","reservedBy":"  ","cancelReservation":" ","contract":" ","forRavkavCard":"   -","fromOperator":" ","reservedAt":" ","useUntil":"  ","loadMoreDetails":"     ","load":"","scan":" ","backToCard":"  ","backToProfile":"  ","backToContract":"  ","thanks":" ","additionalReservation":" ","useDateRange":"  ","reservationCanceling":"  ","reservedLoadingDetails":"  ","reloadingStatusPristineTitle":"     .","reloadingStatusPristineBody":"     {{full_name}}  {{modified}}.","reloadingStatusFailedTitle":" ,  .","reloadingStatusFailedBody":"     {{full_name}}  {{modified}}.","reloadingStatusSuccessTitle":"  !","reloadingStatusSuccessBody":"    {{reloaded_full_name}}  {{modified}}.\\n    {{created_full_name}}.","reloadingStatusAbortedTitle":"   {{modified}}     {{full_name}}.","reloadingStatusAbortedBody":"  .","activeStatusActiveTitle":"      -:","activeStatusActiveList1":"      .","activeStatusActiveList2:RAVKAVONLINE":" -    .","activeStatusActiveList2:ALHAKAVONLINE":" -    .","activeStatusActiveList3:RAVKAVONLINE":"     - .","activeStatusActiveList3:ALHAKAVONLINE":"     - .","activeStatusActiveAction":"  ","activeStatusFutureTitle":"   .","activeStatusFutureBody":"      {{activeFrom}}.","activeStatusInactiveTitle":"       .","activeStatusInactiveBody":"   .","abortErrorTitle":"     ","abortErrorBody":"  .","abortedTitle":"   ","abortedBody":"  ."},"selectUserRavkav":{"title":"  -","subTitle":"    -   ","newRavkav":" ","existingRavkav":" ","enterRavkavNumber":"  -   ","enterRavkavNumberExplain":"    - ","moreRavkavs":" - "},"interchangeRight":{"hourlyPass":" ","hourlyPassExpiry":" {{expiry}} {{area}}","continuationRide":" ","continuationUntil":" {{expiry}}","remainingTrips":" {{count}} ","remainingTrips_0":"  "},"payoutMethod":{"title":" ","credit_card":" ","cash":""},"cancellationRequestRavkavAnonymity":{"title":" -","anonymous":"","semi-anonymous":" ","personalized":""},"cancellationRequest":{"title":" ","authorizingPayoutMethodTitle":"   ","authorizingPayoutMethodExplanation":"          ","enterPersonalIdOfCardOwner":"       ","authorizingPayoutMethodFailed":" ","unexpectedError":"   .   .","requestType":" ","changePayoutMethod":"  ","payoutAmount":" ","notYetDetermined":" ","abortAction":" ","cancelRequest":" ","requestDetails":" ","saveForLater":"  ","iWantToStay":"  ","missingDetails":"!     .","howToContinue":"  ?","abortConfirm":"   .       .    ?","ravkavOwnerDetails":"   -","personalId":" ","whoToPay":"  ?","ravkavDocumentApproveLabel":"           -","payToRavkavOwnerWithId":"  -,   :","payToSomeoneElse":" ","paidToDetails":"  ","requestApproved":" ","howWantGetPayout":"    ","noPayoutMethod":"    .    .","toCardOfIdOwner":"     :","updateSoftwareForCreditCard":"         ","updateSoftware":" ","cash":"","giveCashAmountToUserAfterCancellation":"        {{amount}}","giveCashAmountToUser":"      {{amount}}","makeSureHaveCash":"   .          .","agreeHaveEnoughCash":"   ","cancel":"","abortedTitle":" ","expiredTitle":"  ","iUnderstand":"","retry":"     \\"   -  .","idNotMatchingIdOnCard":"       -  -","backToFixId":"  ","validateDifferently":"  ","pendingApprovalTitle":"  ","pendingApprovalBody":"       .       ","pendingApprovalBodyPos":"         .\\n\\n         -          .","checkRequest":"  ","declinedTitle":" ","failedTitle":" ","successTitle":"!","successBody":"   !","executeExecuting":" ,  ","executeSuccess":"  ","executeError":"   ","executeFailed":"  ","pendingPayoutTitle":"  ","checkPayoutStatus":"  ","pendingPayoutCreditCardExplanation":"    ","payoutFailedTitle":" ","payoutFailedExplanation":"   .     .","getApprovalForFailed":"  ","willPayoutToCreditcard":"   ","mayTakeUpTo7Days":"      7  .       ,    ."},"profileLoading":{"title":" ","errorNotAllowed":"      .","actionNotAllowed":"    .","errorActiveProfileLoadingForCard":"    ","actionActiveProfileLoadingForCard":"    .","errorContractNoLongerValid":"  .","actionContractNoLongerValid":" .","errorMissingPrerequisites":"     .","errorNotEligibleForQuickApproval":"      ,       !","errorCannotApplyQuickApprovalToRavKavIdType":"       -       .      .","errorRavkavPersonalIdDoesNotMatchPersonalId":"           -.","errorDocumentTagRequired":"  .","actionDocumentTagRequired":"    ","errorDoesNotExist":"    .","actionDoesNotExist":"    .","errorActiveReloadingTransaction":"     -.","actionActiveReloadingTransaction":"   .       .","errorInvalidFileType":"   .","actionInvalidFileType":"      :","errorInvalidFileSize":"   .","actionInvalidFileSize":"    ","errorInvalidFileName":"   .","actionInvalidFileName":"       {{maxLength}}    .","errorUnexpected":"   .","actionUnexpected":"     .","errorCode":" : {{code}}","unknownInstitution":"   ","exitMessage":"    .  ?","abortMessage":"      ?","customerProfile":" {{id}}","endDateTypeFixed":" {{date}}","endDateTypeEndOfCard":"    -","endDateTypeFarFuture":"   -","endDateTypeAge18":"  18","endDateTypeManual":"    ","addDocument":"+  ","abortAction":" ","noCardHeader":"   -","noCardAction":" ","noCardTitle":"    -?","noCardBody":"       .","moreQuestions":" ?","moreDetails":"    ","profileLoadingAt:RAVKAVONLINE":"  - ","profileLoadingAt:ALHAKAVONLINE":"  - ","chooseProfileLoadingType":"     ","immediateProfiles":"  ","immediateProfilesNoDocuments":"       ","loadProfile":" ","loadProfileShort":"","profilesForLoading":" ","requestProfileLoading":"   ","submitRequest":" ","notEligibleProfiles":"     - ","notEligibleExplained":"        -","notEligibleConditions":" -     :","notEligibleProfileCutOffByExpiration":"       -.    -     .","notEligibleProfilesAlreadyExist":"          .","notEligibleNoSpaceForProfiles":"      -.","inProgress":"      -","continue":"","continueProfileLoading":"        - .","selectInstitution":"  ","selectEtt":"  ","typeToFilter":" ","filteredInstitutionName":"      ","institutionNotFound":"    ","institutionNotFoundSuggestion":"     .\\n           .","uploadDocument":" ","uploadDone":"","requestDetails":" ","termsTitle":"         .","termsBody":"            .      -           .","termsApprove":" ","manualEndDateForCustomerProfile":"  {{ customerProfile }}","institution":" ","submittedDocuments":" ","pendingApprovalTitle":"  ","pendingApprovalBody":"       .       ","checkRequest":"  ","iUnderstand":"","retry":"     \\"   -  .","declinedTitle":" ","approvedTitle":" !","failedTitle":" ","successTitle":"!","successBody":"   !","canceledTitle":"  ","canceledBody":"    .","abortedTitle":" ","expiredTitle":"  ","missingDetails":"!     .","howToContinue":"  ?","saveForLater":"  ","cancelRequest":" ","iWantToStay":"  ","checking":"","uploading":"  {{name}}","deleting":"","personalIdPromptTitle":"   -","personalIdPromptBody":"           -.","regularProfile":" ","orderRavkavTitle":"   -?","orderRavkavBody:RAVKAVONLINE":"-     -     .","orderRavkavBody:ALHAKAVONLINE":"-     -     .","orderRavkavAction":"  -","contractChoose":" ","chooseContract":" ","confirmRequest":" ","loading":"","personalIdLabel":"     -","personalIdPlaceholder":"  ","passportLabel":"     -","passportPlaceholder":" ","submitNewRequest":"  ","abortConfirm":"   .       .    ?","backButtonSelectInstitution":"  ","backButtonApplyQuickApproval":"  ","backButtonChooseContractGroup":" ","backButtonChooseContract":"  ","backButtonUpload":" ","finishAllSteps":"     .","contract":"","notifyContractLoading1":" !","notifyContractLoading2":"       ","privacyTitle":"  !","privacyBody":"           .","quickApproval":" ","quickApprovalTitle":" ","quickApprovalCannotApplySubtitle":"      ","quickApprovalApplyingSubtitle":"      .      ,         :","quickApprovalAppliedTitle":"   !","quickApprovalAppliedBody":"         !","quickApprovalWhatIs":"   ?","firstNameLabel":" ","lastNameLabel":" ","skipQuickApprovalCheck":"   ","quickApprovalPrivacyBody":"    ,     .","checkQuickApproval":"","promo1":"   ?","promo2":"     50%    -!","promoDismissed1":",       - .","promoDismissed2":"       ."},"billingSummary":{"billingSummary":" ","periodSummary":"     ","fromDate":"","toDate":" ","deviceNumber":" ","quickReport":" ","query":"","queryFailed":"  ","tryAgain":"  ","forPeriod":" {{date}}","allDevices":" ","specificDevice":" {{device}}","total":"\\"","chargesMinusRefunds":"  ","charges":"","actions":"","refunds":"","creditcard":" ","balance":"","print":""},"billingSummaryError":{"no_range":"  .","invalid_range":"   .","too_large":"   .        ."},"billingStatus":{"no_payment_details":"   ","not_charged_yet":" ","will_not_be_charged":" ","charged":"","refunded":""},"orderBillingStatusName":{"no_payment_details":"   ","not_charged_yet":"  !","will_not_be_charged":"  ","charged":"  ","refunded":"   "},"orderBillingStatusDescription":{"no_payment_details":"        .","not_charged_yet":"        .\\n       .","will_not_be_charged":"  ,     .","charged":"          .","refunded":"  ."},"ravkavIssueRequestState":{"created":" ","aborted":" ","expired":"  ","pending_inspection":"","approved":" ","declined":" ","in_mandatory_wait":"  ","pending_issuance":"","ravkav_card_issued":" - ","delivery_failed":" ","defective":""},"eligibilityCondition":{"personalized":"   ","current_student":"  ","active_student":"   ","under18":"  18","over65":"  65","over60":"  60","over62":"  62","over67":"  67","over75":"  75","current_senior_citizen_75_plus":"    75+"},"document":{"personal_id":" ,    ","personal_id_body":"              ","student_permit":"    ","student_id":"            ","student_id_body":" :       ,      ","ravkav":" -","ravkav_body":"     ","headshot":" ","headshot_body":"    ","pupil_permit":" ","pupil_permit_body":"    ","disability_certificate":" ","disability_certificate_body":"       ","national_insurance_certificate":"   ","national_insurance_certificate_body":"       ","national_service_certificate":"   ","national_service_certificate_body":"   -   ","blindness_certificate":" / ","blindness_certificate_body":" /      ,      ","ministry_of_defence_approval":"  ","ministry_of_defence_approval_body":"           ,    ","unknown":" "},"eventCircumstances":{"cancelPrevalidation":"  ","prevalidation":" "},"transactionHistory":{"loadingsMadeOnThisDevice":"   ","status":" ","purchaseApproval":" ","cancellationApproval":"  ","updateFilterRetry":"     ","forCard":"    - {{ serial }}   "},"contractConfirm":{"backToSearch":"  ","loadInApp:RAVKAVONLINE":"   - ","loadInApp:ALHAKAVONLINE":"   - "},"connect":{"title":"  ","pristineTitle":"  ","pristineBody":"           .","busyTitle":"  ","readerDisconnectedTitle":"    ","readerDisconnectedList1":"     USB .","readerDisconnectedList2":"      ,      USB .","noCardTitle":"    ","noCardList1":"  -     \'    .","noCardList2":"        .","noCardList3":"  -  ,     - .","networkErrorTitle":"   ","networkErrorBody":"        .","connectionRefusedTitle":"     ","sslTitle":"    ","sslList1:RAVKAVONLINE":"  -     ,      .","sslList1:ALHAKAVONLINE":"  -     ,      .","connectionRefusedList1":"             .","connectionRefusedList2":"     (Firewall)   .","connectionRefusedList3":"        ","connectionRefusedList3Action":" ","readErrorDefaultMessage":"    -","readErrorList1":"  -     \'    .","readErrorList2:RAVKAVONLINE":"    -  \' .  ,    -        .","readErrorList2:ALHAKAVONLINE":"    -  \' .  ,    -        .","readErrorList2Action":"     ","readErrorList3":"   ,      .","readErrorList4":"    ,     .","userApprovalTitle":"      ","userApprovalList1":"           .","userApprovalList2":"     ,     ,      .","userApprovalAction":" ","refresh":" "},"registrationUsername":{"username":" ","enterUsernameToReset:RAVKAVONLINE":"      - ,      .","enterUsernameToReset:ALHAKAVONLINE":"      - ,      .","verificationCodeSent":"  ","enterCode":"   ","staleTokenExplainedResetPassword":"       ,       .        ."},"registration":{"email":" ","login":"","doLogin":"","password":"","passwordAgain":" ()","nameFirst":" ","nameLast":" ","firstTime":" ?","newPassword":" ","newPasswordAgain":"  ()","register":"","forgotPassword":"  ?","registration":"","rememberMe":" ","invalidPassword":"  .    .","invalidCaptcha":"  .   .","alreadyExistsActive":"       .        .","actionReset":" ","alreadyExistsInactive":"       .         .","actionActivate":" ","unexpectedError":"   .   .","approveTerms1":"  ","approveTerms2":" ","actionRegister":"","resetPassword":" ","enterEmailToReset:RAVKAVONLINE":"/       - ,      .","enterEmailToReset:ALHAKAVONLINE":"/       - ,      .","tryAgain":"  ","activate":" ","verificationCodeSent":"      {{ email }}","verificationCheckEmail":"   ,    ","verificationCode":" ","incorrectToken":" ","incorrectTokenAction":"       .","emailNotReceived":"     ?","sendAgain":" ","resendActivationSent":"      {{email}}.    .","resendActivationNotReceived":"    ,  .\\n       ,    .","resendActivationInvalid":"         ,         .\\n\\n    ,  .\\n\\n       ,    .","staleToken":"   ","staleTokenExplainedRegister":"      .   .","staleTokenExplainedResetPassword":"       ,        .       .","outOfAttemptsToken":"   .","outOfAttemptsTokenExplained":" ,   {{minutes}}    .","resend":" ","activating":"   ","resending":"    ","userActivated":"  !","continueToBrand:RAVKAVONLINE":" - ","continueToBrand:ALHAKAVONLINE":" - ","contact":"  ","invalidToken":"  .       .","resetActivationNotReceived":"        ,           .\\n\\n    ,  .\\n        ,   .","resetting":" ","resetPasswordSuccess":"  !"},"svc":{"title":"  ","nocard":"   -","nocardAction":" ","notEligible":"    ","notEligibleAction":"","eligible":"    ","eligibleAction":"","converts":" ","h1":"     ?","h11":"      ","p11":"                .","h12":"         ","p12":"                 .","questions":" ?","moreDetails":"     ","inaccessible":" ","explainedTitle":" ","convert":"","convertStoredValue":"  ","executing":" ","notConverted":"  ","convertedSuccess":"  ","confirmationSent":"   ","scanToView":"     ","thanks":" ","rateUs":"  ?","errorNoSvc":"     -","errorNoContractTitle":"     ","errorNoContractBody":"   "},"svcExplained":{"inaccessible":"   {{before}}      \\"{{from}}\\"     {{after}}   \\"{{to}}\\".","accessibleSame":"   {{before}}    \\"{{profile}}\\"      .","accessibleDifferent":"  {{before}}    \\"{{from}}\\"     {{after}}    \\"{{to}}\\".","after":" ,      {{after}}  \\"{{to}}\\"."},"cve":{"title":"  ","canExtend":"    ","canExtendAction":"  ","extendExplained":" -    {{endDate}}.\\n     -   {{newEndDate}}.","nocard":"   -","nocardAction":" ","cannotExtend":"     ","cannotExtendCardExpiredExplained":" -   {{endDate}}.\\n        .","cannotExtendCardNotExpiredExplained":" -    {{endDate}}.\\n      .\\n       .","moreDetails":"     ","executing":" ","notExtended":"   ","extendedSuccess":"  ","scanToView":"     ","confirmationSent":"   ","thanks":" ","rateUs":"  ?"},"contractGroupDetails":{"flexibleStoredValueTitle":"  ","chooseFlexibleStoredValue":"       ","chooseStartingDate":"     ","chooseOperator":"      ","nonRoundedPrice":"  ","contractNotRespectedInArea":"     .       .","contractNotRespectedInAreaWithCity":"     \\"{{city}}\\".       .","paymentConditions":" ","installmentsExplanation":" {{maxPayments}}   "},"cause":{"10Title":" ","11Title":"   -","11Body":"   - ","12Title":"      ","12Body":"   {{id}}     .     .","13Title":"       -","14Title":"    -","15Title":"  ","15Body":"  ","16Title":" -  ","17Title":"     -","17Body":" ","18Title":"  ","18Body":"  ","103Title":" -   ","103Body":"  ","104Title":"  ","104Body":"        .","105Title":"       -  ","105Body":"   -         .","30Title":" -    ","31Title":"   -  ","31Body":"     -.","32Title":"   -  ","32Body":"      ,  .       .","41Title":"  ","43Title":"      -","43Body":"    ","44Title":"  ","44Body":"      ","40Title":"  -","40Body":"      -.","50Title":"    ","50Body":"     ","102Title":" -  ","102Body":"     ","107Title":"       -","107Body":"    ,  .","108Title":"          ","609Title":"       .","609Body":"       .","610Title":"       .","610Body":"       .","611Title":"       .","611Body":"       .","612Title":"       .","612Body":"       .","100Title":"        -","101Title":"     ","101Body":"   ","106Title":"       -","106Body":"   -     ","110Title":"    ","110Body":" {{profile}}    {{endDate}}","111Title":"- ","111Body":"    ","112Title":"- ","112Body":"    ","20Title":"    ","20Body":"     ","22Title":"    ","22Body":"     ","23Title":"     ","23Body":"     ","800Title":"    ","800Body":"   ","801Title":"    ","801Body":"      ","850Title":"     ","850Body":"     ","851Title":"     ","851Body":"     ","1011Title":"     ","1011Body":"    ,     (Firewall)         .","1012Title":"  \\"  ","1012Body":"      (Firewall)         .","1013Title":"  ","1013Body":"     .","1014Title":"   ","1014Body":"     .","1070Title":"  ","1070Body":"    .","1071Title":"     ","1071Body":"   ,     (Firewall)        .","71Title":"     ","71Body":"        .","70Title":"    ","1080Title":"   ","default":" "},"cancelLoad":{"title":" ","subtitle":"      -         ","action":"","requesting":"   ","chargeIncompleteTitle":"   ","chargeIncompleteBody":"      ","pastPeriodLimitTitle":"    ","pastPeriodLimitBody":"     ","transactionAlreadyCompletedTitle":"  ","transactionAlreadyCompletedBody":"   ","readyTitle":"    ","readyBody":"    ","executing":" ,  ","cancelFailed":"  ","noRefund":"  ","error":"  ","success":"  !"},"announcements":{"title":" ","noNew":" "},"ettChoice":{"storedValue":" ","monthly":"","daily":"","train":"","singleRide":" ","semesterB":" ","semesterA":" ","yearly":"","others":"","freeCertificate":" "},"push":{"defaultChannelDesc":"","remindersChannelDesc":""},"posSettings":{"enterPassword":" ","user":"","userName":" ","name":"","email":" ","phoneNumber":" ","options":"","active":"","inactive":" ","cardValidityExtension":"   -","forPaymentWithCash":" ","paymentWithEmv":"  EMV","lowBalanceNotification":"   ","balanceLowerThan":"    {{ balance }}","notDefined":" ","enterLowBalanceMessage":"        .    .","serviceStation":" ","changeServiceStation":"  ","reformArea":" ","area":" {{ code }}","moreDetails":" ","reports":"","settings":"","exitMessage":" ","enterExitMessage":"      ","automaticShutdown":" ","seconds":"","insertSeconds":"    ","paymentPage":" ","track2OrEmv":" /EMV","insertDetails":" ","userChoice":" ","default":" ","languageChange":" ","allowUserLanguageChange":"   ","preferredLanguage":" ","allow":"","dontAllow":" ","printer":"","printerType":" ","printerMode":" ","test":"","workingProperly":"","notWorking":" ","missingPaper":" ","heatsUp":"","unknown":" ","printMode":" ","printConfirmation":"   ","printAutomatically":" ","printOnDemand":"  ","printDisabled":" ","missingPrinter":"   ","displayConfirmationCode":"   ","displayQRCode":"  QR   ","showWithLink":"  ","display":"","doNotDisplay":" ","software":"","softwareVersion":" ","forceUpdate":" ","appVersion":" ","device":"","model":"","serial":" ","sendDeviceDetails":"  ","guidedBySupportOnly":"  ","detailsSent":" ","createServiceStationFailed":"   .   .","createServiceStation":"  {{ remoteId }}","environmentalNote":"      ,          .\\n\\n            .\\n\\n      .","showAnnouncements":" ","allowUploadingFilesFromFileSystem":"    "},"posCardOperationApproval":{"actionNotApprovedYet":"   ","print":"","printing":"","printCopy":" ","printFailed":" ,  ","scanQr":"  ","viewApproval":" "},"posConfirm":{"noMatchingContract":"    ","anotherContract":"   "}}},"ar":{"translation":{"language":"","error":"","brand:RAVKAVONLINE":"- ","brand:ALHAKAVONLINE":null,"scanCard":" ","ravkavScanning":" -","contract":" ","contracts":" ","loadProfiles":"  ","continuationRides":" ","reserveLoading":" ","issueRavKav":" -","cancelLoading":" ","mainMenu":" ","openMainMenu":"  ","about":"","next":"","skip":"","continue":"","open":"","oops":"!","enter":"","exit":"","noMatchingContracts":"     ","startingAt":" ","cardContents":" ","editRavKav":" -","ravKav":"-","back":"","search":"","menu":"","anonymous":" ","until":"","cardExpiredAt":"   ","events":"","contractNotSoldNow":"     ","noContracts":"    -","noEvents":"       -","renewContract":"","similarContract":"  ","renewContractAtPrice":"\\n {{price}}","renewContractStartingAtPrice":"\\n  {{price}}","loadAContract":" ","loadAnotherContract":"  ","loadContractNotOnCard":"      ","inactiveContracts":"  ","activeContracts":" ","fromStation":" ","toStation":" ","date":"","fromDate":" ","toDate":" ","ravKavName":" -","ravKavNumber":" -","billingStatusName":" ","operator":"","metropolin":"","metropolinX":" {{ metropolin }}","nfcInactive":"NFC  ","pressToScan":" ","toScan":"","nfcActivate":"  NFC ","nfcNotFound":"    NFC  ","nfcItIsRequired":"     -","nfcOtherServices":"  NFC","pressCardBackOfDevice":"    ","pressCardTopOfDevice":"       ","readingCardDontMove":"     ","readCardSuccess":"   ","pressCardBackOfDeviceTillFinished":"       ","tryAgain":" ","predefinedContract":" ","purchasedAt":"  ","profile":" ","profiles":" ","lineNumber":"","numPassengers":"","debitAmount":" ","station":"","atDate":"","loadInWebsite":"      ","customerServiceAndSupport":"  ","copyright":"     .. 2015-{{currentYear}} \xa9","loadingHistory":"   ","loadingHistoryCard":"    ","hiddenCard":" ","hiddenCardExplanation":"    ","filter":"","filterClear":" ","filterWithout":" ","freeText":" ","resultsNotFound":"    ","resultsNotFoundFilter":"       ","fetchFailed":"    ","tryAgainRefresh":"     ","loadMore":" ","ravKavCard":" -","ravKavCards":" -","ravKavCardNumber":" - ","cardName":" ","unnamed":" ","changeName":" ","lastUseAtBrand:RAVKAVONLINE":"   - ","lastUseAtBrand:ALHAKAVONLINE":null,"reminder":"","validityReminderExplanation":"    ","reserveLoadingToCard":"  ","reserveLoadingToCardExplanation":"        ","noRavKavCards":"   -","ravKavCardHowToSave:RAVKAVONLINE":"        - ","ravKavCardHowToSave:ALHAKAVONLINE":null,"lastUpdatedAt":"  {{date}}","paymentMeans":" ","support":"","logout":"","logoutVerify":"    ","yes":"","no":"","enterNewCardName":"   ","cancel":"","update":"","help":"","unknown":" ","openMenu":" ","advancedFilter":" ","closeAdvancedFilter":"  ","toEdit":"","toView":"","picture":"","searching":"","additionalActions":" ","actionFailed":" ","recentlySelected":"  ","payAttention":"","downloadForAndroid":"  ","downloadForIPhone":"  ","balance":"","uninitializedRavkavCard":{"didntFindActionsForCard":"      - "},"mobileSidebar":{"scan":" -","allActionsAndServices":"  ","youMayBeInterested":" ","ravkavIssuanceTitle":" - ","plt":"  ","svc":"  ","orderRavkavBanner1:RAVKAVONLINE":"  - ","orderRavkavBanner1:ALHAKAVONLINE":null,"orderRavkavBanner2":" -  >>","goldenRavkavAlt":"  ","pltZahav1":"   75+","pltZahav2":"   75  >>","studentProfileBanner1":"  ","studentProfileBanner2":"   !"},"cardLoader":{"issuing":"   \\n  ","unavailableTitle":"    ","unavailableBody":"     ","conflictTitle":"     -","conflictBody":"     ","unexpectedTitle":"   ","unexpectedBody":"     ","ready":"         ","waitOperationComplete":"    "},"cardContracts":{"arrow":"","moreInfo":"  ","lastUses":" ","pressMoreInfo":"      ","loadedAt":"  ","type":"","purchasedFromOperator":"   ","contractStatus":" ","contractRenewal":" ","canRenew":" ","noActiveContracts":"     ","noInactiveContracts":"      ","travelAreas":" ","cancelContract":" ","contractCannotBeCanceled":"   ","toCancel":"","issueCancellationRequest":" ","loginToCheck":"             ","entitledCancellationRequestForContract":"  ","entitledToCancelContract":"    "},"cardEvents":{"passengers":"{{count}} ","passengers_0":" "},"usableStatuses":{"usable":" ","out_of_value":"   ","no_longer_valid":" ","no_yet_valid":"    ","erased":"     ","card_inactive":"   -","customer_profile_inactive":"    \\"{{profile}}\\"    ","noRides":"   "},"languagePicker":{"chooseLanguage":" "},"login":{"invalidDeviceTitle":"  ","invalidDeviceBody:RAVKAVONLINE":" -          .         .","invalidDeviceBody:ALHAKAVONLINE":null,"verificationCodeSent":"             .           .","codeExpired":"   ","tooMuchTimePassedReLogin":"        .    .","incorrectVerificationCode":"       ","tooManyAttempts":"    ","waitFewMinutes":"    {{minutes}}     .","codeNotSent":"      ","resend":" ","codeResent":"              ."},"settings":{"confirmLogoutToChangeServiceStation":"        .     "},"initServiceStation":{"fetchingTitle":"    ","fetchingBody":" ","fetchFailedTitle":"       ","fetchFailedAction":" ","notAPosOperatorTitle:RAVKAVONLINE":"        - ","notAPosOperatorTitle:ALHAKAVONLINE":null,"notAPosOperatorBody:RAVKAVONLINE":"     -          - .","notAPosOperatorBody:ALHAKAVONLINE":null,"notAPosOperatorAction":" ","noServiceStationsTitle":"     ","noServiceStationsBody":"          .       .","switchingTitle":"     ","switchingBody":"            :","switchingAction:RAVKAVONLINE":"  - ","switchingAction:ALHAKAVONLINE":null,"suggestingTitle":"  ","suggestingBody1":"     :","suggestingBody2":"  ","suggestingAction:RAVKAVONLINE":"   - ","suggestingAction:ALHAKAVONLINE":null,"suggestingSecondaryAction":"   ","creatingFromRemoteIdTitle":"       {{remoteId}}","createFromRemoteIdFailedTitle":"   ","createFromRemoteIdFailedBody":"   .","showingCurrentServiceStationTitle":"     {{serviceStationName}}","showingCurrentServiceStationBody":"         ","createdFromRemoteIdTitle":"        {{remoteId}}","continue":"","selectServiceStation":"  :","typeToFilter":" ","resultsNotFound":"    ","changeUser":"   ","exit":""},"scan":{"removeCard":"      ","tryAgain":"   {{seconds}} "},"paymentMethod":{"null":" ","balance":"","creditcard":" ","creditcardShort":"","cash":""},"itemSelector":{"typeToFilter":" ","resultsNotFound":"    "},"personalArea":{"title":" ","personalDetails":" ","fullName":"","email":" ","joinedAt":"  {{date}}","joinAtDate":" ","security":""},"cardContent":{"ravkavDetails":"  -","ravkavContents":"  -","expirationDate":"  -","ravkavExpired":"  -","editAction":"","profile":"  {{profile}}"},"contractCounter":{"rides":"{{count}} ","rides_0":" ","days":"{{count}} ","days_0":" ","days_1":"","monthlyFlexible":" ","storedValueFlexible":"","storedValueFixed":"  {{amount}}","unknownContract":"  ","unlimited":" "},"paymentDetailsNotEntered":"    ","created":" ","loadingDetails":" ","reservationApproval":"  ","purchaseApproval":"  ","cancellationApproval":"  ","deleteCreditCardSure":"            {{lastDigits}}?","deleteCreditCardTitle":"  ","noSavedCreditCards":"    ","howToSaveCreditCard":"         \\"    \\"  .","lastChargedAt":"     {{date}}","expiredAt":"   {{date}}","delete":"","eventDescription":"{{event}} {{eventTransportMean}}","ravkavOnlineEventDescription":"{{event}}  - ","organizationsErrors":{"unknown":"      ","unavailable":"      ","not_found":"      ","bad_request":"      ","organization_misconfigured":"   ","no_remaining_allowance":"   ","unexpected":"   "},"enrollmentRequest":{"title":" ","requestedExplanation":" {{organization}}   -   .","continue":"","tryAgainInFewMinutes":"     .       .","enrolledExplanation":"   ","failedExplanation":"   .           ","canceledExplanation":"   ","successTitle":" !","successDescription":"  ","successBannerTitle":"  ","successActionLabel":"      ","executing":"    ","success":"  ","error":"   ","failed":"   "},"localAccount":{"preferredLanguage":null,"passengerIdType":null,"remoteAccountOpening":null,"continue":null,"accountDetails":null,"update":null,"updatedSucceeded":null,"remoteAccount":null,"openOrUpdateRemoteAccount":null,"unavailable":null,"missingPrerequisites":null,"missingPrerequisitesLocation":null,"missingPrerequisitesPersonalized":null,"notOpenedYet":null,"foundShamashEnrollmentInProgress":null,"completeProgress":null,"openAccount":null},"localAccountEnrollment":{"title":null,"executing":null,"success":null,"error":null,"problemWithOpeningLocalAccount":null,"failed":null,"continue":null,"tryAgainInFewMinutes":null,"enrolledExplanation":null},"shamashErrors":{"unknown":null,"unavailable":null,"not_found":null,"bad_request":null,"location_required":null,"passenger_hash_incompatible":null,"unexpected":null},"membershipPage":{"title":"  ","reload":"","failedToFetchContract":"     ","devNotifiedTryLater":"      !      .","timelineInactiveMembership":"    .    ","timelineGotAllowance":"   {{allowance}}","timelineCanLoadContract":"  {{contractName}}","timelineCanLoadStoredValueWithoutDiscount":"     {{price}}","timelineCanLoadStoredValueWithDiscount":"     {{price}} (        {{counterValue}}    {{profile}})","timelineCantLoadContract":"   {{contractName}} ","timelineWillHaveLeft":"   {{remainingAllowance}}    ","timelineHaveLeft":"   {{remainingAllowance}}    ","timelineAllowanceWillBeRenewed":" "},"blacklist":{"title":null,"cardInBlacklist":null,"invalidateCard":null,"invalidatedSuccessfully":null,"executing":null,"wasntInvalidated":null,"success":null},"allowanceAvailabilityCannotClaimReason":{"membershipNotActiveYet":"      .        {{date}}.","membershipInactive":"    .       .","insufficientAllowanceForContract":"         .       .","maxedStoredValueCap":" {{currentStoredValue}}             -{{cap}}  .         .","exceededStoredValueLimitOnCard":"        -.        .","noRemainingAllowance1":"     .","noRemainingAllowance2":"   {{date}}.","overlappingExistingContract":"        .         .","noMatchingContractToClaim":"    /   .       .","noMatchingContractForAnonymousCard":"               ."},"cardNotification":{"cancellableTransaction":"  {{ett}}   {{timestamp}}.","cancellableProfile":"    {{profile}}   {{timestamp}}.","cancelLoading":" ","moreInfo":"  ","canLoadProfileImmediately":"      :","thanksNotInterested":"    ","loadAProfile":"  ","existingProfileLoadingFound":"        -   {{dateTime}}.","continueProfileLoading":"   ","reservedTransaction":"   {{contract}}     {{by}}  {{at}}.","loadTheContract":" ","unusableStoredValueFound":"         {{profile}} (     ).","convertibleStoredValueFound":"          {{profile}} (     ).","convertAStoredValue":"  ","cardValidityExtension":"  -   {{endDate}}.     -   {{until}} (     ).","extendCardValidity":"  ","fulfillCompensation":" ","gotAllowance":"   {{remainingAllowance}}  {{organization}}","gotAllowanceRedacted":"    {{organization}}","load":"","invitationFromOrganization":"   -     \\"{{organization}}\\"","joinOrganization":"","entitledCancellationRequestForContractOnCard":"          ","entitledCancellationRequest":"     ","issueCancellationRequest":" ","existingCancellationRequestFound":"      -   {{createdAt}}.","continueCancellationRequest":" "},"vatStatus":{"name":" ..","included":"","exempt":""},"modeOfTransport":{"titlePlural":" ","rail":"","bus":"","light_rail":" ","cable_car":" "},"distanceRange":{"name":" ","15km":" 15 ","40km":" 40 ","75km":" 75 ","120km":" 120 ","225km":" 225 ","unlimited":" "},"enterCreditCard":"  ","securePayment":" ","note!":"!","onlyFewHoursRemaining":"    .        .","contractOverlapsWithExisting":"   ()     .   {{count}} .        .","contractOverlapsWithExisting_0":"   ()     .     .        .","viewContract":" ","contractStartDate":"  ","fromLoadingDate":"   ","changeDate":" ","numMinutes":"{{ count }} ","numMinutes_0":" ","contractComments":" ","acceptedByOperators":"   ","fareCodes":" ","fareCodeRoutesSystem":" {{routesSystem}}   {{fareCode}}","changeOperator":" ","chooseOperator":" ","chooseOperatorSubTitle":"        .        .","contractDetails":" ","cantBeCompleted":"   ","tryAgainLater":"     ","purchase":"","pay":"","get":"","minMaxPrice":"    {{minPrice}}  {{maxPrice}}","cantLoadMoreStoredValue":"        ","refundedAmount":"","estimatedBalanceAfter":"   ","pleaseWait":" ","send":"","newCreditCard":"  ","savedCreditCard":"  ","enterPersonalId":"       ","personalId":" ","installments":"","chooseAnotherCreditCard":"  ","chooseCreditCredit":"  ","paymentFailed":"   ","notCharged":"  ","errorThatWasReceived":"    ","searchingSavedCreditCards":"     ","connectingSecure":"   ","loadingPaymentPage":"   ","paymentCancelled":"  ","systemMessagesReset":"   ","systemMessagesResetExplanation":"     .","messagesWillReappear":"       .","ok":"","select":"","softwareVersion":" ","appVersion":" ","brandWebsite:RAVKAVONLINE":" - ","brandWebsite:ALHAKAVONLINE":null,"faq":" ","contact":"","notifications":"","getUpdates":"   ","getUpdatesExplanation:RAVKAVONLINE":"       - .","getUpdatesExplanation:ALHAKAVONLINE":null,"reset":" ","cardHolderPersonalId":"   -","cardHolderPassport":"    -","didYouMean":" ","additionalAreas":" ","chooseProfile":"  ","profileMustBeOnCard":"       -","anonymousCard":"  ","chooseFlexibleStart":"    ","chooseFlexibleStartSubTitle":"        .","km":"{{ km }} ","app":{"failedToInitPage":"    .","notifiedAndWillHandle":"         ."},"welcome":{"ravkav":"-","actions":"","trainTitle":" ","trainBody":"  ","loadContractTitle":" -","loadContractBody":"    ","cardContentsTitle":"  ","cardContentsBody":"    -","loadProfileTitle":"  ","loadProfileBody":"   ","convertStoredValueTitle":"  ","convertStoredValueBody":"      ","extendCardValidityTitle":"  ","extendCardValidityBody":"      ","noNfcTitle":"    NFC  ","noNfcBody":"     -","noNfcAction":"  NFC","services":"","findServiceStationTitle":"   ","findServiceStationBody":"       ","reservationTitle":" ","reservationBody":"      ","orderRavKavTitle":" -","orderRavKavBody":"  -   ","information":"","personalAreaTitle":" ","personalAreaBody":"     ","contractSearchTitle":" ","contractSearchBody:RAVKAVONLINE":"      - ","contractSearchBody:ALHAKAVONLINE":null,"reformSearchTitle":"    ","reformSearchBody":"     ","aboutTitle":"","aboutBody:RAVKAVONLINE":"  - ","aboutBody:ALHAKAVONLINE":null,"howWouldYouLike":"    -","appTitle":" ","appBody":"    NFC\\n","appAction":" ","serviceStationTitle":"  ","serviceStationBody":"      \\n","serviceStationAction":"    ","pcTitle":" ","pcBody":"  \\n","pcAction":"  "},"contractLoadSuccess":{"title":"-   ","purchaseConfirmationSent":"       ","viewPurchaseConfirmation":"  ","scanAgain":"  -     ","thanks":"  ","hadFun":" "},"userBalance":{"credit":"","inProgressTitle":"  ","inProgressBody":"      ","availableCreditTitle":"   ","creditDisabled":"  .\\n    ."},"messages":{"required":" ","email":"    ","number":"       ","minlength":"     ","maxlength":"     ","arrayMinlength":"    ","arrayMaxlength":"     ","equalto":"    ","mustAccept":" ","login_unknown_error":"   .     .","invalid_credentials":"   /    ","inactive_user":"  .        .","invalid_software":"    .    .","restricted_software":"     .    .","invalid_device":"     .         .","israeliPersonalId":"   ","pattern":"     ","invalid":"  ","recaptcha":"    ","ravkavHolderName":"          -    "},"messagesUsername":{"username":"   ","invalid_credentials":"  /    "},"changePassword":{"title":"  ","devicesWillDisconnect":"     ","current":"  ","new":"  ","newAgain":"   ()","invalidPassword":"        .","incorrectPassword":"    .   .","unexpectedError":"   .   .","submit":"  ","successTitle":"","successBody":"   ","successMessage":"    !"},"updatePersonalDetails":{"title":" ()  ","updateDetails":" ","nameFirst":" ","nameLast":" ","unexpectedError":"   .   ."},"versionUnsupported":{"title":"  ","update":" ","continue":"  ","message:RAVKAVONLINE":"      ( {{version}})     .      .\\n\\n     - .","message:ALHAKAVONLINE":null},"reload":{"title":"","initiating":"   ","executing":"    ","inactiveTitle":"  ","inactiveBody":"    ","smsQuestion":"   SMS    ","smsAnswer":"  !","smsMoreInfo":"  ","notLoaded":"   ","notCharged":"  ","success":"   ","ready":"     -   ","balanceBelow":"   {{balance}} ","loadingNewRequest":"   ","personalIdRequired":"      ","actionAlreadyUsed":"    ","notCompletedTitle":"   ","notCompletedBody":" -         .     ","notCompletedAbortReloading":"   ","notCompletedBackToReloading":"   -","reloadingAbortedBody1":"       !","reloadingAbortedBody2":"               .            .\\n\\n         .             ","reloadingAbortedOk":"","almostDoneTitle":" ","almostDoneBody":"   -     .","almostDoneContinue":"!  ","scanRavKavCard":"  -"},"cancelReloadSuccess":{"title":"    ","body":"     ","scan":"  -   ","thanks":"  ","rateUsMessage":"     !"},"units":{"M_0":"{{count}} ","M":"{{count}} ","KM":"{{count}} "},"days":{"1":" ","2":" ","3":" ","4":" ","5":" ","6":" ","7":" "},"times":{"lastMonth":" ","lastWeek":" ","yesterday":"","today":"","tomorrow":"","dayAfterTomorrow":" ","thisWeek":" ","thisMonth":" "},"creditCard":{"endsWith":"   {{lastDigits}}"},"rateUs":{"title":"   !","action":""},"searchContracts":{"title":"   ","filterEtt":" ","notAnonymous":"  ","storedValueForProfile":"   {{profile}}","forProfile":"   {{profile}}","resultsCount_0":"    ","resultsCount":"   {{count}} ","resultsAnonymous":" -  ","resultsForProfile":"  ","train":" ","searchFailed":" ","notPermittedForAnonymous":"   -  ","partialSearchClearing":"         ","recentSearches":"  ","willDisplayRecentSearches":"        ","unexpectedError":"   ","selectEttChoice":"         ","howSearchWorks":"  ","howSearchWorksItem1":"        .   \\"\\" \\" 2\\" \\"   \\"  \\"\\".","howSearchWorksItem2":"            -  15 .          .","howSearchWorksItem3":"           . :           .","howSearchWorksItem4":"                 .","howSearchWorksItem5":"               ."},"searchContractsTextSearch":{"searchSettlements":"  ,  , ","addMore":"","search":"  {{term}}"},"trainTariffPicker":{"origin":" ","destination":" ","selectStations":"     ","fetchFailed":"   ","perRide":"{{saving}} ","profile":"  {{profile}}","select":"","lastRoutes":" "},"newAddressForm":{"address":"","name":" ","nameComment":"     ","city":"","street":"","houseNumber":" ","entrance":"","zip":"  ()","apartment":" ","poBox":" ","apartmentComment":"0  ","comments":"","save":"","autoComplete":"    ","searchAddress":"  ","fillAddressManually":"   "},"order":{"purchasableAlreadyInOrderTitle":"          ","purchasableAlreadyInOrderBody":"     .","multipleShipmentsTitle":"   ","shipmentRequiredTitle":"   ","nothingToShipTitle":"    ","unexpectedError":"   .","listTitle":"","myOrders":"","notFound":"    ","itemsCount_0":" ","itemsCount":"{{count}} ","createdAt":"   {{date}}","detailsTitle":" ","backToList":"","pay":"","status":" ","paymentMethod":" ","total":"  ","cancelTitle":" ","cancelBody":"             .","cancelAction":" ","orderNotFound":"  ","makeSureTheRightAccount":"          ","confirmCancellation":"       ","checkoutTitle":" ","continue":"","incompleteNotificationTitle":"   {{count}}     ","incompleteNotificationAction":"  ","itemsNotFound":"    .","itemsTitle":" ","itemsBody":"        :","shipmentTitle":"","shipmentBody":"     .","shipmentType":" ","address":"","shipmentAddress":" ","newAddress":"  "},"reformSearch":{"chooseMetropolin":"  ()","showTrain":"  ","chooseContractType":"  ","chooseContract":" ","noSelectionTitle":"      ","noSelectionBody":"      ","noResultsTitle":"    ","noResultsBody":"      ","predefinedContract":" ","showSeniorPrice":"      50%-","clear":""},"serviceStations":{"title":" ","found_0":"    ","found":" {{count}}   ","notFound":"        ","notFoundDontWorry":"       !","notFoundAskFriend":"      ","notFoundClickMap":"      .","moreInfo":"  ","openingHours":" ","navigateToServiceStation":" ","goToServiceStation":" ","usingNavApp":"  ","advancedSearch":" ","address":"","typeToSearch":" ","servicesAtStation":"  ","pristineBody":"           \\" \\"   .","reservationAction":"   ","operatingCompany":"   ","comments":"","activityHours":" ","attributes":"","back":" ","foundHeader_0":"   ","foundHeader":" {{count}}  ","actions":"","noLocation":"   ","loadingMap":"  ","mapUnsupported":"      ","mapFailed":"    .\\n     "},"serviceStationAttribute":{"accepts_cash":" ","accepts_credit_card":"  ","manned":"","ravkav_services":" -","reload_reservation":"   ","sells_ravkav_reader":"   -"},"currentLocation":{"turnOnGps":"     ","find":"  ","locating":"   ","update":" ","permissionDenied":"      ","failed":"    "},"browserUnsupported":{"title":"  ","notSupported":"        ","suggestBrowser":"         .\\n        :","afterInstall":"        ."},"deviceUnsupported":{"title":"  ","loadingInApp:RAVKAVONLINE":"    - ","loadingInApp:ALHAKAVONLINE":null,"imageAria":"      ","info":"           ","faqAction":" "},"payment":{"title":"","payment_option_balance":"  ","payment_option_existing_credit_card":"  ","payment_option_new_credit_card_track2":" ","payment_option_new_credit_card_emv":"EMV","payment_option_new_credit_card_details":"  ","contract":"","receivedMessage":"   :","paymentForContract":"  ","paymentForOrder":"  ","choosePaymentMethod":"   ","additionalPaymentMethods":"  ","pay":"","selectedCreditCard":"      {{lastDigits}}.","payWithBalance":"  ","payWithApplePay":"  Apple Pay","payWithGooglePay":"  Google Pay","payWithCreditCard":"  ","continue":"","inactive":"     .","alreadyUsed":"    .      .","unableCompleteCashPayment":"    . \\n    ","unavailable":"          .","unexpectedError":"   .","disabledTitle":"  .","disabledBody":"     .","insufficientFundsTitle":"     .","insufficientFundsBody":"     {{amount}}.\\n     .","checkBalance":"       ","connecting":"   ","mpiPageTitle":"  ","idLabel":"    ","actionFailed":" ","tryActionAgain":"     ","actionCanceled":"  ","reason":"   ","selectOption":"    :","scanning1":"  ","scanning2":"     ","emv1":"EMV","emv2":"    ","details1":"  ","details2":"         (CVV)   ","pleaseSelectAPaymentMethod":"   ","enterCardDetails":"   ","changePaymentMethod":"  ","payWithCardEndingWith":"     {{last_four_digits}}","payWithNewCreditCard":"    ","noAvailablePaymentOptionsTitle":"      ","noAvailablePaymentOptionsBody":"      ","makeSureValuesCorrect":"     ","sessionInUse":"     ","connectionFailed":"     .   ","googlePayPromotion":"            Google Pay.","deprecatedPaymentMethods":"  ","paymentWithoutEmv":"  EMV"},"buyaHostedFields":{"panLabel":"  ","expLabel":" ","personalIdLabel":"  ","personalIdTooltip":"    .          ","leaveBlank":"        ","cvvTooltip":"  3   ","track2Label":"   ","numberOfPaymentsLabel":" ","reusableLabel":"  ","pay":"","cardExpired":"   ","initFailedUserError":"           .\\n           ","threeDSExplanation":"      \\n     "},"scanState":{"connecting":" ","cantConnect":"  ","checkConnection":"    ","keepPressed":"    "},"ravkavIssueRequest":{"stateDescriptionCreated":"     .","stateDescriptionExpired":"          .","stateDescriptionPendingInspection":"      .","stateDescriptionInMandatoryWait":"   -        .        -.","stateDescriptionPendingIssuance":"     .","title":" -","notificationApprovedTitle_0":"    -","notificationApprovedTitle":" {{count}}     -","notificationApprovedBody":"            .","notificationOrderTitle":"      ","notificationOrderBody":"            .","completeOrder":" ","notificationOrderMultipleTitle":"   {{count}}     ","notificationOrderMultipleBody":"            .","myRequests":"","newAction":" ","forHolder":" {{holderName}}","completeDetails":"    .","detailsTitle":"  -","backToCheck":"","newRequest":" ","submitNew":" ","personalDetailsTitle":" ","personalDetailsBody":"        -       .","nameFirst":" ","nameLast":" ","personalIdType":"  ","personalId":" ","passport":" ","numbersLetters":"8-9  ","phone":" ","birthDate":" ","documents":"","documentsFor":"    ","missingDocuments":"  ","cancelTitle":" ","cancelBody":"    .         .","cancelConfirm":"    .        .    ","cancelAction":" ","requestDetails":" ","requestState":" ","placeOrder":" ","disapprovalReason":"  ","createdAt":"  ","notDefined":"  ","issuedTitle":" -   ","serial":" :","requestNotFound":"  ","makeSureTheRightAccount":"          ","confirmCancellation":"       ","createTitle":"   -","create":" ","issueTypeTitle":"   :","issueTypePrice":"   {{price}}","withoutWaiting":" ","profileTitle":"     :","regularProfile":"","regularProfileComment":" -    .","specialProfile":"","specialProfileComment":" -     .\\n -           .","errorNotAllowedTitle":"    .","errorNotAllowedAction":"       .     ","errorMissingPrerequisitesTitle":"    .","errorDocumentTitle":"    .","errorDocumentAction":"    .","errorDoesNotExistTitle":"  .","errorDoesNotExistAction":"      .","errorInvalidFileTypeTitle":"   .","errorInvalidFileTypeBody":"      :","errorInvalidFileSizeTitle":"   .","errorInvalidFileSizeBody":"      ","errorInvalidFileNameTitle":"   .","errorInvalidFileNameBody":"      {{maxLength}}      .","errorConflictingProfiles":"      .          .","errorActiveRavkavIssueRequestForPersonalId":"        .\\n           .","errorNotEligibleForProfile":"       {{profile}}:","goToRavkavIssueRequestDetails":"  ","errorUnexpectedError":"   .","gotRequest":"  !","inspectingRequest":"        .","mailWhenDone":"         .","suggestMoreRequests":"           ","orderMore":"  - ","noThanks":" !","alt":"  ","privacyTitle":" !","privacyBody":"                .","ravkavDesignSelection":null,"ravkavDesign":null},"installDesktop":{"title:RAVKAVONLINE":"  - ","title:ALHAKAVONLINE":null,"doneAction":"   ","windowsDownload":" ","macDownload":" ","linuxDownload":" ","steps1":"  .","steps2":"       .","steps3":"  -    -  \\"  \\"            \\"\\".","steps4":"     .","steps5":"    .","steps6":"        .","incorrectOS":"       ","suggestWindows":" (Windows)","suggestMac":" (macOS)","suggestLinux":" (Ubuntu, Debian)","noDownload":"  "},"scanSlideshow":{"androidDontMoveTitle":"    ","androidDontMoveBody":"         ","androidTryAgainTitle":"    ","androidTryAgainBody":"         ","androidTrySpotsTitle":"       ","androidTrySpotsBody":"         ","androidNoCaseTitle":"   ","androidNoCaseBody":"    ","androidTurnPhoneTitle":"   ","androidTurnPhoneBody":"  NFC     ","iosPlaceCardTitle":"  -","iosPlaceCardBody":"        ","iosCardManufacturerTitle":"  ","iosCardManufacturerBody":"      ASK       iPhone X","iosTryAgainTitle":"    ","iosTryAgainBody":"         ","iosNoCaseTitle":"   ","iosNoCaseBody":"    "},"emvSlideshow":{"deviceNowSupportsEmvTitle":"         EMV","deviceNowSupportsEmvBody":"   ","contactlessExplanationTitle":"       ","contactlessExplanationBody":"     ","supportsGooglePayApplePayTitle":"    ApplePay  GooglePay","supportsGooglePayApplePayBody":"    ","mightRequirePinCodeTitle":"            ","mightRequirePinCodeBody":"!          ","track2FallbackTitle":"           EMV","track2FallbackBody":"   ","notificationTitle":"!   EMV","notificationBody":"   "},"reservation":{"title":" ","cantReserveContract":"      .","reserveOtherContract":"   .","unknownError":"      .","tryAgain":"         .","reserveContract":" ","makeReservation":" ","success":"   !","completeLoading":"                ","trackReservation":"  ","hadFun":" ","cancel":"  ","cancelConfirm":"        ","cancelled":"    ","cancelError":"       ","reservedLoading":" ","loadReservation":"   ","findServiceStation":"   ","contractStartDate":"  ","contractStartsAtLoading":"   ","changeDate":" ","reservedBy":"   ","cancelReservation":" ","contract":" ","forRavkavCard":"   -","fromOperator":"   ","reservedAt":"  ","useUntil":"  ","loadMoreDetails":"      ","load":"","scan":" ","backToCard":"  ","backToProfile":"   ","backToContract":"  ","thanks":" ","additionalReservation":" ","useDateRange":"  ","reservationCanceling":"   ","reservedLoadingDetails":"   ","reloadingStatusPristineTitle":"       ","reloadingStatusPristineBody":"      {{full_name}}  {{modified}}.","reloadingStatusFailedTitle":"    .","reloadingStatusFailedBody":"      {{full_name}}  {{modified}}.","reloadingStatusSuccessTitle":"   !","reloadingStatusSuccessBody":"     {{reloaded_full_name}}  {{modified}}.\\n     {{created_full_name}}.","reloadingStatusAbortedTitle":"    {{modified}}      {{full_name}}.","reloadingStatusAbortedBody":"  ","activeStatusActiveTitle":"      -:","activeStatusActiveList1":"         .","activeStatusActiveList2:RAVKAVONLINE":"  -     .","activeStatusActiveList2:ALHAKAVONLINE":null,"activeStatusActiveList3:RAVKAVONLINE":"      - ","activeStatusActiveList3:ALHAKAVONLINE":null,"activeStatusActiveAction":"   ","activeStatusFutureTitle":"     .","activeStatusFutureBody":"      {{activeFrom}}.","activeStatusInactiveTitle":"           .","activeStatusInactiveBody":"    .","abortErrorTitle":"     ","abortErrorBody":"   .","abortedTitle":"      ","abortedBody":"  "},"selectUserRavkav":{"title":"  -","subTitle":"     -     ","newRavkav":" ","existingRavkav":" ","enterRavkavNumber":"  -   ","enterRavkavNumberExplain":"      -","moreRavkavs":" - "},"interchangeRight":{"hourlyPass":" ","hourlyPassExpiry":" {{expiry}} {{area}}","continuationRide":" ","continuationUntil":" {{expiry}}","remainingTrips":" {{count}} ","remainingTrips_0":"  "},"payoutMethod":{"title":" ","credit_card":" ","cash":""},"cancellationRequestRavkavAnonymity":{"title":"  ","anonymous":" ","semi-anonymous":"  ","personalized":""},"cancellationRequest":{"title":" ","authorizingPayoutMethodTitle":"   ","authorizingPayoutMethodExplanation":"               ","authorizingPayoutMethodFailed":" ","unexpectedError":"   .   .","requestType":" ","changePayoutMethod":"  ","payoutAmount":" ","notYetDetermined":"   ","abortAction":" ","cancelRequest":" ","requestDetails":" ","saveForLater":"  ","iWantToStay":" ","missingDetails":"!      .","howToContinue":"  ","abortConfirm":"    .        .    ","ravkavOwnerDetails":"    ","personalId":" ","whoToPay":"   ","ravkavDocumentApproveLabel":"            ","payToRavkavOwnerWithId":"      :","payToSomeoneElse":" ","paidToDetails":"  ","requestApproved":"  ","howWantGetPayout":"   ","noPayoutMethod":"      .    .","toCardOfIdOwner":"     :","updateSoftwareForCreditCard":"         ","updateSoftware":" ","cash":"","giveCashAmountToUserAfterCancellation":"         {{amount}}","giveCashAmountToUser":"      {{amount}}","makeSureHaveCash":"    .          .","agreeHaveEnoughCash":"  ","cancel":"","abortedTitle":"  ","expiredTitle":"  ","iUnderstand":"","retry":"        -  .","idNotMatchingIdOnCard":"           ","backToFixId":"  ","validateDifferently":"  ","pendingApprovalTitle":"  ","pendingApprovalBody":"        .       ","pendingApprovalBodyPos":"          .\\n\\n                    .","checkRequest":"  ","declinedTitle":"  ","failedTitle":" ","successTitle":"!","successBody":"    !","executeExecuting":"    ","executeSuccess":"  ","executeError":"   ","executeFailed":"  ","pendingPayoutTitle":"  ","checkPayoutStatus":"  ","pendingPayoutCreditCardExplanation":"    ","payoutFailedTitle":"  ","payoutFailedExplanation":"    .      .","getApprovalForFailed":"  ","willPayoutToCreditcard":"    ","mayTakeUpTo7Days":"   7    .          ."},"profileLoading":{"title":"  ","errorNotAllowed":"       .","actionNotAllowed":"   .","errorActiveProfileLoadingForCard":"      ","actionActiveProfileLoadingForCard":"   .","errorContractNoLongerValid":"   .","actionContractNoLongerValid":" .","errorMissingPrerequisites":"       .","errorNotEligibleForQuickApproval":"         .","errorCannotApplyQuickApprovalToRavKavIdType":"      -      .      ","errorRavkavPersonalIdDoesNotMatchPersonalId":"            -.","errorDocumentTagRequired":"    .","actionDocumentTagRequired":"   ","errorDoesNotExist":"       .","actionDoesNotExist":"   .","errorActiveReloadingTransaction":"       -.","actionActiveReloadingTransaction":"            .","errorInvalidFileType":"   .","actionInvalidFileType":"      :","errorInvalidFileSize":"   .","actionInvalidFileSize":"      ","errorInvalidFileName":"   .","actionInvalidFileName":"      {{maxLength}}      .","errorUnexpected":"   .","actionUnexpected":"     .","errorCode":" : {{code}}","unknownInstitution":"   ","exitMessage":"      .   ","abortMessage":"       ","customerProfile":"  {{id}}","endDateTypeFixed":" {{date}}","endDateTypeEndOfCard":"     -","endDateTypeFarFuture":"   -","endDateTypeAge18":"  18","endDateTypeManual":"      ","addDocument":"+  ","abortAction":" ","noCardHeader":"   -","noCardAction":" ","noCardTitle":"    -","noCardBody":"        .","moreQuestions":" ","moreDetails":"      ","profileLoadingAt:RAVKAVONLINE":"    - ","profileLoadingAt:ALHAKAVONLINE":null,"chooseProfileLoadingType":"      ","immediateProfiles":"   ","immediateProfilesNoDocuments":"         ","loadProfile":"  ","loadProfileShort":"","profilesForLoading":"  ","requestProfileLoading":"    ","submitRequest":" ","notEligibleProfiles":"       - ","notEligibleExplained":"         -","notEligibleConditions":"      -:","notEligibleProfileCutOffByExpiration":"        -.    -     .","notEligibleProfilesAlreadyExist":"            .","notEligibleNoSpaceForProfiles":"       -.","inProgress":"          -","continue":"","continueProfileLoading":"        - .","selectInstitution":"  ","selectEtt":"  ","typeToFilter":" ","filteredInstitutionName":"      ","institutionNotFound":"      ","institutionNotFoundSuggestion":"     .\\n                .","uploadDocument":" ","uploadDone":"","requestDetails":" ","termsTitle":"           .","termsBody":"              .        -            .","termsApprove":"","manualEndDateForCustomerProfile":"   {{customerProfile}}","institution":" ","submittedDocuments":"   ","pendingApprovalTitle":"  ","pendingApprovalBody":"        .          ","checkRequest":"  ","iUnderstand":"","retry":"        -  .","declinedTitle":"  ","approvedTitle":"  !","failedTitle":" ","successTitle":"!","successBody":"     !","canceledTitle":"   ","canceledBody":"      .","abortedTitle":"  ","expiredTitle":"  ","missingDetails":"!      .","howToContinue":"  ","saveForLater":"  ","cancelRequest":" ","iWantToStay":" ","checking":" ","uploading":"  {{name}}","deleting":"","personalIdPromptTitle":"    -","personalIdPromptBody":"           - .","regularProfile":"  ","orderRavkavTitle":"   -","orderRavkavBody:RAVKAVONLINE":" -     -    .","orderRavkavBody:ALHAKAVONLINE":null,"orderRavkavAction":"  -","contractChoose":" ","chooseContract":" ","confirmRequest":"  ","loading":"","personalIdLabel":"    -","personalIdPlaceholder":" ","passportLabel":"      -","passportPlaceholder":"  ","submitNewRequest":"  ","abortConfirm":"    .        .    ","backButtonSelectInstitution":"  ","backButtonApplyQuickApproval":" /  ","backButtonChooseContractGroup":" ","backButtonChooseContract":"  ","backButtonUpload":" ","finishAllSteps":"     .","contract":"","notifyContractLoading1":"!","notifyContractLoading2":"        ","privacyTitle":" !","privacyBody":"                .","quickApproval":"/  ","quickApprovalTitle":"/  ","quickApprovalCannotApplySubtitle":" /      ","quickApprovalApplyingSubtitle":"      /               /            :","quickApprovalAppliedTitle":" /  !","quickApprovalAppliedBody":"             !","quickApprovalWhatIs":" /  ","firstNameLabel":" ","lastNameLabel":" ","skipQuickApprovalCheck":"     /  ","quickApprovalPrivacyBody":"             .","checkQuickApproval":" / ","promo1":"    ","promo2":"     50%       !","promoDismissed1":"          .","promoDismissed2":"         ."},"billingSummary":{"billingSummary":"  ","periodSummary":"     ","fromDate":" ","toDate":" ","deviceNumber":" ","quickReport":" ","query":"","queryFailed":"    ","tryAgain":"  ","forPeriod":" {{date}}","allDevices":"  ","specificDevice":"  {{device}}","total":"","chargesMinusRefunds":"   ","charges":"","actions":"","refunds":"","creditcard":" ","balance":"","print":""},"billingSummaryError":{"no_range":"   .","invalid_range":"   .","too_large":"    .        ."},"billingStatus":{"no_payment_details":"    ","not_charged_yet":"    ","will_not_be_charged":"   ","charged":"  ","refunded":" "},"orderBillingStatusName":{"no_payment_details":"     ","not_charged_yet":"   !","will_not_be_charged":"    ","charged":"    ","refunded":"    "},"orderBillingStatusDescription":{"no_payment_details":"       .","not_charged_yet":"           .\\n           .","will_not_be_charged":"        .","charged":"              .","refunded":"   ."},"ravkavIssueRequestState":{"created":" ","aborted":"  ","expired":"  ","pending_inspection":" ","approved":"  ","declined":"  ","in_mandatory_wait":"  ","pending_issuance":" ","ravkav_card_issued":"   -","delivery_failed":"  ","defective":""},"eligibilityCondition":{"personalized":"    ","current_student":"   ","active_student":"    ","under18":"  18 ","over65":"  65 ","over60":"  60 ","over62":"  62 ","over67":"  67 ","over75":"  75 ","current_senior_citizen_75_plus":"     75+"},"document":{"personal_id":" ,     ","personal_id_body":"               ","student_permit":"    ","student_id":"            ","student_id_body":":           ","ravkav":" -","ravkav_body":"       ","headshot":"  ","headshot_body":"     ","pupil_permit":" ","pupil_permit_body":"    ","disability_certificate":" ","disability_certificate_body":"        ","national_insurance_certificate":"    ","national_insurance_certificate_body":"        ","national_service_certificate":"    ","national_service_certificate_body":"    -   ","blindness_certificate":" / ","blindness_certificate_body":" /             ","ministry_of_defence_approval":"  ","ministry_of_defence_approval_body":"             ","unknown":" "},"eventCircumstances":{"cancelPrevalidation":"    ","prevalidation":"   "},"transactionHistory":{"loadingsMadeOnThisDevice":"      ","status":" ","purchaseApproval":" ","cancellationApproval":"  ","updateFilterRetry":"    ","forCard":"      - {{ serial }}    "},"contractConfirm":{"backToSearch":"   ","loadInApp:RAVKAVONLINE":"    - ","loadInApp:ALHAKAVONLINE":null},"connect":{"title":"  ","pristineTitle":"   ","pristineBody":"             .","busyTitle":"   ","readerDisconnectedTitle":"    ","readerDisconnectedList1":"      USB  .","readerDisconnectedList2":"              USB .","noCardTitle":"    ","noCardList1":"   -        .","noCardList2":"           .","noCardList3":"     -     - .","networkErrorTitle":"  ","networkErrorBody":"       .","connectionRefusedTitle":"     ","sslTitle":"    ","sslList1:RAVKAVONLINE":"     -        .","sslList1:ALHAKAVONLINE":null,"connectionRefusedList1":"              .","connectionRefusedList2":"    (Firewall)     .","connectionRefusedList3":"         ","connectionRefusedList3Action":"  ","readErrorDefaultMessage":"     -","readErrorList1":"   -        .","readErrorList2:RAVKAVONLINE":"       -.         -        .","readErrorList2:ALHAKAVONLINE":null,"readErrorList2Action":"    ","readErrorList3":"         .","readErrorList4":"          .","userApprovalTitle":"        .","userApprovalList1":"             .","userApprovalList2":"               .","userApprovalAction":" ","refresh":"  "},"registrationUsername":{"username":" ","enterUsernameToReset:RAVKAVONLINE":"      -         .","enterUsernameToReset:ALHAKAVONLINE":null,"verificationCodeSent":"   ","enterCode":"    ","staleTokenExplainedResetPassword":"                   .           ."},"registration":{"email":" ","login":"","doLogin":"","password":"  ( )","passwordAgain":"  ()","nameFirst":" ","nameLast":" ","firstTime":" ","newPassword":"  ","newPasswordAgain":"   ()","register":"","forgotPassword":"  ","registration":"","rememberMe":"","invalidPassword":"        .","invalidCaptcha":"     .","alreadyExistsActive":"       .         .","actionReset":"    ( )","alreadyExistsInactive":"       .        .","actionActivate":"  ","unexpectedError":"   .   .","approveTerms1":" ","approveTerms2":" ","actionRegister":"","resetPassword":"    ( )","enterEmailToReset:RAVKAVONLINE":"/      -         .","enterEmailToReset:ALHAKAVONLINE":null,"tryAgain":"  ","activate":" ","verificationCodeSent":"        {{ email }}","verificationCheckEmail":"        .","verificationCode":" ","incorrectToken":"  ","incorrectTokenAction":"        .","emailNotReceived":"     ","sendAgain":" ","resendActivationSent":"        {{email}}.      .","resendActivationNotReceived":"      .\\n         .","resendActivationInvalid":"                 .\\n\\n      .\\n\\n         .","staleToken":"   ","staleTokenExplainedRegister":"       .   .","staleTokenExplainedResetPassword":"                    .          .","outOfAttemptsToken":"    .","outOfAttemptsTokenExplained":"    {{minutes}}     .","resend":" ","activating":"     ","resending":"     ","userActivated":"   !","continueToBrand:RAVKAVONLINE":"  - ","continueToBrand:ALHAKAVONLINE":null,"contact":" ","invalidToken":"  .         .","resetActivationNotReceived":"                .\\n\\n       .\\n          .","resetting":"    ","resetPasswordSuccess":"     !"},"svc":{"title":"  ","nocard":"   -","nocardAction":" ","notEligible":"      ","notEligibleAction":"","eligible":"      ","eligibleAction":"","converts":" ","h1":"      ","h11":"        ","p11":"               .","h12":"            ","p12":"                  .","questions":" ","moreDetails":"      ","inaccessible":" ","explainedTitle":" ","convert":"","convertStoredValue":"  ","executing":"  ","notConverted":"   ","convertedSuccess":"   !","confirmationSent":"      ","scanToView":"     ","thanks":" ","rateUs":"     ","errorNoSvc":"          ","errorNoContractTitle":"      ","errorNoContractBody":"     "},"svcExplained":{"inaccessible":"   {{before}}        \\"{{from}}\\"      {{after}}    \\"{{to}}\\".","accessibleSame":"   {{before}}      \\"{{profile}}\\"        .","accessibleDifferent":"  {{before}}      \\"{{from}}\\"      {{after}}      \\"{{to}}\\".","after":"         {{after}}    \\"{{to}}\\"."},"cve":{"title":"  ","canExtend":"   ","canExtendAction":"  ","extendExplained":"  -   {{endDate}}.\\n     -   {{newEndDate}}.","nocard":"   -","nocardAction":" ","cannotExtend":"    ","cannotExtendCardExpiredExplained":"   -  {{endDate}}.\\n       .","cannotExtendCardNotExpiredExplained":"  -   {{endDate}}.\\n      \\n.        .","moreDetails":"      ","executing":"  ","notExtended":"    ","extendedSuccess":"   ","scanToView":"      ","confirmationSent":"      ","thanks":" ","rateUs":"     "},"contractGroupDetails":{"flexibleStoredValueTitle":"  ","chooseFlexibleStoredValue":"      ","chooseStartingDate":"   ","chooseOperator":"     ","nonRoundedPrice":"  ","contractNotRespectedInArea":"       .        .","contractNotRespectedInAreaWithCity":"       \\"{{city}}\\".        .","paymentConditions":" ","installmentsExplanation":" {{maxPayments}}    "},"cause":{"10Title":" ","11Title":"   -","11Body":"   - ","12Title":"     ","12Body":"    {{id}}      .     .","13Title":"        -","14Title":"        -","15Title":"  ","15Body":"   .","16Title":" -  ","17Title":"       -","17Body":" ","18Title":"   ","18Body":"   .","103Title":" -   ","103Body":"   .","104Title":"  ","104Body":"      .","105Title":"       -   .","105Body":"   -         .","30Title":" -      ","41Title":"    ","43Title":"       -","43Body":"    ","44Title":"  ","44Body":"     ","40Title":"  -","40Body":"          .","50Title":"   .","50Body":"     ","102Title":"     -","102Body":"      ","107Title":"         -","107Body":"       .","108Title":"            .","609Title":"        .","609Body":"       .","610Title":"        .","610Body":"       .","611Title":"        .","611Body":"       .","612Title":"        .","612Body":"       .","100Title":"          -","101Title":"    ","101Body":"    ","106Title":"        -","106Body":"   -     ","110Title":"     ","110Body":"   {{profile}}   {{endDate}}","111Title":null,"111Body":null,"112Title":null,"112Body":null,"20Title":"   ","20Body":"     ","22Title":"   ","22Body":"     ","23Title":"     ","23Body":"      ","800Title":"    ","800Body":"     ","801Title":"    ","801Body":"        ","850Title":"    ","850Body":"    ","851Title":"    ","851Body":"      ","1011Title":"   ","1011Body":"       (Firewall)        .","1012Title":"     ","1012Body":",     (Firewall)        .","1013Title":"    ","1013Body":"    ","1014Title":"   ","1014Body":"    .","1070Title":"    ","1070Body":"   ","1071Title":"   ","1071Body":"      (Firewall)       .","71Title":"   ","71Body":"       .","70Title":"      ","1080Title":"    ","default":" "},"cancelLoad":{"title":" ","subtitle":"        -         ","action":"","requesting":"    ","chargeIncompleteTitle":"    ","chargeIncompleteBody":"       ","pastPeriodLimitTitle":"   ","pastPeriodLimitBody":"     ","transactionAlreadyCompletedTitle":"    ","transactionAlreadyCompletedBody":"     ","readyTitle":"    ","readyBody":"     ","executing":"     ","cancelFailed":"  ","noRefund":"  ","error":"    ","success":"  !"},"announcements":{"title":" ","noNew":" "},"ettChoice":{"storedValue":" ","monthly":"","daily":"","train":"","singleRide":" ","semesterB":"   ","semesterA":"   ","yearly":"  ","others":"","freeCertificate":" "},"push":{"defaultChannelDesc":"","remindersChannelDesc":""},"posSettings":{"enterPassword":"  ","user":"","userName":" ","name":"","email":" ","phoneNumber":"  ","options":"","active":"","inactive":" ","cardValidityExtension":"     -","forPaymentWithCash":" ","paymentWithEmv":"  EMV","lowBalanceNotification":"   ","balanceLowerThan":"     {{ balance }}","notDefined":"   ","enterLowBalanceMessage":"             .","serviceStation":" ","changeServiceStation":"  ","reformArea":"  ()","area":"  {{ code }}","moreDetails":" ","reports":"","settings":"","exitMessage":"  ","enterExitMessage":"       ","automaticShutdown":"  ","seconds":"","insertSeconds":"    ","paymentPage":" ","track2OrEmv":" /EMV","insertDetails":" ","userChoice":" ","default":" ","languageChange":" ","allowUserLanguageChange":"   ","preferredLanguage":" ","allow":"","dontAllow":" ","printer":"","printerType":" ","printerMode":" ","test":"","workingProperly":" ","notWorking":"  ","missingPaper":" ","heatsUp":"  ","unknown":" ","printMode":" ","printConfirmation":" /    ","printAutomatically":" ","printOnDemand":"  ","printDisabled":" ","missingPrinter":"    ","displayConfirmationCode":"  /  ","displayQRCode":"   QR     ","showWithLink":null,"display":" ","doNotDisplay":" ","software":" ","softwareVersion":"/   ","forceUpdate":"  ","appVersion":"/  ","device":"","model":"","serial":" ","sendDeviceDetails":"   ","guidedBySupportOnly":"  ","detailsSent":"  ","createServiceStationFailed":"   .    .","createServiceStation":" {{ remoteId }}","environmentalNote":"       /           .\\n\\n               .\\n\\n       . ","showAnnouncements":" ","allowUploadingFilesFromFileSystem":null},"posCardOperationApproval":{"actionNotApprovedYet":"     ","print":"","printing":" ","printCopy":" ","printFailed":"       ","scanQr":"   ","viewApproval":null},"posConfirm":{"noMatchingContract":"     ","anotherContract":"   "}}},"en":{"translation":{"language":"Language","error":"Error","brand:RAVKAVONLINE":"Rav-Kav Online","brand:ALHAKAVONLINE":"Al-Hakav Online","scanCard":"Scan card","ravkavScanning":"Rav-Kav scanning","contract":"Contract","contracts":"Contracts","loadProfiles":"Load profiles","reserveLoading":"Reserve contract","issueRavKav":"Order a Rav-Kav","cancelLoading":"Cancel contract","mainMenu":"Main menu","openMainMenu":"Open main menu","about":"About","next":"Next","skip":"Skip","continue":"Continue","open":"Open","oops":"Oops!","enter":"Enter","exit":"Exit","noMatchingContracts":"No matching contracts found","startingAt":"Starting at","cardContents":"Card contents","editRavKav":"Edit Rav-Kav","ravKav":"Rav-Kav","back":"Back","search":"Search","menu":"Menu","anonymous":"Anonymous","until":"until","cardExpiredAt":"Card expired at","events":"Events","contractNotSoldNow":"Not sold at this time","noContracts":"There are no contracts on the card","noEvents":"There are no events on the card","renewContract":"Renew","similarContract":"Find similar","renewContractAtPrice":"Renew {{price}}","renewContractStartingAtPrice":"Renew starting at {{price}}","loadAContract":"Load a contract","loadAnotherContract":"Load another contract","loadContractNotOnCard":"Load a contract not found on the card","inactiveContracts":"Inactive contracts","activeContracts":"Active contracts","fromStation":"From station","toStation":"To station","date":"Date","fromDate":"From date","toDate":"To date","ravKavName":"Rav-Kav name","ravKavNumber":"Rav-Kav number","billingStatusName":"Billing status","operator":"Operator","metropolin":"Metropolitan area","metropolinX":"{{ metropolin }} metropolitan area","nfcInactive":"NFC is inactive","pressToScan":"Press to scan","toScan":"Scan","nfcActivate":"Activate NFC","nfcNotFound":"An NFC component was not found on the device","nfcItIsRequired":"The component is required for interacting with a Rav-Kav","nfcOtherServices":"For services not requiring NFC","pressCardBackOfDevice":"Hold the card to the back of the device","pressCardTopOfDevice":"Hold the card to the top part of the device","readingCardDontMove":"Reading card, hold it","readCardSuccess":"The card was read successfully","pressCardBackOfDeviceTillFinished":"Hold the card to the back of the device until finished","tryAgain":"Try again","predefinedContract":"Predefined code","purchasedAt":"Purchased at","profile":"Profile","profiles":"Profiles","lineNumber":"Line number","numPassengers":"Passengers","debitAmount":"Used amount","station":"Station","atDate":"At","loadInWebsite":"Load from a computer on our website","customerServiceAndSupport":"Customer service and support","copyright":"Pcentra \xa9 2015-{{currentYear}} All rights reserved ","loadingHistory":"Loading history","loadingHistoryCard":"Card loading history","hiddenCard":"Hide card","hiddenCardExplanation":"Won\'t be shown in the cards list","filter":"Filter","filterClear":"Clear filter","filterWithout":"All","freeText":"Free-form text","resultsNotFound":"No results found","resultsNotFoundFilter":"Couldn\'t find any results matching the filter","fetchFailed":"Couldn\'t fetch the information","tryAgainRefresh":"Please refresh and try again","loadMore":"load more","ravKavCard":"Rav-Kav card","ravKavCards":"Rav-Kav cards","ravKavCardNumber":"Rav-Kav card number","cardName":"Card name","unnamed":"Unnamed","changeName":"Change name","lastUseAtBrand:RAVKAVONLINE":"Last use in Rav-Kav Online","lastUseAtBrand:ALHAKAVONLINE":"Last use in Al-Hakav Online","reminder":"Reminder","validityReminderExplanation":"When a seasonal contract is about to expire","reserveLoadingToCard":"Reserve a contract for the card","reserveLoadingToCardExplanation":"Complete on another device or at a service station","noRavKavCards":"There are no saved Rav-Kav cards","ravKavCardHowToSave:RAVKAVONLINE":"A card will show up here after it is used in Rav-Kav Online","ravKavCardHowToSave:ALHAKAVONLINE":"A card will show up here after it is used in Al-Hakav Online","lastUpdatedAt":"Last updated at {{date}}","paymentMeans":"Payment methods","support":"Support","logout":"Logout","logoutVerify":"Are you sure you want to logout?","yes":"Yes","no":"No","enterNewCardName":"New name for the card","cancel":"Cancel","update":"Update","balance":"Balance","help":"Help","unknown":"Unknown","openMenu":"Open menu","advancedFilter":"Advanced filter","closeAdvancedFilter":"Close advanced filter","toEdit":"Edit","toView":"View","picture":"Picture","searching":"Searching","additionalActions":"Additional actions","actionFailed":"The action failed","recentlySelected":"Recently selected","payAttention":"Pay attention","downloadForAndroid":"Download the app for Android","downloadForIPhone":"Download the app for iPhone","uninitializedRavkavCard":{"didntFindActionsForCard":"There aren\'t any actions for this Rav-Kav card"},"mobileSidebar":{"scan":"Scan a Rav-Kav","allActionsAndServices":"All actions and services","youMayBeInterested":"You may be interested","ravkavIssuanceTitle":"Order personal Rav-Kav","plt":"Profile Loading","svc":"Stored Value Conversion","orderRavkavBanner1:RAVKAVONLINE":"Order a Rav-Kav card","orderRavkavBanner1:ALHAKAVONLINE":"Order a Rav-Kav card","orderRavkavBanner2":"Order personal Rav-Kav >>","goldenRavkavAlt":"Golden Rav-Kav","pltZahav1":"Claim Profile 75+","pltZahav2":"Citizens older than 75 >>","studentProfileBanner1":"Load Student Profile","studentProfileBanner2":"Students ride at half price!"},"cardLoader":{"issuing":"Creating secure connection\\nPlease hold","unavailableTitle":"The loading service is temporarily unavailable","unavailableBody":"Please try again later","conflictTitle":"There is already an active process for this card","conflictBody":"Please try again in a few minutes","unexpectedTitle":"An unexpected error occurred","unexpectedBody":"Please try again later","ready":"Hold the card to the back of the device","waitOperationComplete":"Wait for the operation to complete"},"cardContracts":{"arrow":"","moreInfo":"Additional information","lastUses":"Last uses","pressMoreInfo":"For more info click on a contract","loadedAt":"Loaded at","type":"Type","purchasedFromOperator":"Purchased from operator","contractStatus":"Contract status","contractRenewal":"Contract renewal","canRenew":"Can be renewed","noActiveContracts":"No active contracts were found","noInactiveContracts":"No inactive contracts were found","travelAreas":"Travel areas","cancelContract":"Cancel contract","contractCannotBeCanceled":"The contract cannot be canceled","toCancel":"Cancel","issueCancellationRequest":"Claim refund","loginToCheck":"Connect and scan the Rav-Kav card again to check if the contract can be canceled","entitledCancellationRequestForContract":"You can claim a refund for the contract","entitledToCancelContract":"You can cancel the contract and get a full refund"},"cardEvents":{"passengers":"{{count}} passengers","passengers_0":"One passenger"},"usableStatuses":{"usable":"Ready for use","out_of_value":"No remaining value","no_longer_valid":"Expired","no_yet_valid":"Not yet valid (starts in the future)","erased":"Removed or disabled","card_inactive":"Rav-Kav card is inactive","customer_profile_inactive":"The contract is associated to a \\"{{profile}}\\" profile which was expired","noRides":"No more rides left"},"languagePicker":{"chooseLanguage":"Choose language"},"login":{"invalidDeviceTitle":"Unidentified Device","invalidDeviceBody:RAVKAVONLINE":"To use Rav-Kav Online on this device, it must be associated with a service station. To inquire about this device\'s association, please contact support.","invalidDeviceBody:ALHAKAVONLINE":"To use Al-Hakav Online on this device, it must be associated with a service station. To inquire about this device\'s association, please contact support.","verificationCodeSent":"To protect your account, we have sent a verification code to your email or phone. \\n Check your mailbox or phone, and enter the code you received.","codeExpired":"Code expired","tooMuchTimePassedReLogin":"Too much time has passed since the login attempt. please try to log in again.","incorrectVerificationCode":"Incorrect verification code, enter the code as received","tooManyAttempts":"Too many incorrect attempts","waitFewMinutes":"For your security, please wait {{minutes}} minutes and try again.","codeNotSent":"A few minutes have passed and you did not receive the verification code?","resend":"Send again","codeResent":"We have sent the verification code again. If you do not receive the message within a few minutes, please contact us."},"settings":{"confirmLogoutToChangeServiceStation":"To change a service station you must log out and log in again. Disconnect now to change service station?"},"initServiceStation":{"fetchingTitle":"Searching for a service station","fetchingBody":"Please wait","fetchFailedTitle":"We encountered an error finding your service stations","fetchFailedAction":"Try again","notAPosOperatorTitle:RAVKAVONLINE":"This app is for Rav-Kav Online service POS operators","notAPosOperatorTitle:ALHAKAVONLINE":"This app is for Al-Hakav Online service POS operators","notAPosOperatorBody:RAVKAVONLINE":"For personal use download the Rav-Kav Online app for Android or iPhone, or use the website.","notAPosOperatorBody:ALHAKAVONLINE":"For personal use download the Al-Hakav Online app for Android or iPhone, or use the website.","notAPosOperatorAction":"Download the app","noServiceStationsTitle":"You don\'t have any service stations","noServiceStationsBody":"Using this device requires an association to a service station. Please contact your system administrator to set the appropriate settings.","switchingTitle":"We recognized a change in the service station","switchingBody":"Actions from this device will be associated to service station:","switchingAction:RAVKAVONLINE":"Continue to Rav-Kav Online","switchingAction:ALHAKAVONLINE":"Continue to Al-Hakav Online","suggestingTitle":"Service station selection","suggestingBody1":"We recognized the following service station:","suggestingBody2":"Is it correct?","suggestingAction:RAVKAVONLINE":"Yes, continue to Rav-Kav Online","suggestingAction:ALHAKAVONLINE":"Yes, continue to Al-Hakav Online","suggestingSecondaryAction":"No, select service station","creatingFromRemoteIdTitle":"Creating service stations for {{remoteId}}","createFromRemoteIdFailedTitle":"Failed to create a service station","createFromRemoteIdFailedBody":"Please contact your system administrator.","showingCurrentServiceStationTitle":"This device is associated with service station {{serviceStationName}}","showingCurrentServiceStationBody":"All actions from this device will be associated to this service station","createdFromRemoteIdTitle":"New service station for {{remoteId}} was created","continue":"Continue","selectServiceStation":"Select service station:","typeToFilter":"Type to filter","resultsNotFound":"No results found","changeUser":"Change user","exit":"Exit"},"scan":{"removeCard":"Remove the card from the device and try again","tryAgain":"Try again in {{seconds}} seconds"},"paymentMethod":{"null":"Without payment","balance":"Balance","creditcard":"Credit card","creditcardShort":"Credit card","cash":"Cash"},"itemSelector":{"typeToFilter":"Type to filter","resultsNotFound":"No results found"},"personalArea":{"title":"Personal area","personalDetails":"Personal details","email":"Email","fullName":"Name","joinedAt":"Joined at {{date}}","joinAtDate":"Join at","security":"Security"},"cardContent":{"ravkavDetails":"Rav-Kav details","ravkavContents":"Rav-Kav contents","expirationDate":"Expiration date","ravkavExpired":"The Rav-Kav card is expired","editAction":"Edit","profile":"{{profile}} profile"},"contractCounter":{"rides":"{{count}} ride","rides_plural":"{{count}} rides","days":"{{count}} day","days_plural":"{{count}} days","monthlyFlexible":"Flexible month","storedValueFlexible":"Flexible","storedValueFixed":"Value {{amount}}","unknownContract":"Unknown contract","unlimited":"Unlimited"},"paymentDetailsNotEntered":"Payment info wasn\'t entered","created":"Created","loadingDetails":"Contract loading details","reservationApproval":"Reservation confirmation","purchaseApproval":"Purchase confirmation","cancellationApproval":"Cancellation confirmation","deleteCreditCardSure":"Are you sure you want to delete the credit card ending with digits {{lastDigits}}?","deleteCreditCardTitle":"Delete credit card","noSavedCreditCards":"There are no saved credit cards","howToSaveCreditCard":"To add a new credit card, check the \\"Reuse credit card\\" box when making a purchase.","lastChargedAt":"Last charged at {{date}}","expiredAt":"Expired at {{date}}","delete":"Delete","eventDescription":"{{event}}, {{eventTransportMean}}","ravkavOnlineEventDescription":"{{event}}, Rav-Kav Online","organizationsErrors":{"unknown":"An unexpected error occurred. Please try again","unavailable":"An unexpected error occurred. Please try again","not_found":"An unexpected error occurred. Please try again","bad_request":"An unexpected error occurred. Please try again","organization_misconfigured":"Please contact the person in charge of Rav-Kav in your organization","no_remaining_allowance":"There is no remaining allowance","unexpected":"An unexpected error occurred"},"enrollmentRequest":{"title":"Join the organization","requestedExplanation":"{{organization}} has invited you to register your Rav-Kav card with the organization.","continue":"Continue","tryAgainInFewMinutes":"You have started the registration process but did not complete it. To register, please wait a few minutes and try again.","enrolledExplanation":"Congratulations! You are already registered with this organization","failedExplanation":"You cannot register with this organization. If you believe this is a mistake, please contact the person in charge of Rav-Kav in the organization","canceledExplanation":"The registration process has been cancelled","successTitle":"Welcome!","successDescription":"The registration process has completed successfully","successBannerTitle":"Got this far?","successActionLabel":"Scan your card to check for eligibility for loading through the organization","executing":"Registering. Hold it","success":"The registration process has completed successfully","error":"An unexpected error occurred","failed":"The registration with the organization has failed"},"localAccount":{"preferredLanguage":null,"passengerIdType":null,"remoteAccountOpening":null,"continue":null,"accountDetails":null,"update":null,"updatedSucceeded":null,"remoteAccount":null,"openOrUpdateRemoteAccount":null,"unavailable":null,"missingPrerequisites":null,"missingPrerequisitesLocation":null,"missingPrerequisitesPersonalized":null,"notOpenedYet":null,"foundShamashEnrollmentInProgress":null,"completeProgress":null,"openAccount":null},"localAccountEnrollment":{"title":null,"executing":null,"success":null,"error":null,"problemWithOpeningLocalAccount":null,"failed":null,"continue":null,"tryAgainInFewMinutes":null,"enrolledExplanation":null},"shamashErrors":{"unknown":null,"unavailable":null,"not_found":null,"bad_request":null,"location_required":null,"passenger_hash_incompatible":null,"unexpected":null},"membershipPage":{"title":"Membership","reload":"Reload","failedToFetchContract":"Failed to load the contract you are entitled to","devNotifiedTryLater":"The system administrator has been notified. Please try again later","timelineInactiveMembership":"Inactive membership, please contact the organization\'s managers","timelineGotAllowance":"You received a total allowance of {{allowance}}","timelineCanLoadContract":"You can load {{contractName}}","timelineCanLoadStoredValueWithoutDiscount":"You can load stored value in amount of {{price}}","timelineCanLoadStoredValueWithDiscount":"You can load stored value in amount of {{price}} (the Rav-Kav will be loaded with stored value of {{counterValue}} for the profile on the card)","timelineCantLoadContract":"You can\'t load {{contractName}} at the moment","timelineWillHaveLeft":"You will have {{remainingAllowance}} left to use until this date","timelineHaveLeft":"You have left {{remainingAllowance}} to use until this date","timelineAllowanceWillBeRenewed":"Your allowance will be renewed"},"blacklist":{"title":null,"cardInBlacklist":null,"invalidateCard":null,"invalidatedSuccessfully":null,"executing":null,"wasntInvalidated":null,"success":null},"allowanceAvailabilityCannotClaimReason":{"membershipNotActiveYet":"Your membership not active yet. The membership will be activated on {{date}}","membershipInactive":"Inactive membership. Please contact a representative from the organization","insufficientAllowanceForContract":"You are not entitled to load the contract chosen for you. Please contact a representative from the organization.","maxedStoredValueCap":"Your Rav-Kav is loaded with {{currentStoredValue}} stored value and the organization does not allow to accumulate more than {{cap}}. You will be able to realize the remaining allowance after using the Rav-Kav.","exceededStoredValueLimitOnCard":"You have reached the limit of stored value on the Rav-Kav. You will be able to realize the remaining allowance after using the Rav-Kav.","noRemainingAllowance1":"You have used the full allowance in the current period","noRemainingAllowance2":"Your allowance will be renewed {{date}}","overlappingExistingContract":"There is an overlap with an existing contract on the Rav-Kav. You will be able realize the reloading after expiration of the existing contract.","noMatchingContractToClaim":"No matching contract to claim, Please contact a representative from the organization.","noMatchingContractForAnonymousCard":"The contract chosen for you by the organization cannot be loaded on anonymous Rav-Kav."},"cardNotification":{"cancellableTransaction":"{{ett}} was loaded successfully at {{timestamp}}.","cancellableProfile":"{{profile}} profile was loaded successfully at {{timestamp}}.","cancelLoading":"Cancel contract","moreInfo":"For more information","canLoadProfileImmediately":"You may load the following profiles without an approval process:","thanksNotInterested":"Thanks, not interested","loadAProfile":"Load profile","existingProfileLoadingFound":"There is an existing profile loading process for this Rav-Kav which began at {{dateTime}}.","continueProfileLoading":"Continue to profile loading","reservedTransaction":"A {{contract}} contract was reserved for this Rav-Kav card by {{by}} at {{at}}.","loadTheContract":"Load the contract","unusableStoredValueFound":"Found inaccessible stored value that can be converted to profile {{profile}} (free of charge).","convertibleStoredValueFound":"Found stored value on your card that may be converted to a better profile, {{profile}} (free of charge).","convertAStoredValue":"Convert stored value","cardValidityExtension":"The Rav-Kav expiration date is {{endDate}}.\\nYou can extend the card validity until {{until}}.","extendCardValidity":"Extend card validity","fulfillCompensation":"Load compensation","gotAllowance":"You are eligible for a {{remainingAllowance}} allowance from {{organization}}","gotAllowanceRedacted":"You are eligible for allowance from {{organization}}","load":"Load","invitationFromOrganization":"You can register your Rav-Kav card with \\"{{organization}}\\"","joinOrganization":"Register","entitledCancellationRequestForContractOnCard":"You can claim a refund for your Rav-Kav contract","entitledCancellationRequest":"You can claim a refund for your contract","issueCancellationRequest":"Claim your refund","existingCancellationRequestFound":"A Rav-Kav ticket cancellation request created at {{createdAt}} was found.","continueCancellationRequest":"Proceed"},"vatStatus":{"name":"VAT status","included":"Included","exempt":"Exempt"},"modeOfTransport":{"titlePlural":"Modes of transport","rail":"Rail","bus":"Bus","light_rail":"Light rail","cable_car":"Cable car"},"distanceRange":{"name":"Distance range","15km":"Up to 15km","40km":"Up to 40km","75km":"Up to 75km","120km":"Up to 120km","225km":"Up to 225km","unlimited":"Unlimited"},"continuationRides":"Continuation rides","enterCreditCard":"Enter credit card details","securePayment":"Secure payment","note!":"Note!","onlyFewHoursRemaining":"There are only a few hours remaining on the contract. Please verify the start date before proceeding.","contractOverlapsWithExisting":"The contract overlaps with an existing contract on the card. The overlap is {{count}} days. Please verify the start date before proceeding.","contractOverlapsWithExisting_0":"The contract overlaps with an existing contract on the card. The overlap is 1 day. Please verify the start date before proceeding.","viewContract":"Go to contract","contractStartDate":"Contract start date","fromLoadingDate":"From loading date","changeDate":"Change date","numMinutes":"{{count}} minute","numMinutes_plural":"{{count}} minutes","contractComments":"Comments for the contract","acceptedByOperators":"Accepted by operators","fareCodes":"Fare codes","fareCodeRoutesSystem":"Routes system {{routesSystem}}, Fare code {{fareCode}}","changeOperator":"Change operator","chooseOperator":"Choose operator","chooseOperatorSubTitle":"We recommend choosing an operator close to your place of residence. The following operators offer this contract.","contractDetails":"Contract details","cantBeCompleted":"The action could not be completed","tryAgainLater":"Please try again later","purchase":"Purchase","pay":"Pay","get":"Get","minMaxPrice":"Enter a price between {{minPrice}} and {{maxPrice}}","cantLoadMoreStoredValue":"No additional stored value can be loaded for this card","refundedAmount":"Refunded amount","estimatedBalanceAfter":"Estimated balance after payment","pleaseWait":"Please wait","send":"Send","newCreditCard":"New credit card","savedCreditCard":"Saved credit card","enterPersonalId":"Enter the personal ID number of the owner of the credit card ending with digits","personalId":"Personal ID number","installments":"Installments","chooseAnotherCreditCard":"Choose another card","chooseCreditCredit":"Choose a credit card","paymentFailed":"The payment failed","notCharged":"You will not be charged","errorThatWasReceived":"The following error was received","searchingSavedCreditCards":"Searching saved credit cards","connectingSecure":"Creating a secure connection","loadingPaymentPage":"Loading payment page","paymentCancelled":"The payment was canceled","systemMessagesReset":"Reset system messages","systemMessagesResetExplanation":"Support messages, eligibilities, etc.","messagesWillReappear":"Messages you hid will reappear","ok":"OK","select":"Select","softwareVersion":"Software version","appVersion":"App version","brandWebsite:RAVKAVONLINE":"Rav-Kav Online website","brandWebsite:ALHAKAVONLINE":"Al-Hakav Online website","faq":"Frequently asked questions","contact":"Contact us","notifications":"Notifications","getUpdates":"Get updates","getUpdatesExplanation:RAVKAVONLINE":"Updates regarding new services, contracts and benefits at Rav-Kav Online.","getUpdatesExplanation:ALHAKAVONLINE":"Updates regarding new services, contracts and benefits at Al-Hakav Online.","reset":"Reset","cardHolderPersonalId":"Personal ID of the card holder","cardHolderPassport":"Passport number of the card holder","didYouMean":"Did you mean","additionalAreas":"Additional areas","chooseProfile":"Choose a profile","profileMustBeOnCard":"The profile must be found on the Rav-Kav card","anonymousCard":"Anonymous card","chooseFlexibleStart":"Choose a start date for a flexible contract","chooseFlexibleStartSubTitle":"The contract will start at the day you choose","km":"{{ km }} km","app":{"failedToInitPage":"We failed to initialize the page.","notifiedAndWillHandle":"The development team has been notified and will address this as soon as possible."},"welcome":{"ravkav":"Rav-Kav","actions":"Actions","trainTitle":"Rail contracts","trainBody":"Load Rail contract","loadContractTitle":"Load a Rav-Kav","loadContractBody":"Load or renew a contract","cardContentsTitle":"View card contents","cardContentsBody":"Contracts and recent events","loadProfileTitle":"Load a profile","loadProfileBody":"Load a discount profile","convertStoredValueTitle":"Convert stored value","convertStoredValueBody":"Reactivate inaccessible value","extendCardValidityTitle":"Extend card validity","extendCardValidityBody":"For cards which are about to expire","noNfcTitle":"NFC was not detected on this device","noNfcBody":"NFC is necessary for interacting with a Rav-Kav card","noNfcAction":"For other services","services":"Services","findServiceStationTitle":"Find a service station","findServiceStationBody":"Locate a service station nearby","reservationTitle":"Reserve a contract","reservationBody":"Pay in the app, load in a service station","orderRavKavTitle":"Order a Rav-Kav card","orderRavKavBody":"Order a Rav-Kav to your home","information":"Info","personalAreaTitle":"Personal area","personalAreaBody":"History, preferences and more","contractSearchTitle":"Contracts","contractSearchBody:RAVKAVONLINE":"Available contracts in Rav-Kav Online","contractSearchBody:ALHAKAVONLINE":"Available contracts in Al-Hakav Online","reformSearchTitle":"Contracts by area","reformSearchBody":"Find contracts by traveling area","aboutTitle":"About","aboutBody:RAVKAVONLINE":"About Rav-Kav Online","aboutBody:ALHAKAVONLINE":"About Al-Hakav Online","howWouldYouLike":"How would you like to load?","appTitle":"Mobile App","appBody":"For NFC supported devices","appAction":"Download app","serviceStationTitle":"Service Station","serviceStationBody":"Pay online, load in a service station","serviceStationAction":"Locate station nearby","pcTitle":"Computer","pcBody":"Use a USB card reader","pcAction":"Load from computer"},"contractLoadSuccess":{"title":"Rav-Kav loaded successfully","purchaseConfirmationSent":"A confirmation was sent to your email address","viewPurchaseConfirmation":"View purchase confirmation","scanAgain":"Scan the Rav-Kav again to see the contract","thanks":"Thank you for loading with","hadFun":"Enjoying the app?"},"userBalance":{"credit":"Credit","inProgressTitle":"Actions in progress","inProgressBody":"Amount allocated for actions in progress","availableCreditTitle":"Spendable balance","creditDisabled":"The balance is inactive.\\nTo activate the balance please contact support."},"messages":{"required":"This field is required","email":"Not a valid email address","number":"Can only contain digits","minlength":"Too short","maxlength":"Too long","arrayMinlength":"Not enough values selected","arrayMaxlength":"Too many values selected","equalto":"The values don\'t match","mustAccept":"Must accept the terms","login_unknown_error":"Something went wrong. Please try again later.","invalid_credentials":"The email and/or password are incorrect","inactive_user":"The user is not active. Check you email inbox or contact support.","invalid_software":"Unrecognized software. Please contact support.","restricted_software":"Login is not allowed from this software. Please contact support.","invalid_device":"Login is not allowed from this device. Please verify you are associated to this device or contact support.","israeliPersonalId":"Not a valid personal ID number","pattern":"The value you entered is invalid","invalid":"The value is invalid","recaptcha":"Please check the box","ravkavHolderName":"According to the guidelines of the Ministry of Transportation, the name that appears on Rav-Kav card must be in Hebrew or English"},"messagesUsername":{"username":"Not a valid username","invalid_credentials":"The username and/or password are incorrect"},"changePassword":{"title":"Change password","devicesWillDisconnect":"Will disconnect other connected devices","current":"Current password","new":"New password","newAgain":"New password (again)","invalidPassword":"The password is invalid. Please choose another one.","incorrectPassword":"The current password is incorrect. Please try again.","unexpectedError":"An unexpected error occurred. Please try again.","submit":"Change password","successTitle":"Success","successBody":"The password has been changed","successMessage":"Password updated successfully!"},"updatePersonalDetails":{"title":"Update personal details","updateDetails":"Update details","nameFirst":"First name","nameLast":"Last name","unexpectedError":"An unexpected error occurred. Please try again."},"versionUnsupported":{"title":"Unsupported version","update":"Update the app","continue":"Continue anyway","message:RAVKAVONLINE":"This version of the app ({{version}}) is no longer supported. Some things may not work or fail.\\n\\nWe recommend using the latest version of Rav-Kav Online.","message:ALHAKAVONLINE":"This version of the app ({{version}}) is no longer supported. Some things may not work or fail.\\n\\nWe recommend using the latest version of Al-Hakav Online."},"reload":{"title":"Load contract","initiating":"Requesting reloading","executing":"Loading, hold it","inactiveTitle":"This request expired","inactiveBody":"Please try again","smsQuestion":"Got an SMS message from your credit credit company?","smsAnswer":"It\'s not a charge!","smsMoreInfo":"More information","notLoaded":"The contract was not loaded","notCharged":"You will not be charged","success":"Contract loaded successfully","ready":"To load the contract hold the Rav-Kav to the back of the device","balanceBelow":"Your balance is less than {{balance}}","loadingNewRequest":"Loading new request","personalIdRequired":"Charging this contract requires a personal ID","actionAlreadyUsed":"This action has already been used","notCompletedTitle":"You didn\'t finish the loading","notCompletedBody":"To load the Rav-Kav you need to hold the card to the back of the device one more time.\\n\\nWould you like to finish the loading?","notCompletedAbortReloading":"No, I don\'t want to load","notCompletedBackToReloading":"Yes, I want to load the Rav-Kav","reloadingAbortedBody1":"The loading was canceled, you will not be charged!","reloadingAbortedBody2":"If you paid with a credit card you might get a message from your credit card company. It is not a charge but a credit limit check.\\n\\nThe credit limit check might appear as a separate charge on your card statement. Don\'t worry! It is reversed immediately and disappears after a day without any action on your part.","reloadingAbortedOk":"Got it","almostDoneTitle":"You are almost done","almostDoneBody":"To complete the loading you need to hold the card to the back of the device one more time.","almostDoneContinue":"Got it, let\'s continue","scanRavKavCard":"Scan Rav-Kav card"},"cancelReloadSuccess":{"title":"The loading was canceled","body":"You will be refunded","scan":"Scan the Rav-Kav to view the up-to-date contents","thanks":"Thank you for choosing","rateUsMessage":"Enjoying the app?"},"units":{"M":"{{count}}m","KM":"{{count}}km"},"days":{"1":"Sunday","2":"Monday","3":"Tuesday","4":"Wednesday","5":"Thursday","6":"Friday","7":"Saturday"},"times":{"lastMonth":"Last month","lastWeek":"Last week","yesterday":"Yesterday","today":"Today","tomorrow":"Tomorrow","dayAfterTomorrow":"Day after tomorrow","thisWeek":"This week","thisMonth":"This month"},"creditCard":{"endsWith":"credit card ending with {{lastDigits}}"},"rateUs":{"title":"Help spread the joy!","action":"RATE"},"searchContracts":{"title":"Contracts search","filterEtt":"Contract type","notAnonymous":"Not anonymous","storedValueForProfile":"For {{profile}} profile","forProfile":"for {{profile}} profile","resultsCount_0":"One result found","resultsCount":"Found {{count}} results","resultsAnonymous":"for anonymous Rav-Kav","resultsForProfile":"for profile","train":"Rail contracts","searchFailed":"Search failed","notPermittedForAnonymous":"Not available for anonymous Rav-Kav","partialSearchClearing":"Try removing some cities from the search bar and make sure to use the auto complete","recentSearches":"Recent searches","willDisplayRecentSearches":"Your recent searches will appear here","unexpectedError":"An unexpected error occurred","selectEttChoice":"No contract type selected, please select contract type to complete the search","howSearchWorks":"How does search work?","howSearchWorksItem1":"The available options are determined by the cities you have selected. The available areas are: Periphery, Area 2, Eilat Trade Zone, and Eilat.","howSearchWorksItem2":"If you have selected only one city, the search is limited to a distance of 15\xa0km, the minimal travel distance that allows you to travel between any two points in that city.","howSearchWorksItem3":"If you have selected two cities, the travel distance is the straight line connecting both city centers. Note: traveling from other areas between these cities might be longer or shorter than that distance.","howSearchWorksItem4":"If you have selected more than two cities, the travel distance is the longest straight line between the city centers.","howSearchWorksItem5":"If you scanned a Rav-Kav card, you will be offered the most cost-effective contract for your discount profile."},"searchContractsTextSearch":{"searchSettlements":"Search Jerusalem, Tel Aviv","addMore":"More","search":"Search {{term}}"},"trainTariffPicker":{"origin":"Origin station","destination":"Destination station","selectStations":"Please choose origin and destination to see the prices","fetchFailed":"An unexpected error occurred","perRide":"{{saving}} per ride","profile":"{{profile}} profle","select":"Select","lastRoutes":"Last routes"},"newAddressForm":{"address":"Address","name":"Addressed to","nameComment":"first and last name","city":"City","street":"Street","houseNumber":"House number","entrance":"Entrance","zip":"ZIP code","apartment":"Apartment number","poBox":"PO Box","apartmentComment":"0 for private house","comments":"Comments","save":"Save","searchAddress":"Search address","autoComplete":"Full address including house number","fillAddressManually":"Can\'t find? Fill manually"},"order":{"purchasableAlreadyInOrderTitle":"Some of the items cannot be ordered, or they are already in another order","purchasableAlreadyInOrderBody":"Refresh the page to update the list of items.","multipleShipmentsTitle":"Several shipments were selected","shipmentRequiredTitle":"This order requires shipping","nothingToShipTitle":"This order does not require shipping","unexpectedError":"An unexpected error occurred.","listTitle":"Orders","myOrders":"My orders","notFound":"You don\'t have any orders","itemsCount_0":"One item","itemsCount":"{{count}} items","createdAt":"Created at {{date}}","detailsTitle":"Order details","backToList":"My orders","pay":"Pay","status":"Order status","paymentMethod":"Payment method","total":"Total","cancelTitle":"Cancel order","cancelBody":"After canceling the order you can place another order with the items that are in this order.","cancelAction":"Cancel order","orderNotFound":"Order not found","makeSureTheRightAccount":"Make sure you are logged in in with the user with whom you placed the order","confirmCancellation":"Are you sure that you want to cancel this order?","checkoutTitle":"Checkout","continue":"Continue","incompleteNotificationTitle":"There are {{count}} incomplete orders","incompleteNotificationAction":"See all of your orders","itemsNotFound":"Items not found.","itemsTitle":"Items for the order","itemsBody":"Pick one or more items to ship in this order:","shipmentTitle":"Shipment","shipmentBody":"Choose a shipment method and fill in the address.","shipmentType":"Shipping method","address":"Address","shipmentAddress":"Shipment address","newAddress":"Add new address"},"reformSearch":{"chooseMetropolin":"Choose metropolin","showTrain":"Show train stations","chooseContractType":"Choose contract type","chooseContract":"Choose contract","noSelectionTitle":"Mark travel areas on the map","noSelectionBody":"To view active contracts in selected areas","noResultsTitle":"No results found","noResultsBody":"Remove areas from the map to expand the search","predefinedContract":"Predefined code","showSeniorPrice":"Show prices for senior citizen -50%","clear":"Clear"},"serviceStations":{"title":"Service stations","found_0":"Showing one service station nearby","found":"Showing {{count}} service stations nearby","notFound":"No service stations were found within","notFoundDontWorry":"No service stations? Don\'t worry!","notFoundAskFriend":"You can reserve and load on a friend\'s phone","notFoundClickMap":"Click the map to search a different location.","moreInfo":"More information","openingHours":"Opening hours","navigateToServiceStation":"Navigate to service station","goToServiceStation":"Navigate","usingNavApp":"Using a navigation app","advancedSearch":"Advanced search","address":"Address","typeToSearch":"Type to search","servicesAtStation":"Services provided at station","pristineBody":"Click on the map to search for the nearest service stations, Casponet ATMs and Al-Hakav Information Centers.","reservationAction":"Reserve contract to this station","operatingCompany":"Operated by","comments":"Comments","activityHours":"Activity hours","attributes":"Attributes","back":"Back to list","foundHeader":"Showing one service station","foundHeader_plural":"Showing {{count}} service stations","actions":"Actions","noLocation":"No location was selected","loadingMap":"Loading map","mapUnsupported":"Cannot display the map in this browser.","mapFailed":"Encountered an error while loading the map.\\nPlease try again later."},"serviceStationAttribute":{"accepts_cash":"Accepts cash","accepts_credit_card":"Accepts credit card","manned":"Manned","ravkav_services":"Rav-Kav services","reload_reservation":"Loads reserved contracts","sells_ravkav_reader":"Sells Rav-Kav readers"},"currentLocation":{"turnOnGps":"Turn on GPS and accept location access","find":"Find location","locating":"Locating","update":"Update location","permissionDenied":"The app doesn\'t have permission to find your location","failed":"Couldn\'t find your location"},"browserUnsupported":{"title":"Your browser is unsupported","notSupported":"The browser you are using is too old","suggestBrowser":"To use Rav-Kav Online you need to use a supported browser. Here are some popular browser you can use:","afterInstall":"Once the installation is complete, navigate to Rav-Kav Online in the new browser."},"deviceUnsupported":{"title":"Your device is unsupported","loadingInApp:RAVKAVONLINE":"Load contract in the Rav-Kav Online app","loadingInApp:ALHAKAVONLINE":"Load contract in the Al-Hakav Online app","imageAria":"Download the app from the Google Play Store","info":"For more details about loading your Rav-Kav from a PC, go to the","faqAction":"frequently asked questions page"},"payment":{"title":"Payment","payment_option_balance":"Pay with balance","payment_option_existing_credit_card":"Saved credit card","payment_option_new_credit_card_track2":"Swipe credit card","payment_option_new_credit_card_emv":"EMV","payment_option_new_credit_card_details":"New credit card","contract":"Contract","receivedMessage":"Received message:","paymentForContract":"Payment for contract","paymentForOrder":"Payment for order","choosePaymentMethod":"Please choose a payment method","additionalPaymentMethods":"Additional payment methods","pay":"Pay","selectedCreditCard":"A credit card ending with digits {{lastDigits}} was selected.","payWithBalance":"Pay with balance","payWithApplePay":"Pay with Apple Pay","payWithGooglePay":"Pay with Google Pay","payWithCreditCard":"Pay with credit card","continue":"Continue","inactive":"The request expired. Please try again.","alreadyUsed":"Can no longer complete the payment. Please try again.","unableCompleteCashPayment":"Can no longer complete the cash payment.\\n Please try again.","unavailable":"Payment service is temporarily unavailable. Please try again in a few minutes.","unexpectedError":"An unexpected error occurred.","disabledTitle":"The balance is disabled.","disabledBody":"Contact support to activate the balance.","insufficientFundsTitle":"Insufficient funds.","insufficientFundsBody":"Your current balance is {{amount}}.\\nContact support to add funds.","checkBalance":"Check that there is a sufficient balance to perform the operation","connecting":"Creating a secure connection","mpiPageTitle":"Secure payment page","idLabel":"ID of the credit card holder","actionFailed":"The action failed","tryActionAgain":"Please try again","actionCanceled":"The action was canceled","reason":"Received reason","selectOption":"Select Credit Card payment option:","scanning1":"Swipe card","scanning2":"Swipe card in the magnetic reader","emv1":"EMV","emv2":"Tap or insert the card","details1":"Enter card details","details2":"Enter the number, expiration date, personal ID and CVV of the Credit Card","pleaseSelectAPaymentMethod":"Please select a payment method","enterCardDetails":"Enter card details","changePaymentMethod":"Change payment method","payWithCardEndingWith":"Pay with credit card ending with {{last_four_digits}}","payWithNewCreditCard":"Pay with new credit card","noAvailablePaymentOptionsTitle":"No available payment options","noAvailablePaymentOptionsBody":"Please try again or contact support","makeSureValuesCorrect":"Please make sure that all of the details are correct","sessionInUse":"Please try again in a few seconds","connectionFailed":"Failed to connect to the payments service. Please try again","googlePayPromotion":"Tired of entering your ID every time you pay? Try paying with Google Pay.","deprecatedPaymentMethods":"Deprecated payment methods","paymentWithoutEmv":"Pamyment without EMV"},"buyaHostedFields":{"panLabel":"Credit card number","expLabel":"Expiration","personalIdLabel":"Personal ID","personalIdTooltip":"Personal ID of the credit card owner. Leave blank if the card was not issued in Israel","leaveBlank":"Leave blank if not issued in Israel","cvvTooltip":"3 digits on the back of the card","track2Label":"Swipe credit card","numberOfPaymentsLabel":"Installments","reusableLabel":"Save card for future use","pay":"Pay","cardExpired":"The card has expired","initFailedUserError":"Failed to load the payment page, plese check your internet connection and try again.\\nIf you use a content filtering service, please contact support","threeDSExplanation":"Confirming the card with the credit card company\\nYou may be asked to perform additional authentication"},"scanState":{"connecting":"Connecting","cantConnect":"Can\'t connect","checkConnection":"Check your internet connection and try again","keepPressed":"Keep the card until finished"},"ravkavIssueRequest":{"stateDescriptionCreated":"Please fill in your details.","stateDescriptionExpired":"The request expired due to lack of activity.","stateDescriptionPendingInspection":"The request is being inspected by us.","stateDescriptionInMandatoryWait":"When a replacement Rav-Kav is issued we need to wait for the updated balances to reach our systems. Once they arrive, we will issue the Rav-Kav card.","stateDescriptionPendingIssuance":"The request is being processed.","title":"Rav-Kav issue request","notificationApprovedTitle":"Your Rav-Kav issue request has been approved","notificationApprovedTitle_plural":"You have {{count}} approved Rav-Kav issue requests","notificationApprovedBody":"To complete the process, create an order and fill in shipping and payment details.","notificationOrderTitle":"You have an order that is not yet completed","notificationOrderBody":"To complete the process, complete an order and fill in shipping and payment details.","completeOrder":"Complete the order","notificationOrderMultipleTitle":"You have {{count}} orders that are not yet completed","notificationOrderMultipleBody":"To complete the process, complete an order and fill in shipping and payment details.","myRequests":"My requests","newAction":"New request","forHolder":"for {{holderName}}","completeDetails":"Please fill in all the details in the request","detailsTitle":"Rav-Kav issue request","backToCheck":"My requests","newRequest":"New request","submitNew":"Submit","personalDetailsTitle":"Personal details","personalDetailsBody":"Enter the personal details of the passenger for whom the Rav-Kav card is issued as they appear in the Personal ID.","nameFirst":"First name","nameLast":"Last name","personalIdType":"Personal ID Type","personalId":"Personal ID","passport":"Passport","numbersLetters":"8-9 digits and letters","phone":"Phone number","birthDate":"Day of birth","documents":"Documents","documentsFor":"Please upload the following documents for","missingDocuments":"Missing required documents","cancelTitle":"Cancel request","cancelBody":"This action is irreversible. After canceling the request, the attached documents will be deleted","cancelConfirm":"This action is not reversible. Once this request is aborted you can create another request. Proceed?","cancelAction":"Cancel request","requestDetails":"Request details","requestState":"Request state","placeOrder":"Place an order","disapprovalReason":"Disapproval reason","createdAt":"Created","notDefined":"Not set","issuedTitle":"Issued Rav-Kav card","serial":"Serial number:","requestNotFound":"Request not found","makeSureTheRightAccount":"Make sure you are logged in with the user with whom you made the request","confirmCancellation":"Are you sure that you want to cancel this request?","createTitle":"New Rav-Kav issue request","create":"Create","issueTypeTitle":"Choose type of Rav-Kav:","issueTypePrice":"cost an additional {{price}}","withoutWaiting":"immediate","profileTitle":"Select up to two special profiles:","regularProfile":"Regular","regularProfileComment":"Issue a Rav-Kav card with no special profiles.","specialProfile":"Special","specialProfileComment":"Issue a Rav-Kav card with up to two special profiles.\\nYou will have to upload documents to prove your eligibility.","errorNotAllowedTitle":"Unable to perform the requested operation.","errorNotAllowedAction":"The request may have been updated. Please refresh and try again.","errorMissingPrerequisitesTitle":"Missing details in request.","errorDocumentTitle":"Error uploading the file.","errorDocumentAction":"Scan the card and try again.","errorDoesNotExistTitle":"The request was not found.","errorDoesNotExistAction":"Please try again or contact support.","errorInvalidFileTypeTitle":"Invalid file type.","errorInvalidFileTypeBody":"Can only upload files with the following file extensions:","errorInvalidFileSizeTitle":"Invalid file size.","errorInvalidFileSizeBody":"File size must be in the range","errorInvalidFileNameTitle":"Invalid file name.","errorInvalidFileNameBody":"File name length cannot exceed {{maxLength}} digits, and cannot contain special characters.","errorConflictingProfiles":"The profiles you selected are invalid. Please review the profiles you selected and try again.","errorActiveRavkavIssueRequestForPersonalId":"There is already a request for this Personal ID.\\nCancel one of the requests, or proceed with a different Personal ID.","errorNotEligibleForProfile":"A required condition is not satisifed for profile {{profile}}:","goToRavkavIssueRequestDetails":"To view the request\'s details","errorUnexpectedError":"Unexpected error occurred.","gotRequest":"We got it!","inspectingRequest":"We are going over the documents you submitted to make sure everything is in order.","mailWhenDone":"We\'ll send you an email when we are finished.","suggestMoreRequests":"You can order several Rav-Kav cards in a single order, would you like to request another card?","orderMore":"Request another Rav-Kav card","noThanks":"No thanks!","alt":"Documents under inspection","privacyTitle":"Your Privacy Matters!","privacyBody":"We delete your documents automatically after two months at most.","ravkavDesignSelection":"Rav-Kav design selection","ravkavDesign":"Rav-Kav design"},"installDesktop":{"title:RAVKAVONLINE":"Install Rav-Kav Online software for desktop","title:ALHAKAVONLINE":"Install Al-Hakav Online software for desktop","doneAction":"I\'m done! Continue","windowsDownload":"Download for Windows","macDownload":"Download for Mac","linuxDownload":"Download for linux","steps1":"Download the installation file.","steps2":"Once the download is complete, click the downloaded file and follow the instructions.","steps3":"In the installation process you might get a message saying the publisher or developer is unknown. To continue with the installation, right click on the downloaded file and hit \\"open\\".","steps4":"Make sure you have a card reader.","steps5":"Connect the card reader to the computer.","steps6":"Insert the card to the reader as shown in the image.","incorrectOS":"We detected the wrong operating system?","suggestWindows":"Windows","suggestMac":"macOS","suggestLinux":"Linux (Ubuntu, Debian)","noDownload":"Continue without downloading"},"scanSlideshow":{"androidDontMoveTitle":"Hold the card to the back of the device","androidDontMoveBody":"Wait for the action to finish","androidTryAgainTitle":"Wait a few seconds before scanning","androidTryAgainBody":"Remove the card from the back of the device for a few seconds before trying again","androidTrySpotsTitle":"Hold the card at different spots","androidTrySpotsBody":"Try until you hear a beep","androidNoCaseTitle":"Remove the cover","androidNoCaseBody":"A phone cover might interfere with the signal from the card","androidTurnPhoneTitle":"Still can\'t scan?","androidTurnPhoneBody":"Restart the NFC and reload the app","iosPlaceCardTitle":"Place your Rav-Kav card","iosPlaceCardBody":"Hold the card to the top part of the device, next to the camera","iosCardManufacturerTitle":"Check the card manufacturer","iosCardManufacturerBody":"Cards manufactured by ASK do not work well on iPhone devices newer than iPhone X","iosTryAgainTitle":"Wait a few seconds before scanning","iosTryAgainBody":"Remove the card from the back of the device for a few seconds before trying again","iosNoCaseTitle":"Remove the cover","iosNoCaseBody":"A phone cover might interfere with the signal from the card"},"emvSlideshow":{"deviceNowSupportsEmvTitle":"This device is now compatible with contactless EMV cards for making secure payments","deviceNowSupportsEmvBody":"Here is what you need to know","contactlessExplanationTitle":"To pay, hold the credit card against the device (usually the back top part of the device)","contactlessExplanationBody":"Hold the card until you hear a beep","supportsGooglePayApplePayTitle":"You can also pay with Apple Pay and Google Pay","supportsGooglePayApplePayBody":"Using a compatible device","mightRequirePinCodeTitle":"For some transactions, you may need to insert the card into the card reader and ask the customer to enter their PIN code","mightRequirePinCodeBody":"Please note! For security reasons, the position of the number pad buttons will change randomly each time","track2FallbackTitle":"If your card is not EMV compatible, you will be able to scan the magnetic stripe instead","track2FallbackBody":"Please follow the on-screen instructions","notificationTitle":"New! Contactless EMV payments","notificationBody":"Here is what you need to know"},"reservation":{"title":"Reserve contract","cantReserveContract":"Cannot reserve the selected contract.","reserveOtherContract":"Please pick a different contract.","unknownError":"Encountered an unexpected error while reserving.","tryAgain":"Please try again later, or contact support.","reserveContract":"Reserve","makeReservation":"Reserve","success":"Reservation completed successfully!","completeLoading":"To complete the loading, scan the card with this device, another supported device or at a service station","trackReservation":"Reservation details","hadFun":"Enjoying the app?","cancel":"Cancel reservation","cancelConfirm":"Are you sure you want to cancel the reservation?","cancelled":"Reservation canceled successfully","cancelError":"Encountered an unexpected error while canceling reservation.","reservedLoading":"Reserved contract","loadReservation":"Load reservation","findServiceStation":"Find service station","contractStartDate":"Contract start date","contractStartsAtLoading":"Starts when loaded","changeDate":"Change date","reservedBy":"Reserved by","cancelReservation":"Cancel reservation","contract":"Reserved contract","forRavkavCard":"Reserved for Rav-Kav card","fromOperator":"Reserved from operator","reservedAt":"Reserved at","useUntil":"Can be loaded until","loadMoreDetails":"For more details on how to load reservation","load":"Load","scan":"Scan","backToCard":"Back to card","backToProfile":"Back to profile","backToContract":"Back to contract","thanks":"Thanks for choosing","additionalReservation":"New reservation","useDateRange":"Can be loaded between","reservationCanceling":"Cancel contract reservation","reservedLoadingDetails":"Contract reservation details","reloadingStatusPristineTitle":"The contract loading hasn\'t finished yet.","reloadingStatusPristineBody":"A loading attempt was made by {{full_name}} at {{modified}}.","reloadingStatusFailedTitle":"The loading failed and the payment was cancelled.","reloadingStatusFailedBody":"A loading attempt was made by {{full_name}} at {{modified}}.","reloadingStatusSuccessTitle":"Contract loaded successfully!","reloadingStatusSuccessBody":"Contract loaded by {{reloaded_full_name}} at {{modified}}.\\nLoading confirmation was sent to {{created_full_name}}.","reloadingStatusAbortedTitle":"Contract loading started at {{modified}} and was canceled by {{full_name}}.","reloadingStatusAbortedBody":"You will not be charged.","activeStatusActiveTitle":"To complete the reservation, scan your Rav-Kav card:","activeStatusActiveList1":"At one of the services stations and ATMs spread throughout Israel.","activeStatusActiveList2:RAVKAVONLINE":"Using the Rav-Kav Online App for support Smartphones and Tablets.","activeStatusActiveList2:ALHAKAVONLINE":"Using the Al-Hakav Online App for support Smartphones and Tablets.","activeStatusActiveList3:RAVKAVONLINE":"With a card reader at the Rav-Kav Online website.","activeStatusActiveList3:ALHAKAVONLINE":"With a card reader at the Al-Hakav Online website.","activeStatusActiveAction":"Find a service station","activeStatusFutureTitle":"The contract reservation is not active yet.","activeStatusFutureBody":"You can load the contract starting at {{activeFrom}}.","activeStatusInactiveTitle":"The contract reservation canceled or expired without being loaded.","activeStatusInactiveBody":"The charge was automatically canceled.","abortErrorTitle":"An error occurred while canceling the reservation","abortErrorBody":"Please contact support.","abortedTitle":"The reservation was successfully canceled","abortedBody":"You will not be charged."},"selectUserRavkav":{"title":"Choose a Rav-Kav","subTitle":"Find the number on the bottom-right corner on the back of the Rav-Kav","newRavkav":"New card","existingRavkav":"Existing card","enterRavkavNumber":"Rav-Kav number of the card","enterRavkavNumberExplain":"The number at the back of your Rav-Kav","moreRavkavs":"Other Rav-Kav cards"},"interchangeRight":{"hourlyPass":"Right of transfer","hourlyPassExpiry":"Until {{expiry}} at {{area}}","continuationRide":"Continuing trip","continuationUntil":"Until {{expiry}}","remainingTrips":"One trip remaining","remainingTrips_plural":"{{count}} trips remaining"},"payoutMethod":{"title":"Payment methods","credit_card":"Credit card","cash":"Cash"},"cancellationRequestRavkavAnonymity":{"title":"Rav-Kav card type","anonymous":"Anonymous","semi-anonymous":"Semi-anonymous","personalized":"Personal"},"cancellationRequest":{"title":"Cancellation request","authorizingPayoutMethodTitle":"Select the credit card to refund","authorizingPayoutMethodExplanation":"To verify the detailed of the credit card to which the refund will be credited, we will run a credit limit check by charging you 1\xa0Agora","authorizingPayoutMethodFailed":"The requested operation has failed","unexpectedError":"An unexpected error occurred. Please try again","requestType":"Request type","changePayoutMethod":"Select a different payment method","payoutAmount":"Refund amount","notYetDetermined":"To be determined","abortAction":"To cancel the request","cancelRequest":"Cancel request","requestDetails":"Request details","saveForLater":"Save for later","iWantToStay":"I want to stay","missingDetails":"Please note! Some details are missing.","howToContinue":"How would you like to proceed?","abortConfirm":"This operation cannot be undone. After cancelling the request, you can create a new one. Are you sure you want to cancel the request?","ravkavOwnerDetails":"Rav-Kav cardholder\'s details","personalId":"ID number","whoToPay":"Who will receive the refund?","ravkavDocumentApproveLabel":"The photo on the back of the Rav-Kav card matches the photo in the cardholder\'s ID card.","payToRavkavOwnerWithId":"The Rav-Kav cardholder, whose ID number is:","payToSomeoneElse":"Someone else","paidToDetails":"Details of the person who will receive the refund","requestApproved":"The request has been approved","howWantGetPayout":"How would you like to receive the refund?","noPayoutMethod":"No payment methods were found. Please contact your system administrator.","toCardOfIdOwner":"To the credit card of the person whose ID number is:","updateSoftwareForCreditCard":"To issue to refund to a credit card, you must first update the software","updateSoftware":"Update software","cash":"Cash","giveCashAmountToUserAfterCancellation":"At the end of this process, please give {{amount}} in cash to the customer","giveCashAmountToUser":"Please give {{amount}} in cash to the customer","makeSureHaveCash":"The cancellation is irreversible and cannot be undone. Please check that you have enough cash for the refund.","agreeHaveEnoughCash":"I have the refund amount","cancel":"Cancel","abortedTitle":"The request was cancelled","expiredTitle":"The request has expired","iUnderstand":"I understand","retry":"You can start again by scanning your Rav-Kav card.","idNotMatchingIdOnCard":"The ID number does not match the number on the back of the Rav-Kav card","backToFixId":"Edit the ID number","validateDifferently":"Verify using a different method","pendingApprovalTitle":"Waiting for the document check to finish","pendingApprovalBody":"We are checking the documents to verify that all details are correct. We will email you when we are done.","pendingApprovalBodyPos":"Some aspects of the request require an additional approval.\\n\\nTo receive the check results and continue with the cancellation process, please scan your Rav-Kav card here or later at another chain location.","checkRequest":"Check the request status","declinedTitle":"The request has been declined","failedTitle":"The request had failed","successTitle":"Good news!","successBody":"The cancellation request was successful!","executeExecuting":"Cancelling. Please wait","executeSuccess":"The contract was cancelled successfully","executeError":"An unexpected error occurred","executeFailed":"The cancellation has failed","pendingPayoutTitle":"Refund pending","checkPayoutStatus":"Check the refund status","pendingPayoutCreditCardExplanation":"It might take several days to process the refund.","payoutFailedTitle":"The refund has failed","payoutFailedExplanation":"The refund process encountered an error. Please try again later.","getApprovalForFailed":"Print this approval and keep for future reference","willPayoutToCreditcard":"The refund will be issued to a credit card","mayTakeUpTo7Days":"Processing the payout can take up to 7 business days. If you do not see the payout by then, please contact us."},"profileLoading":{"title":"Profile loading","errorNotAllowed":"Encountered an unexpected request.","actionNotAllowed":"Please refresh the page.","errorActiveProfileLoadingForCard":"There is an active profile loading process for this Rav-Kav card.","actionActiveProfileLoadingForCard":"Scan the card again.","errorContractNoLongerValid":"Contract list was updated.","actionContractNoLongerValid":"Try again.","errorMissingPrerequisites":"Some required details are missing.","errorNotEligibleForQuickApproval":"We did\'t find any quick approval matching the details you entered, but that doesn\'t mean you\'re not eligible!","errorCannotApplyQuickApprovalToRavKavIdType":"Quick approvals are currently available only for personal Rav-Kav cards that were issued with an Israeli National ID. You can still proceed with the regular process.","errorRavkavPersonalIdDoesNotMatchPersonalId":"The personal ID you entered does not match the personal ID of the Rav-Kav card holder.","errorDocumentTagRequired":"Error uploading the file.","actionDocumentTagRequired":"Scan the card and try again.","errorDoesNotExist":"Profile loading request was not found.","actionDoesNotExist":"Scan the card and try again.","errorActiveReloadingTransaction":"There is an ongoing profile loading process for this Rav-Kav card.","actionActiveReloadingTransaction":"Please wait a while and try again. If this problem persists, contact support.","errorInvalidFileType":"Invalid file type.","actionInvalidFileType":"Can only upload files with the following file extensions:","errorInvalidFileSize":"Invalid file size.","actionInvalidFileSize":"File size must be in the range","errorInvalidFileName":"Invalid file name.","actionInvalidFileName":"File name length cannot exceed {{maxLength}} digits, and cannot contain special characters.","errorUnexpected":"Unexpected error occured.","actionUnexpected":"Please try again later.","errorCode":"Error code: {{code}}","unknownInstitution":"Unknown institution","exitMessage":"Existing will abort the profile loading request. Are you sure you want to exit?","abortMessage":"Are you sure you want to abort the profile loading request?","customerProfile":"{{id}} profile","endDateTypeFixed":"until {{date}}","endDateTypeEndOfCard":"until Rav-Card card expires","endDateTypeFarFuture":"until Rav-Card card ends","endDateTypeAge18":"until age 18","endDateTypeManual":"according to the submitted documents","addDocument":"Add document +","abortAction":"Abort request","noCardHeader":"Scan your Rav-Kav card","noCardAction":"Scan card","noCardTitle":"Why do I need to scan my card?","noCardBody":"Profile eligibility is determined according to the contents of the card.","moreQuestions":"More questions?","moreDetails":"For more details on profile loading","profileLoadingAt:RAVKAVONLINE":"Profile loading","profileLoadingAt:ALHAKAVONLINE":"Profile loading","chooseProfileLoadingType":"Choose a profile","immediateProfiles":"Immediate profile","immediateProfilesNoDocuments":"Load without waiting for the documents to be approved.","loadProfile":"Load profile","loadProfileShort":"Load","profilesForLoading":"Profiles for loading","requestProfileLoading":"Submit request for profile loading","submitRequest":"Request profile","notEligibleProfiles":"Profiles that can\'t be loaded to this Rav-Kav","notEligibleExplained":"Profile eligibility is determined by the contents of the card.","notEligibleConditions":"The following conditions are not met:","notEligibleProfileCutOffByExpiration":"The Rav-Kav card will expire before the requested profile. To load the profile, issue a new Rav-Kav card with a longer expiry.","notEligibleProfilesAlreadyExist":"The profile already exists on the card with a similar or longer validity.","notEligibleNoSpaceForProfiles":"There is no room for additional profiles on the Rav-Kav card.","inProgress":"Profile Loading in Progress","continue":"Continue","continueProfileLoading":"There is an ongoing profile loading process for this Rav-Kav card.","selectInstitution":"Select institution","selectEtt":"Select contract type","typeToFilter":"Type to filter","filteredInstitutionName":"Enter the name of your academic institution","institutionNotFound":"No matching institution","institutionNotFoundSuggestion":"Try different names and acronyms.\\nIf the institution is not on the list, it is possible that it\'s not recognized by the Ministry of Transport.","uploadDocument":"Upload documents","uploadDone":"Done","requestDetails":"Request details","termsTitle":"Loading the profile is dependent upon the passenger\'s declaration that the provided information is correct.","termsBody":"At any time, the Ministry of Transport or the Operator may examine the details of the request and the submitted documents. If it is found that the holder of the Rav-Kav card is not entitled to the profile, the Ministry of Transport or the Operator may conduct further investigation.","termsApprove":"I approve","manualEndDateForCustomerProfile":"Profile {{customerProfile}} expiration","institution":"Institution","submittedDocuments":"Submitted documents","pendingApprovalTitle":"Pending review","pendingApprovalBody":"We are going over the documents you submitted to make sure everything is in order. We\'ll send you an email when we are finished","checkRequest":"Check status","iUnderstand":"Got it","retry":"To submit another request, scan the Rav-Kav card and repeat the process.","declinedTitle":"Declined","approvedTitle":"Approved!","failedTitle":"Failed","successTitle":"Hooray!","successBody":"The profile loading completed successfully","canceledTitle":"Canceled","canceledBody":"The loaded profile and contract were successfully canceled.","abortedTitle":"Aborted","expiredTitle":"Expired","missingDetails":"Hey! Some details are missing.","howToContinue":"How would you like to continue?","saveForLater":"Save for later","cancelRequest":"Cancel request","iWantToStay":"I want to stay","checking":"Checking","uploading":"Uploading {{name}}","deleting":"Deleting","personalIdPromptTitle":"Confirm identity","personalIdPromptBody":"For identification and reporting purposes, enter the Personal ID of the card holder.","regularProfile":"Regular profile","orderRavkavTitle":"Don\'t have a Rav-Kav card?","orderRavkavBody:RAVKAVONLINE":"You can order a new card at Rav-Kav Online and get it delivered to your home.","orderRavkavBody:ALHAKAVONLINE":"You can order a new card at Al-Hakav Online and get it delivered to your home.","orderRavkavAction":"Order Rav-Kav card","contractChoose":"Contract choice","chooseContract":"Choose contract","confirmRequest":"Confirm request","loading":"Loading","personalIdLabel":"Rav-Kav card holder personal id","personalIdPlaceholder":"Personal id number","passportLabel":"Rav-Kav holder passport","passportPlaceholder":"Passport number","submitNewRequest":"Submit new request","abortConfirm":"This action is not reversible. Once this request is aborted you can create another request. Proceed?","backButtonSelectInstitution":"Change institution","backButtonApplyQuickApproval":"Apply quick approval","backButtonChooseContractGroup":"Change contract","backButtonChooseContract":"View selected contract","backButtonUpload":"Upload documents","finishAllSteps":"Please finish all the required steps.","contract":"Contract","notifyContractLoading1":"Pay attention!","notifyContractLoading2":"To load the contract and update the profile, please complete the loading","privacyTitle":"Your Privacy Matters!","privacyBody":"We delete your documents automatically after two months at most.","quickApproval":"Quick Approval","quickApprovalTitle":"Quick Approval","quickApprovalCannotApplySubtitle":"Quick approval is not available for this request","quickApprovalApplyingSubtitle":"The institution you selected supports quick approvals. To apply for a quick approval, enter the following details exactly as they appear in the instutition\'s official documents:","quickApprovalAppliedTitle":"You\'ve got a quick approval!","quickApprovalAppliedBody":"You can now proceed with the request without having to wait for approval!","quickApprovalWhatIs":"What is a quick approval?","firstNameLabel":"First name","lastNameLabel":"Last name","skipQuickApprovalCheck":"Continue without quick approval","quickApprovalPrivacyBody":"The details you submit are not stored in our systems. They are only used to check if you are eligible for a quick approval.","checkQuickApproval":"Check","promo1":"Are you currently a student?","promo2":"Load a student profile to your Rav-Kav card to get up to 50% discount in public transportation!","promoDismissed1":"OK, we won\'t show this message again for this Rav-Kav.","promoDismissed2":"You can get to profile loading through the side menu."},"document":{"personal_id":"Personal ID, passport or driver license","personal_id_body":"For a passenger who has not yet issued an identity card, attach the annex to the guardian\'s identity card","student_permit":"Proof of enrollment for the current academic year","student_id":"Proof of payment from current school year or Student ID from current or previous school year","student_id_body":"Note: Do not attach a certificate for tuition, but rather confirmation of payment of tuition fees","ravkav":"Rav-Kav card","ravkav_body":"Photo must include the picture of the passenger on the back of the card","headshot":"Head shot","headshot_body":"The image will be stamped on the back of the card","pupil_permit":"Proof of enrollment","pupil_permit_body":"Proof of enrollment for the current academic year","disability_certificate":"Disability certificate","disability_certificate_body":"A proof of eligibility from the National Insurance Institute that includes a validity date","national_insurance_certificate":"Proof of eligibility from the National Insurance Institute","national_insurance_certificate_body":"A proof of eligibility from the National Insurance Institute that includes a validity date","national_service_certificate":"National Service volunteer certificate","national_service_certificate_body":"A certificate from the Authority for National-Civic Service that includes a validity date","blindness_certificate":"Certificate of Blindness/Visual Impairment","blindness_certificate_body":"A certificate of blindness/visual impairment issued by the Ministry of Labor, Social Affairs and Social Services that includes a validity date","ministry_of_defence_approval":"Approval by the Ministry of Defence","ministry_of_defence_approval_body":"Offical approval by the Ministry of Defence clearly showing the ID number of the passenger, and the details of the desired profile.","unknown":"Other document"},"billingSummary":{"billingSummary":"Billing Summary","periodSummary":"Summary of charges and credits for charges during the period","fromDate":"From date","toDate":"To date","deviceNumber":"Device number","quickReport":"Quick report","query":"Query","queryFailed":"Query failed","tryAgain":"Please try again","forPeriod":"For period {{date}}","allDevices":"For all devices","specificDevice":"For device {{device}}","total":"Total","chargesMinusRefunds":"Charges minus refunds","charges":"Charges","actions":"Actions","refunds":"Refunds","creditcard":"Credit Card","balance":"Balance","print":"Print"},"billingSummaryError":{"no_range":"Must select a period.","invalid_range":"Date range is invalid.","too_large":"Date range is too long. Cannot filter more than three months."},"billingStatus":{"no_payment_details":"No payment details","not_charged_yet":"Not charged yet","will_not_be_charged":"Will not be charged","charged":"Charged","refunded":"Refunded"},"orderBillingStatusName":{"no_payment_details":"No payment details","not_charged_yet":"Your order was accepted successfully!","will_not_be_charged":"Your order will not be charged","charged":"Your order was charged successfully","refunded":"Your order was refunded"},"orderBillingStatusDescription":{"no_payment_details":"Payment details must be entered to complete the order.","not_charged_yet":"A charge will be made only after we complete processing your order.\\nWe will send you an email once we complete processing your order.","will_not_be_charged":"Payment process failed, canceled or the order expired.","charged":"All items in the order have been handled, and a charge was made.","refunded":"The items from the order have been refunded."},"ravkavIssueRequestState":{"created":"Created","aborted":"Aborted","expired":"Expired","pending_inspection":"Pending inspection","approved":"Approved","declined":"Declined","in_mandatory_wait":"In mandatory wait","pending_issuance":"Pending issuance","ravkav_card_issued":"Ravkav card issued","delivery_failed":"Delivery failed","defective":"Defective"},"eligibilityCondition":{"personalized":"Personal card (not anonymous)","current_student":"Currently a student","active_student":"Currently an active student","under18":"Under the age of 18","over65":"Over the age of 65","over60":"Over the age of 60","over62":"Over the age of 62","over67":"Over the age of 67","over75":"Over the age of 75","current_senior_citizen_75_plus":"Currently Senior Citizen 75+"},"eventCircumstances":{"cancelPrevalidation":"Prevalidation cancellation","prevalidation":"Prevalidation"},"transactionHistory":{"loadingsMadeOnThisDevice":"Loadings made on this device","status":"Status","purchaseApproval":"Purchase Approval","cancellationApproval":"Refund Confirmation","updateFilterRetry":"Please update the filter and try again","forCard":"Displaying loadings for Rav-Kav card {{ serial }} that were made from this account only"},"contractConfirm":{"backToSearch":"Back to search","loadInApp:RAVKAVONLINE":"Load contract in Rav-Kav Online app","loadInApp:ALHAKAVONLINE":"Load contract in Al-Hakav Online app"},"connect":{"title":"Connect to a Rav-Kav reader","pristineTitle":"Creating a secure connection","pristineBody":"To connect to the reader, approve the activation of the Rav-Kav software in the popup window.","busyTitle":"Connecting to the card reader","readerDisconnectedTitle":"Connect the card reader to the computer","readerDisconnectedList1":"Plug the card reader to a USB socket.","readerDisconnectedList2":"If the card reader is plugged into a USB socket but isn\'t recognized, try to plug it to a different USB socket.","noCardTitle":"Insert the Rav-Kav card into the card reader","noCardList1":"Insert the Rav-Kav card to the reader so that the golden chip is facing up.","noCardList2":"When the Rav-Kav card is in, the light on the card reader should light up.","noCardList3":"If you are unable to scan the card, try a different Rav-Kav card first.","networkErrorTitle":"Could not establish connection with the server","networkErrorBody":"Please check your computer\'s connection to the Internet and refresh the page.","connectionRefusedTitle":"The connection was blocked by the user\'s computer","sslTitle":"Could not establish a secure connection","sslList1:RAVKAVONLINE":"If you installed the Rav-Kav Online software a long time ago, try uninstalling it and installing the latest version.","sslList1:ALHAKAVONLINE":"If you installed the Al-Hakav Online software a long time ago, try uninstalling it and installing the latest version.","connectionRefusedList1":"If you are using a content filtering service, please check with your provider that Rav-Kav Online is not blocked.","connectionRefusedList2":"Check the firewall settings in your browser and operating system.","connectionRefusedList3":"If the problem persists please contact support with the error code","connectionRefusedList3Action":"Contact support","readErrorDefaultMessage":"Can not read from the Rav-Kav card","readErrorList1":"The Rav-Kav card must be inserted into the reader so that the golden chip is facing up.","readErrorList2:RAVKAVONLINE":"Make sure that the Rav-Kav card has a golden chip on it. If it doesn\'t, you need to either use the Rav-Kav Online app, or get a card with a golden chip from operators customer service.","readErrorList2:ALHAKAVONLINE":"Make sure that the Rav-Kav card has a golden chip on it. If it doesn\'t, you need to either use the Al-Hakav Online app, or get a card with a golden chip from operators customer service.","readErrorList2Action":"Contact operators customer service","readErrorList3":"Remove the card from the reader, wait for a message on the screen, and try again.","readErrorList4":"If the problem persists, refresh the page and try again.","userApprovalTitle":"You must approve the activation of the software in the popup window","userApprovalList1":"To connect to the reader, approve the activation of the Rav-Kav software in the popup window.","userApprovalList2":"If a popup does not appear, or if it appears without the name \\"Rav-Kav Online\\", try installing the software again.","userApprovalAction":"Install","refresh":"Refresh"},"registrationUsername":{"username":"Username","enterUsernameToReset:RAVKAVONLINE":"Enter the username you used to register to Rav-Kav Online. We will send you a link to reset the password.","enterUsernameToReset:ALHAKAVONLINE":"Enter the username you used to register to Al-Hakav Online. We will send you a link to reset the password.","verificationCodeSent":"A verification code was sent","enterCode":"Enter the verification code you received","staleTokenExplainedResetPassword":"Too much time has passed since the password reset began, or the username does not exist in the system. Please verify the username and reset the password again."},"registration":{"login":"Login","doLogin":"Login","email":"Email","password":"Password","passwordAgain":"Password (again)","nameFirst":"First name","nameLast":"Last name","firstTime":"First time?","newPassword":"New password","newPasswordAgain":"New password (again)","register":"Register","forgotPassword":"Forgot password?","registration":"Registration","rememberMe":"Remember me","invalidPassword":"The password is invalid. Please choose a different password.","invalidCaptcha":"Machine verification failed. Please try again.","alreadyExistsActive":"A user with this email already exists. Please use another email or reset your password.","actionReset":"Reset password","alreadyExistsInactive":"A user with this email address already exists. Please check your email and complete the registration.","actionActivate":"Activate user","unexpectedError":"An unexpected error occurred. Please try again.","approveTerms1":"I agree to the","approveTerms2":"Terms of Service","actionRegister":"Register","resetPassword":"Reset Password","enterEmailToReset:RAVKAVONLINE":"Enter the email address you used to register to Rav-Kav Online. We will send you a link to reset the password.","enterEmailToReset:ALHAKAVONLINE":"Enter the email address you used to register to Al-Hakav Online. We will send you a link to reset the password.","tryAgain":"Please try again","activate":"Activate user","verificationCodeSent":"A verification code was sent to email {{ email }}","verificationCheckEmail":"Check your email, and enter the code","verificationCode":"Verification code","incorrectToken":"The code is incorrect","incorrectTokenAction":"The code must be identical to the verification code sent to your email.","emailNotReceived":"Waited a few minutes but the message did not arrive?","sendAgain":"Send again","resendActivationSent":"Another activation message has been sent to {{email}}. Please make sure the address is correct.","resendActivationNotReceived":"If you already activated the user, you can login.\\nIf the message was not received after a few minutes, please contract us, please contact us.","resendActivationInvalid":"To activate the user, follow the link provided in the email, or enter the verification code immediately after registration.\\n\\nIf you already activated the user, you can login.\\n\\nIf the message was not received after a few minutes, please contact us.","staleToken":"Code expired","staleTokenExplainedRegister":"Too much time has passed since registration began. Please register again.","staleTokenExplainedResetPassword":"Too much time has passed since the password reset began, or the email does not exist in the system. Please verify the email and reset the password again.","outOfAttemptsToken":"Too many incorrect attempts.","outOfAttemptsTokenExplained":"For your security, you need to wait {{minutes}} minutes before you can try again.","resend":"Send again","activating":"Activating","resending":"Sending another message to activate user","userActivated":"User activated!","continueToBrand:RAVKAVONLINE":"To Rav-Kav Online","continueToBrand:ALHAKAVONLINE":"To Al-Hakav Online","contact":"Contact us","resetActivationNotReceived":"To reset the password, follow the link provided in the email, or enter the verification code immediately after registration.\\n\\nIf you already activated the user, you can login.\\nIf you have not received your verification code in a few minutes, please contact us.","resetting":"Resetting password","resetPasswordSuccess":"Password successfully reset!"},"svc":{"title":"Convert stored value","nocard":"Scan your Rav-Kav card","nocardAction":"Scan card","notEligible":"No stored value to convert","notEligibleAction":"Back","eligible":"Found stored value to convert","eligibleAction":"Convert","converts":"Converts","h1":"Which stored value is converted?","h11":"Stored value for an inactive profile","p11":"When there is stored value associated with a profile that is no longer active, it is converted to an active profile.","h12":"Stored value for an inferior profile","p12":"When there is stored value associated with a profile that grants a lower discount rate than the \\"best\\" profile on the card, it is converted to the better profile.","questions":"More questions?","moreDetails":"Additional information about stored value conversion","inaccessible":"Inaccessible","explainedTitle":"Plan","convert":"Convert","convertStoredValue":"Convert stored value","executing":"Hold it","notConverted":"Did not convert","convertedSuccess":"Converted successfully","confirmationSent":"A confirmation was sent to your email","scanToView":"Scan the card to see the up-to-date contents","thanks":"Thanks for choosing","rateUs":"Enjoying the app?","errorNoSvc":"No stored value found for conversion on the Rav-Kav card","errorNoContractTitle":"No suitable contract found for conversion","errorNoContractBody":"Please contact your system administrator"},"svcExplained":{"inaccessible":"Inaccessible stored value of {{before}} for the inactive profile \\"{{from}}\\" will be converted to {{after}} for the active profile \\"{{to}}\\".","accessibleSame":"There is {{before}} stored value for profile \\"{{profile}}\\" to which the converted stored value from the other profiles will be added.","accessibleDifferent":"A {{before}} stored value for profile \\"{{from}}\\" will be converted to {{after}} stored value for the better profile \\"{{to}}\\".","after":"After the operation, the stored value on the card will be {{after}} for the profile \\"{{to}}\\"."},"cve":{"title":"Extend card validity","canExtend":"Card validity can be extended","canExtendAction":"Extend card validity","extendExplained":"The Rav-Kav will expire at {{endDate}}.\\nYou can extend the card validity until {{newEndDate }}.","nocard":"Scan your Rav-Kav card","nocardAction":"Scan card","cannotExtend":"Cannot extend card validity","cannotExtendCardExpiredExplained":"The Rav-Kav expired at {{endDate}}.\\nThe card validity can no longer be extended.","cannotExtendCardNotExpiredExplained":"The Rav-Kav is active until {{endDate}}.\\nThe card validity can not be extended yet.\\nPlease check again closer to the card\'s expiration.","moreDetails":"For more information about extending validity","executing":"Hold it","notExtended":"The card validity was not extended","extendedSuccess":"Extended successfully","scanToView":"Scan the card to see the up-to-date contents","confirmationSent":"A confirmation was sent to your email","thanks":"Thanks for choosing","rateUs":"Enjoying the app?"},"contractGroupDetails":{"flexibleStoredValueTitle":"Stored value amount","chooseFlexibleStoredValue":"Choose amount of stored value to load","chooseStartingDate":"Select the start date for the contract","chooseOperator":"Select an operator closest to your place of residence","nonRoundedPrice":"Non-rounded price","contractNotRespectedInArea":"This contract is not valid in this area. Please make sure to load the correct contract.","contractNotRespectedInAreaWithCity":"This contract is not valid in \\"{{city}}\\". Please ensure you are loading the correct contract.","paymentConditions":"Payment conditions","installmentsExplanation":"Up to {{maxPayments}} installments"},"cause":{"10Title":"The card is full","11Title":"The Rav-Kav card has expired","11Body":"Issue a new Rav-Kav card","12Title":"There is a better contract for the profile","12Body":"There is a better contract the profile {{id}}. Please select this contract and try again.","13Title":"The contract does not match any profile on the Rav-Kav","14Title":"You have reached the limit for stored value in a single Rav-Kav card","15Title":"The contract is invalid","15Body":"Please contact support","16Title":"The Rav-Kav card is invalid","17Title":"An overlapping contract was found on the Rav-Kav","17Body":"View card contents","18Title":"The profile is invalid","18Body":"Please contact support","103Title":"This Rav-Kav card is not supported","103Body":"Please contact support","104Title":"Unsupported contract","104Body":"There is an unsupported contract on the card.","105Title":"The validity of the contract is longer than that of the Rav-Kav card or the profile","105Body":"Issue a new Rav-Kav card with longer validity, or renew the profile.","30Title":"The Rav-Kav card you scanned is not the Rav-Kav card that\'s expected","31Title":"An attribute of the Rav-Kav card is not as expected","31Body":"Make sure that the details you entered match the Rav-Kav card.","32Title":"An attribute of the Rav-Kav card is not as expected","32Body":"The operation requires an anonymous card but the card is personal, or vice versa. Please select the correct type.","41Title":"The connection was abruptly disconnected","43Title":"There is an ongoing process for this Rav-Kav card","43Body":"Wait a few minutes and try again","44Title":"The request expired","44Body":"Please try again","40Title":"Not a Rav-Kav card","40Body":"Make sure the card you scanned is a Rav-Kav card.","50Title":"The service is temporarily unavailable","50Body":"Please try again later","102Title":"The Rav-Kav card is not initialized","102Body":"Initialize the card at a service station","107Title":"The operation requires too many modifications to the Rav-Kav card","107Body":"If the problem repeats, contact support.","108Title":"The profile already exists on the card with a similar or longer validity.","609Title":"The contract you are trying to cancel has changed since the request was opened.","609Body":"Please abort the request and try again with a new one.","610Title":"The contract you are trying to cancel has changed since the request was opened.","610Body":"Please abort the request and try again with a new one.","611Title":"The contract you are trying to cancel has changed since the request was opened.","611Body":"Please abort the request and try again with a new one.","612Title":"The contract you are trying to cancel has changed since the request was opened.","612Body":"Please abort the request and try again with a new one.","100Title":"Can\'t load more than two special profiles onto a Rav-Kav card","101Title":"The requested profile could not be loaded","101Body":"You are not eligible to this profile","106Title":"The profile will be longer than the Rav-Kav card\'s validity","106Body":"Issue a new Rav-Kav card with a longer validity","110Title":"The loaded profile would already be expired","110Body":"The profile {{profile}} would have ended at {{endDate}}","111Title":"The Rav-Card is blocked","111Body":"The card cannot be used","112Title":"The Rav-Card is blocked","112Body":"The card cannot be used","20Title":"Cannot cancel the contract","20Body":"The preconditions for canceling the contract are not met","22Title":"Cannot cancel the contract","22Body":"The contract has already been used","23Title":"Cannot cancel the profile","23Body":"The profile has already been used","800Title":"Cannot convert stored value","800Body":"There is nothing to convert","801Title":"Cannot convert stored value","801Body":"There is a better profile to convert the stored value to than the selected profile","850Title":"Cannot extend card validity","850Body":"Card validity cannot be extended yet","851Title":"Cannot extend card validity","851Body":"Card expired too long ago","1011Title":"Could not establish connection with the server","1011Body":"Check your computer\'s internet connection, the firewall settings, or the content blocking service settings, and refresh the page.","1012Title":"The connection was blocked by the user\'s device","1012Body":"Please check the firewall settings or the content blocking service settings and refresh the page.","1013Title":"The connection was abruptly disconnected","1013Body":"Please check your computer\'s internet connection.","1014Title":"The software version is too old","1014Body":"Please update the software and try again.","1070Title":"The connection got disconnected","1070Body":"Please check your internet connection.","1071Title":"Could not establish connection with the server","1071Body":"Check the network connection, the firewall settings, or the content blocking settings, and try again.","71Title":"Could not establish connection with card","71Body":"Please update the software version if needed and try again.","70Title":"You moved the card too fast","1080Title":"Too much time has passed","default":"The operation failed"},"cancelLoad":{"title":"Cancel loading","subtitle":"The cancellation will undo the contract loading and refund your payment method","action":"Cancel loading","requesting":"Requesting to cancel loading","chargeIncompleteTitle":"The billing process has not yet been completed","chargeIncompleteBody":"Cannot refund until the billing process is completed","pastPeriodLimitTitle":"Cannot cancel loading","pastPeriodLimitBody":"The time period in which cancellation was possible elapsed","transactionAlreadyCompletedTitle":"The contract loading was already canceled","transactionAlreadyCompletedBody":"Contact support for more details","readyTitle":"Hold the card to the back of the device","readyBody":"and wait for the cancellation to complete","executing":"Canceling, hold it","cancelFailed":"Loading cancellation failed","noRefund":"No refund will be made","error":"Failed to complete the operation","success":"The cancellation completed successfully!"},"announcements":{"title":"What\'s new","noNew":"No news"},"ettChoice":{"storedValue":"Stored value","monthly":"Monthly","daily":"Daily","train":"Train","singleRide":"Single ride","semesterB":"1st Semester","semesterA":"2st Semester","yearly":"Annual","others":"Others","freeCertificate":"Free certificate"},"push":{"defaultChannelDesc":"General","remindersChannelDesc":"Reminders"},"posSettings":{"enterPassword":"Enter password","user":"User","userName":"User name","name":"Name","email":"Email","phoneNumber":"Cellphone number","options":"Options","active":"Active","inactive":"Inactive","cardValidityExtension":"Extension Rav-Kav card validity","forPaymentWithCash":"For payment in cash","paymentWithEmv":"Payment with EMV","lowBalanceNotification":"Low balance notification","balanceLowerThan":"When a balance is lower than {{balance}}","notDefined":"Not set","enterLowBalanceMessage":"Enter the balance that will trigger the low balance alert. Leave blank to cancel alert.","serviceStation":"Service station","changeServiceStation":"hange service station","reformArea":"Reform area","area":"Area {{ code }}","moreDetails":"Additional information","reports":"Reports","settings":"Settings","exitMessage":"Exit message","enterExitMessage":"Insert an exit message or leave blank to remove","automaticShutdown":"Automatic shutdown","seconds":"Seconds","insertSeconds":"Enter the number of seconds after which the app will shut down","paymentPage":"Payment page","track2OrEmv":"Magnetic card reader/EMV","insertDetails":"Insert details","userChoice":"User choice","default":"Default","languageChange":"Language change","allowUserLanguageChange":"Allow the user to change the language","preferredLanguage":"Preferred language","allow":"Allow","dontAllow":"Don\'t allow","printer":"Printer","printerType":"Printer type","printerMode":"Printer mode","test":"Test","workingProperly":"Working properly","notWorking":"Not working properly","missingPaper":"Missing paper","heatsUp":"Heats up","unknown":"Unknown","printMode":"Print mode","printConfirmation":"Print confirmation upon completion of operation","printAutomatically":"Print automatically","printOnDemand":"Print on demand","printDisabled":"Print disabled","missingPrinter":"This device does not have a printer","displayConfirmationCode":"View purchase confirmation code","displayQRCode":"Show QR code at the end of an operation","showWithLink":"Show with link","display":"Display","doNotDisplay":"Don\'t display","software":"Software","softwareVersion":"Software version","forceUpdate":"Force update","appVersion":"App version","device":"Device","model":"Model","serial":"Serial number","sendDeviceDetails":"Send device details","guidedBySupportOnly":"Guided by support only","detailsSent":"Details sent","createServiceStationFailed":"Failed to create service station. Please contact support.","createServiceStation":"Create {{ remoteId }}","environmentalNote":"In order to reduce the use of consumables, the purchase confirmation will no longer be printed automatically at the end of each operation.\\n\\n To print the confirmation at the end of an operation, click the print button on the page.\\n\\n You can change this setting in the device settings.","showAnnouncements":"Show news","allowUploadingFilesFromFileSystem":"Allow uploading file from file system"},"posCardOperationApproval":{"actionNotApprovedYet":"Confirmation has not yet been received","print":"Print","printing":"Printing","printCopy":"Print copy","printFailed":"Print failed, please try again","scanQr":"Scan for confirmation and additional information","viewApproval":"View approval"},"posConfirm":{"noMatchingContract":"No matching contract found","anotherContract":"Choose another contract"}}},"ru":{"translation":{"language":"","error":"","brand:RAVKAVONLINE":"- ","brand:ALHAKAVONLINE":"- ","scanCard":" ","ravkavScanning":" -","contract":"","contracts":"","loadProfiles":" ","continuationRides":" ","reserveLoading":" ","issueRavKav":" -","cancelLoading":" ","mainMenu":" ","openMainMenu":"  ","about":" ","next":"","skip":"","continue":"","open":"","oops":"!","enter":"","exit":"","noMatchingContracts":"   ","startingAt":" ","cardContents":" ","editRavKav":"","ravKav":"-","back":"","search":"","menu":"","anonymous":"","until":"","cardExpiredAt":"  ","events":"","contractNotSoldNow":"    ","noContracts":"   ","noEvents":"    ","renewContract":"","similarContract":"  ","renewContractAtPrice":"\\n {{price}}","renewContractStartingAtPrice":"\\n {{price}}","loadAContract":"  ","loadAnotherContract":"  ","loadContractNotOnCard":"  ,    ","inactiveContracts":" ","activeContracts":" ","fromStation":" ","toStation":" ","date":"","fromDate":" ","toDate":" ","ravKavName":" -","ravKavNumber":" -","billingStatusName":" ","operator":"","metropolin":"","metropolinX":" {{ metropolin }}","nfcInactive":"NFC ","pressToScan":"  ","toScan":".","nfcActivate":" NFC","nfcNotFound":" NFC    ","nfcItIsRequired":"     ","nfcOtherServices":"  NFC","pressCardBackOfDevice":"     ","pressCardTopOfDevice":"       ","readingCardDontMove":" ,   ","readCardSuccess":"  ","pressCardBackOfDeviceTillFinished":"        ","tryAgain":"  ","predefinedContract":" ","purchasedAt":"  ","profile":"","profiles":"","lineNumber":"","numPassengers":"","debitAmount":" ","station":"","atDate":" ","loadInWebsite":"     -","customerServiceAndSupport":"    ","copyright":"       2015-{{currentYear}} \xa9","loadingHistory":" ","loadingHistoryCard":"   ","hiddenCard":" ","hiddenCardExplanation":"    ","filter":"","filterClear":" ","filterWithout":" ","freeText":" ","resultsNotFound":"  ","resultsNotFoundFilter":"  ,   ","fetchFailed":"   ","tryAgainRefresh":"     ","loadMore":" ","ravKavCard":" -","ravKavCards":" -","ravKavCardNumber":" - ","cardName":" ","unnamed":" ","changeName":" ","lastUseAtBrand:RAVKAVONLINE":"  - ","lastUseAtBrand:ALHAKAVONLINE":"  - ","reminder":"","validityReminderExplanation":"   ","reserveLoadingToCard":"  ","reserveLoadingToCardExplanation":"       ","noRavKavCards":"  -","ravKavCardHowToSave:RAVKAVONLINE":"      - ","ravKavCardHowToSave:ALHAKAVONLINE":"      - ","lastUpdatedAt":"  {{date}}","paymentMeans":" ","support":"","logout":"","logoutVerify":"  ?","yes":"","no":"","enterNewCardName":"   ","cancel":"","update":"","help":"","unknown":"","openMenu":" ","advancedFilter":" ","closeAdvancedFilter":"  ","toEdit":"","toView":"","picture":"","searching":"","additionalActions":" ","actionFailed":"  ","recentlySelected":" ","payAttention":"","downloadForAndroid":"   Android","downloadForIPhone":"   IPhone","balance":"","uninitializedRavkavCard":{"didntFindActionsForCard":"      -"},"mobileSidebar":{"scan":" ","allActionsAndServices":"   ","youMayBeInterested":",  ","ravkavIssuanceTitle":" -","plt":" ","svc":" ","orderRavkavBanner1:RAVKAVONLINE":"  -","orderRavkavBanner1:ALHAKAVONLINE":"  -","orderRavkavBanner2":"   - >>","goldenRavkavAlt":"  -","pltZahav1":" 75+","pltZahav2":"  75 >>","studentProfileBanner1":"  ","studentProfileBanner2":"   !"},"cardLoader":{"issuing":"  \\n","unavailableTitle":"   ","unavailableBody":"   ","conflictTitle":"    ","conflictBody":"     ","unexpectedTitle":" ","unexpectedBody":"   ","ready":"         ","waitOperationComplete":"   "},"cardContracts":{"arrow":"","moreInfo":" ","lastUses":"  ","pressMoreInfo":"      ","loadedAt":" ","type":"","purchasedFromOperator":"  ","contractStatus":" ","contractRenewal":" ","canRenew":"  ","noActiveContracts":"   ","noInactiveContracts":"   ","travelAreas":" ","cancelContract":" ","contractCannotBeCanceled":"   ","toCancel":"","issueCancellationRequest":" ","loginToCheck":"     -,  ,    ","entitledCancellationRequestForContract":"   ","entitledToCancelContract":"      "},"cardEvents":{"passengers":"{{count}} ","passengers_0":" "},"usableStatuses":{"usable":"  ","out_of_value":" ","no_longer_valid":"  ","no_yet_valid":"    ","erased":"    ","card_inactive":"   -","customer_profile_inactive":"     \\"{{profile}}\\"","noRides":"  "},"languagePicker":{"chooseLanguage":" "},"login":{"invalidDeviceTitle":" ","invalidDeviceBody:RAVKAVONLINE":"  -           .          ","invalidDeviceBody:ALHAKAVONLINE":"  -           .          ","verificationCodeSent":"   ,           . \\n         .","codeExpired":"    ","tooMuchTimePassedReLogin":"         , ,    .","incorrectVerificationCode":" ,   ","tooManyAttempts":"   ","waitFewMinutes":"      {{minutes}} ,      .","codeNotSent":"        ?","resend":"  ","codeResent":"     ,         ,   ."},"settings":{"confirmLogoutToChangeServiceStation":"       .   ?"},"initServiceStation":{"fetchingTitle":"   ","fetchingBody":"","fetchFailedTitle":"     ","fetchFailedAction":"  ","notAPosOperatorTitle:RAVKAVONLINE":"      ,  - ","notAPosOperatorTitle:ALHAKAVONLINE":"      ,  - ","notAPosOperatorBody:RAVKAVONLINE":"     -    Android  IPhone     - .","notAPosOperatorBody:ALHAKAVONLINE":"     -    Android  IPhone     - .","notAPosOperatorAction":" ","noServiceStationsTitle":"   ","noServiceStationsBody":"           .        .","switchingTitle":"   ","switchingBody":",            :","switchingAction:RAVKAVONLINE":"   - ","switchingAction:ALHAKAVONLINE":"   - ","suggestingTitle":"  ","suggestingBody1":"   :","suggestingBody2":"  ?","suggestingAction:RAVKAVONLINE":",    - ","suggestingAction:ALHAKAVONLINE":",    - ","suggestingSecondaryAction":",   ","creatingFromRemoteIdTitle":"     {{remoteId}}","createFromRemoteIdFailedTitle":"   ","createFromRemoteIdFailedBody":"   .","showingCurrentServiceStationTitle":"     {{serviceStationName}}","showingCurrentServiceStationBody":"         ","createdFromRemoteIdTitle":"      {{remoteId}}","continue":"","selectServiceStation":"  :","typeToFilter":"  ","resultsNotFound":"  ","changeUser":"    ","exit":""},"scan":{"removeCard":"        ","tryAgain":"    {{seconds}} "},"paymentMethod":{"null":"","balance":"","creditcard":" ","creditcardShort":"","cash":""},"itemSelector":{"typeToFilter":"  ","resultsNotFound":"  "},"personalArea":{"title":" ","personalDetails":" ","fullName":"","email":" ","joinedAt":"  {{date}}","joinAtDate":" ","security":""},"cardContent":{"ravkavDetails":" -","ravkavContents":" -","expirationDate":"   -","ravkavExpired":"   -","editAction":"","profile":" {{profile}}"},"contractCounter":{"rides":"{{count}} ","rides_0":" ","days":"{{count}} ","days_0":" ","days_1":" ","monthlyFlexible":" ","storedValueFlexible":"","storedValueFixed":"  {{amount}}","unknownContract":" ","unlimited":""},"paymentDetailsNotEntered":"   ","created":"","loadingDetails":" ","reservationApproval":" ","purchaseApproval":" ","cancellationApproval":" ","deleteCreditCardSure":" ,       ,   {{lastDigits}}?","deleteCreditCardTitle":"  ","noSavedCreditCards":"   ","howToSaveCreditCard":"    ,   \\"    \\"   .","lastChargedAt":"   {{date}}","expiredAt":"    {{date}}","delete":"","eventDescription":"{{event}}, {{eventTransportMean}}","ravkavOnlineEventDescription":"{{event}}, - ","organizationsErrors":{"unknown":"  ,   ","unavailable":"  ,   ","not_found":"  ,   ","bad_request":"  ,   ","organization_misconfigured":"   ","no_remaining_allowance":" ,  ","unexpected":"  "},"enrollmentRequest":{"title":"  ","requestedExplanation":"{{organization}}      -  .","continue":"","tryAgainInFewMinutes":"   .  ,     .","enrolledExplanation":",     ","failedExplanation":"     .     ,   ,    .","canceledExplanation":"  .","successTitle":" !","successDescription":"  ","successBannerTitle":" ?","successActionLabel":" ,         ","executing":" ,   ","success":"  ","error":"  ","failed":"    "},"localAccount":{"preferredLanguage":null,"passengerIdType":null,"remoteAccountOpening":null,"continue":null,"accountDetails":null,"update":null,"updatedSucceeded":null,"remoteAccount":null,"openOrUpdateRemoteAccount":null,"unavailable":null,"missingPrerequisites":null,"missingPrerequisitesLocation":null,"missingPrerequisitesPersonalized":null,"notOpenedYet":null,"foundShamashEnrollmentInProgress":null,"completeProgress":null,"openAccount":null},"localAccountEnrollment":{"title":null,"executing":null,"success":null,"error":null,"problemWithOpeningLocalAccount":null,"failed":null,"continue":null,"tryAgainInFewMinutes":null,"enrolledExplanation":null},"shamashErrors":{"unknown":null,"unavailable":null,"not_found":null,"bad_request":null,"location_required":null,"passenger_hash_incompatible":null,"unexpected":null},"membershipPage":{"title":"  ","reload":"","failedToFetchContract":"    ,     .","devNotifiedTryLater":"          .     .","timelineInactiveMembership":"    .     .","timelineGotAllowance":"  {{allowance}}.","timelineCanLoadContract":"   {{contractName}}","timelineCanLoadStoredValueWithoutDiscount":"      {{price}}.","timelineCanLoadStoredValueWithDiscount":"      {{price}} ( -       {{counterValue}}   {{profile}}).","timelineCantLoadContract":"       {{contractName}}.","timelineWillHaveLeft":"   {{remainingAllowance}},      .","timelineHaveLeft":"   {{remainingAllowance}},      .","timelineAllowanceWillBeRenewed":"  ."},"blacklist":{"title":null,"cardInBlacklist":null,"invalidateCard":null,"invalidatedSuccessfully":null,"executing":null,"wasntInvalidated":null,"success":null},"allowanceAvailabilityCannotClaimReason":{"membershipNotActiveYet":"      .       {{date}}.","membershipInactive":"    .    .","insufficientAllowanceForContract":"         .    .","maxedStoredValueCap":"   -     {{currentStoredValue}},       {{cap}}.          -.","exceededStoredValueLimitOnCard":"       -.         -.","noRemainingAllowance1":"   ,      .","noRemainingAllowance2":"   {{date}}.","overlappingExistingContract":"    ,   -.            .","noMatchingContractToClaim":"     .    .","noMatchingContractForAnonymousCard":",    ,        -."},"cardNotification":{"cancellableTransaction":" {{ett}}   {{timestamp}}.","cancellableProfile":"  {{profile}}   {{timestamp}}.","cancelLoading":" ","moreInfo":" ","canLoadProfileImmediately":"       :","thanksNotInterested":",   ","loadAProfile":" ","existingProfileLoadingFound":"     -,  {{dateTime}}.","continueProfileLoading":"  ","reservedTransaction":" {{contract}}     {{by}} {{at}}.","loadTheContract":"  ","unusableStoredValueFound":"      ,      {{profile}} (  ).","convertibleStoredValueFound":"     ,       {{profile}} (  ).","convertAStoredValue":"  ","cardValidityExtension":"-   {{endDate}}.     -  {{until}} (  ).","extendCardValidity":"   -","fulfillCompensation":"  ","gotAllowance":"        {{remainingAllowance}}  {{organization}}.","gotAllowanceRedacted":"       {{organization}}.","load":" ","invitationFromOrganization":"     -   {{organization}}.","joinOrganization":"","entitledCancellationRequestForContractOnCard":"         ,   -.","entitledCancellationRequest":"         .","issueCancellationRequest":"    ","existingCancellationRequestFound":"      -,    {{createdAt}}.","continueCancellationRequest":"  "},"vatStatus":{"name":" ","included":"  ","exempt":"  "},"modeOfTransport":{"titlePlural":" ","rail":"","bus":"","light_rail":"","cable_car":" "},"distanceRange":{"name":" ","15km":" 15 ","40km":" 40 ","75km":" 75 ","120km":" 120 ","225km":" 225 ","unlimited":" "},"enterCreditCard":"   ","securePayment":" ","note!":"!","onlyFewHoursRemaining":"     .      .","contractOverlapsWithExisting":"    ,   .    {{count}} .      .","contractOverlapsWithExisting_0":"    ,   .    -  .      .","viewContract":"  ","contractStartDate":"  ","fromLoadingDate":"  ","changeDate":" ","numMinutes":"{{ count }} ","numMinutes_0":" ","contractComments":"  ","acceptedByOperators":" ","fareCodes":" ","fareCodeRoutesSystem":"  {{routesSystem}}   {{fareCode}}","changeOperator":" ","chooseOperator":" ","chooseOperatorSubTitle":"    .        .","contractDetails":" ","cantBeCompleted":"  ","tryAgainLater":"   ","purchase":"","pay":"","get":"","minMaxPrice":"   {{minPrice}}  {{maxPrice}}","cantLoadMoreStoredValue":"       ","refundedAmount":" ","estimatedBalanceAfter":"   ","pleaseWait":"","send":"","newCreditCard":"  ","savedCreditCard":"  ","enterPersonalId":"       ,  ","personalId":" ","installments":"","chooseAnotherCreditCard":"  ","chooseCreditCredit":"  ","paymentFailed":" ","notCharged":"   ","errorThatWasReceived":"   ","searchingSavedCreditCards":"    ","connectingSecure":"  ","loadingPaymentPage":"  ","paymentCancelled":" ","systemMessagesReset":"  ","systemMessagesResetExplanation":"    ,   . .","messagesWillReappear":"     .","ok":"","select":"","softwareVersion":" ","appVersion":" ","brandWebsite:RAVKAVONLINE":" - ","brandWebsite:ALHAKAVONLINE":" - ","faq":"  ","contact":"  ","notifications":"","getUpdates":"   ","getUpdatesExplanation:RAVKAVONLINE":"   ,     - .","getUpdatesExplanation:ALHAKAVONLINE":"   ,     - .","reset":"","cardHolderPersonalId":"    -","cardHolderPassport":"    -","didYouMean":"   ","additionalAreas":" ","chooseProfile":" ","profileMustBeOnCard":"    ","anonymousCard":" ","chooseFlexibleStart":"    ","chooseFlexibleStartSubTitle":"     .","km":"{{ km }} ","app":{"failedToInitPage":"   .","notifiedAndWillHandle":"          ."},"welcome":{"ravkav":"-","actions":"","trainTitle":" ","trainBody":" / ","loadContractTitle":" -","loadContractBody":"   ","cardContentsTitle":"  ","cardContentsBody":"     ","loadProfileTitle":" ","loadProfileBody":"   ","convertStoredValueTitle":" ","convertStoredValueBody":"    ","extendCardValidityTitle":"   ","extendCardValidityBody":"     ","noNfcTitle":" NFC    ","noNfcBody":"     ","noNfcAction":"  NFC","services":"","findServiceStationTitle":"  ","findServiceStationBody":"   ","reservationTitle":" ","reservationBody":"      ","orderRavKavTitle":" -","orderRavKavBody":"      ","information":"","personalAreaTitle":" ","personalAreaBody":" ,   .","contractSearchTitle":"","contractSearchBody:RAVKAVONLINE":" ,   - ","contractSearchBody:ALHAKAVONLINE":" ,   - ","reformSearchTitle":"   ","reformSearchBody":"    ","aboutTitle":" ","aboutBody:RAVKAVONLINE":"  - ","aboutBody:ALHAKAVONLINE":"  - ","howWouldYouLike":"    -?","appTitle":" ","appBody":" ,  NFC","appAction":" ","serviceStationTitle":"  ","serviceStationBody":"  ,   ","serviceStationAction":"  ","pcTitle":" ","pcBody":"  \\n","pcAction":"   "},"contractLoadSuccess":{"title":"-  ","purchaseConfirmationSent":"     ","viewPurchaseConfirmation":"  ","scanAgain":" -    ","thanks":"  ","hadFun":" ?"},"userBalance":{"credit":"","inProgressTitle":" ","inProgressBody":",      ","availableCreditTitle":",   ","creditDisabled":" .\\n     ."},"messages":{"required":" ","email":"   ","number":"     ","minlength":"  ","maxlength":"  ","arrayMinlength":"  ","arrayMaxlength":"   ","equalto":"  ","mustAccept":" ","login_unknown_error":"    .    .","invalid_credentials":"    / ","inactive_user":" .        .","invalid_software":" .    .","restricted_software":"    .    .","invalid_device":"    .        .","israeliPersonalId":"  ","pattern":"  ","invalid":" ","recaptcha":" ","ravkavHolderName":"   ,    -       "},"messagesUsername":{"username":"  ","invalid_credentials":"   / "},"changePassword":{"title":" ","devicesWillDisconnect":"    ","current":" ","new":" ","newAgain":"  ( )","invalidPassword":" .   .","incorrectPassword":"  .   .","unexpectedError":" .   .","submit":" ","successTitle":"","successBody":" ","successMessage":"  !"},"updatePersonalDetails":{"title":"  ","updateDetails":" ","nameFirst":"","nameLast":"","unexpectedError":" .   ."},"versionUnsupported":{"title":"  ","update":" ","continue":"  ","message:RAVKAVONLINE":"     ( {{version}}),    . ,     .\\n\\n      - .","message:ALHAKAVONLINE":"     ( {{version}}),    . ,     .\\n\\n      - ."},"reload":{"title":"","initiating":"  ","executing":" ,   ","inactiveTitle":"  ","inactiveBody":"   ","smsQuestion":"      ?","smsAnswer":"  !","smsMoreInfo":" ","notLoaded":"  ","notCharged":"   ","success":"  ","ready":"        ","balanceBelow":"   {{balance}}","loadingNewRequest":"  ","personalIdRequired":"       ","actionAlreadyUsed":"    ","notCompletedTitle":"   ","notCompletedBody":"  -         .\\n\\n   ?","notCompletedAbortReloading":",   ","notCompletedBackToReloading":",    ","reloadingAbortedBody1":" ,    !","reloadingAbortedBody2":"    ,      ,    .   ,    .\\n\\n           .  !         -    .","reloadingAbortedOk":"","almostDoneTitle":"  ","almostDoneBody":"   -,         ","almostDoneContinue":"!  ","scanRavKavCard":"  -"},"cancelReloadSuccess":{"title":"  ","body":"      ","scan":" -    ","thanks":"  ","rateUsMessage":" ?"},"units":{"M_0":"{{count}} ","M":"{{count}} ","KM":"{{count}} "},"days":{"1":"","2":"","3":"","4":"","5":"","6":"","7":""},"times":{"lastMonth":" ","lastWeek":" ","yesterday":"","today":"","tomorrow":"","dayAfterTomorrow":"","thisWeek":"  ","thisMonth":"  "},"creditCard":{"endsWith":"  ,    {{lastDigits}}"},"rateUs":{"title":"    !","action":""},"searchContracts":{"title":"  ","filterEtt":" ","notAnonymous":" ","storedValueForProfile":"  {{profile}}","forProfile":"  {{profile}}","resultsCount_0":"  ","resultsCount":" {{count}} ","resultsAnonymous":"   -","resultsForProfile":" ","train":" ","searchFailed":"  ","notPermittedForAnonymous":"    -","partialSearchClearing":"         ","recentSearches":" ","willDisplayRecentSearches":"     ","unexpectedError":" ","selectEttChoice":"   ,      ","howSearchWorks":"   ?","howSearchWorksItem1":"        .  : ,  2,   , .","howSearchWorksItem2":"     ,        ( 15 ).          .","howSearchWorksItem3":"     ,           .  :             .","howSearchWorksItem4":"      ,             .","howSearchWorksItem5":"   -     ,     ."},"searchContractsTextSearch":{"searchSettlements":" , -, ","addMore":"","search":" {{term}}"},"trainTariffPicker":{"origin":" ","destination":" ","selectStations":"      ","fetchFailed":" ","perRide":"{{saving}}  ","profile":" {{profile}}","select":"","lastRoutes":" "},"newAddressForm":{"address":"","name":"","nameComment":"    ","city":"","street":"","houseNumber":" ","entrance":"","zip":"","apartment":" ","poBox":". .","apartmentComment":"0   ","comments":"","save":"","autoComplete":"    ","searchAddress":" ","fillAddressManually":" ?  "},"order":{"purchasableAlreadyInOrderTitle":"         ","purchasableAlreadyInOrderBody":"     .","multipleShipmentsTitle":"  ","shipmentRequiredTitle":"   ","nothingToShipTitle":"    ","unexpectedError":" .","listTitle":"","myOrders":" ","notFound":"  ","itemsCount_0":" ","itemsCount":"{{count}} ","createdAt":" : {{date}}","detailsTitle":" ","backToList":" ","pay":"","status":" ","paymentMethod":" ","total":"  ","cancelTitle":" ","cancelBody":"         .","cancelAction":" ","orderNotFound":"  ","makeSureTheRightAccount":",     ,  ","confirmCancellation":" ,    ?","checkoutTitle":" ","continue":"","incompleteNotificationTitle":" {{count}}  ","incompleteNotificationAction":"  ","itemsNotFound":"  .","itemsTitle":"  ","itemsBody":"         :","shipmentTitle":"","shipmentBody":"      .","shipmentType":" ","address":"","shipmentAddress":"  ","newAddress":"  "},"reformSearch":{"chooseMetropolin":" ","showTrain":" / ","chooseContractType":"  ","chooseContract":" ","noSelectionTitle":"    ","noSelectionBody":"      ","noResultsTitle":"  ","noResultsBody":"   ,   ","predefinedContract":" ","showSeniorPrice":"     -50%","clear":""},"serviceStations":{"title":" ","found_0":"  ","found":" {{count}}  ","notFound":"     ","notFoundDontWorry":"  ?  !","notFoundAskFriend":"       ","notFoundClickMap":"       .","moreInfo":" ","openingHours":" ","navigateToServiceStation":"   ","goToServiceStation":" ","usingNavApp":"   ","advancedSearch":" ","address":"","typeToSearch":"  ","servicesAtStation":"  ","pristineBody":"      ,  Casponet  \\" -\\" .","reservationAction":"    ","operatingCompany":":","comments":"","activityHours":" ","attributes":"","back":"  ","foundHeader_0":"  ","foundHeader":" {{count}} ","actions":"","noLocation":"  ","loadingMap":" ","mapUnsupported":"     ","mapFailed":"    .\\n   ."},"serviceStationAttribute":{"accepts_cash":" ","accepts_credit_card":"  ","manned":"  ","ravkav_services":" -","reload_reservation":"  ","sells_ravkav_reader":"     -"},"currentLocation":{"turnOnGps":"    ","find":" ","locating":"  ","update":" ","permissionDenied":"     ","failed":"  "},"browserUnsupported":{"title":"  ","notSupported":"   ,        ","suggestBrowser":"     ,  .\\n      ,  :","afterInstall":"        ."},"deviceUnsupported":{"title":"  ","loadingInApp:RAVKAVONLINE":"    - ","loadingInApp:ALHAKAVONLINE":"    - ","imageAria":"      Google Play","info":"          ","faqAction":"  "},"payment":{"title":"","payment_option_balance":"  ","payment_option_existing_credit_card":"  ","payment_option_new_credit_card_track2":"  ","payment_option_new_credit_card_emv":"EMV","payment_option_new_credit_card_details":"  ","contract":"","receivedMessage":" ","paymentForContract":" ","paymentForOrder":" ","choosePaymentMethod":"  ","additionalPaymentMethods":"  ","pay":"","selectedCreditCard":"    ,   {{lastDigits}}.","payWithBalance":"   ","payWithApplePay":"   Apple Pay","payWithGooglePay":"   Google Pay","payWithCreditCard":"  ","continue":"","inactive":"  .   .","alreadyUsed":"   .     .","unableCompleteCashPayment":"    .\\n     .","unavailable":"   .      .","unexpectedError":" .","disabledTitle":"  .","disabledBody":"      .","insufficientFundsTitle":"   .","insufficientFundsBody":"     {{amount}}.\\n      .","checkBalance":",       ","connecting":"  ","mpiPageTitle":"  ","idLabel":"    ","actionFailed":"  ","tryActionAgain":"    ","actionCanceled":" ","reason":" ","selectOption":"    :","scanning1":"  ","scanning2":"      ","emv1":"EMV","emv2":"    ","details1":"   ","details2":"  ,  ,       (CVV)  ","pleaseSelectAPaymentMethod":"  .","enterCardDetails":"   ","changePaymentMethod":"  ","payWithCardEndingWith":"  ,    {{last_four_digits}}","payWithNewCreditCard":"   ","noAvailablePaymentOptionsTitle":"    .","noAvailablePaymentOptionsBody":"      .","makeSureValuesCorrect":"  ,     .","sessionInUse":"    ","connectionFailed":"       .  .","googlePayPromotion":"       ?   Google Pay.","deprecatedPaymentMethods":"  ","paymentWithoutEmv":"  EMV"},"buyaHostedFields":{"panLabel":"  ","expLabel":" ","personalIdLabel":"  ","personalIdTooltip":"        ,      .","leaveBlank":"    ","cvvTooltip":"3     ","track2Label":"  ","numberOfPaymentsLabel":" ","reusableLabel":"     ","pay":"","cardExpired":"    ","initFailedUserError":"     :       .\\n     ,      .","threeDSExplanation":"    .\\n   ."},"scanState":{"connecting":" ","cantConnect":" ","checkConnection":" -    ","keepPressed":"       "},"ravkavIssueRequest":{"stateDescriptionCreated":"      .","stateDescriptionExpired":"  ,    .","stateDescriptionPendingInspection":",     ,  .","stateDescriptionInMandatoryWait":"  -       .       .","stateDescriptionPendingIssuance":"       .","title":" -","notificationApprovedTitle_0":"    - ","notificationApprovedTitle":" {{count}}     -","notificationApprovedBody":"     ,        .","notificationOrderTitle":"  ","notificationOrderBody":"     ,        .","completeOrder":" ","notificationOrderMultipleTitle":" {{count}}  ","notificationOrderMultipleBody":"     ,        .","myRequests":" ","newAction":" ","forHolder":" {{holderName}}","completeDetails":"    ","detailsTitle":"    -","backToCheck":" ","newRequest":" ","submitNew":" ","personalDetailsTitle":" ","personalDetailsBody":"   ,    -,     ,  .","nameFirst":"","nameLast":"","personalIdType":" ,  ","personalId":" ","passport":"","numbersLetters":"8-9   ","phone":"","birthDate":" ","documents":"","documentsFor":"  ","missingDocuments":"  ","cancelTitle":" ","cancelBody":"  .       .","cancelConfirm":"  .       .  ?","cancelAction":" ","requestDetails":" ","requestState":" ","placeOrder":" ","disapprovalReason":"  ","createdAt":" :","notDefined":" ","issuedTitle":"  -","serial":" :","requestNotFound":"  ","makeSureTheRightAccount":",     ,  ","confirmCancellation":" ,    ?","createTitle":"     -","create":" ","issueTypeTitle":"    :","issueTypePrice":"  {{price}}","withoutWaiting":" ","profileTitle":"    ","regularProfile":"","regularProfileComment":"  -    .","specialProfile":"","specialProfileComment":" -      .\\n         .","errorNotAllowedTitle":"  .","errorNotAllowedAction":",  .      .","errorMissingPrerequisitesTitle":"    .","errorDocumentTitle":"   .","errorDocumentAction":"     .","errorDoesNotExistTitle":"  .","errorDoesNotExistAction":"       .","errorInvalidFileTypeTitle":"  .","errorInvalidFileTypeBody":"      :","errorInvalidFileSizeTitle":"  .","errorInvalidFileSizeBody":"     ","errorInvalidFileNameTitle":"  .","errorInvalidFileNameBody":"      {{maxLength}}    .","errorConflictingProfiles":"  .       .","errorActiveRavkavIssueRequestForPersonalId":"      .\\n             .","errorNotEligibleForProfile":"      {{profile}}:","goToRavkavIssueRequestDetails":"  ","errorUnexpectedError":" .","gotRequest":"  !","inspectingRequest":"      .","mailWhenDone":"     ,    .","suggestMoreRequests":"      .     -?","orderMore":"  -","noThanks":", !","alt":"  ","privacyTitle":"    !","privacyBody":"      ,       .","ravkavDesignSelection":"  -","ravkavDesign":" -"},"installDesktop":{"title:RAVKAVONLINE":"  - ","title:ALHAKAVONLINE":"  - ","doneAction":" , ","windowsDownload":"   Windows","macDownload":"   Mac","linuxDownload":"   Linux","steps1":"   ","steps2":"       .","steps3":"      \\" \\",         \\"\\".","steps4":",      .","steps5":"    .","steps6":"    ,    .","incorrectOS":"  ?","suggestWindows":"Windows","suggestMac":"macOS","suggestLinux":"Linux (Ubuntu, Debian)","noDownload":"  "},"scanSlideshow":{"androidDontMoveTitle":"    ","androidDontMoveBody":"        ","androidTryAgainTitle":"    ","androidTryAgainBody":"         ","androidTrySpotsTitle":"       ","androidTrySpotsBody":"      ,    ","androidNoCaseTitle":"   ","androidNoCaseBody":"   ","androidTurnPhoneTitle":"    ?","androidTurnPhoneBody":" NFC      ","iosPlaceCardTitle":"  -","iosPlaceCardBody":"     ,   ","iosCardManufacturerTitle":"  ","iosCardManufacturerBody":"  ASK      iPhone X","iosTryAgainTitle":"    ","iosTryAgainBody":"         ","iosNoCaseTitle":"   ","iosNoCaseBody":"   "},"emvSlideshow":{"deviceNowSupportsEmvTitle":"    ,   EMV.","deviceNowSupportsEmvBody":"  ","contactlessExplanationTitle":"        .","contactlessExplanationBody":"  ,     .","supportsGooglePayApplePayTitle":"     ApplePay  GooglePay.","supportsGooglePayApplePayBody":" ","mightRequirePinCodeTitle":"              .","mightRequirePinCodeBody":"!             .","track2FallbackTitle":"       ,      EMV.","track2FallbackBody":"     .","notificationTitle":"!     EMV","notificationBody":"  "},"reservation":{"title":" ","cantReserveContract":"   .","reserveOtherContract":"  .","unknownError":"    .","tryAgain":"       .","reserveContract":"","makeReservation":"","success":"  !","completeLoading":"          ,    ","trackReservation":"    ","hadFun":" ?","cancel":"  ","cancelConfirm":" ,     ?","cancelled":"   ","cancelError":"     ","reservedLoading":" ","loadReservation":"  ","findServiceStation":"  ","contractStartDate":"  ","contractStartsAtLoading":"  ","changeDate":" ","reservedBy":"","cancelReservation":" ","contract":" ","forRavkavCard":"   -","fromOperator":"  ","reservedAt":" ","useUntil":" ","loadMoreDetails":"     ","load":"","scan":" ","backToCard":"   ","backToProfile":"   ","backToContract":"   ","thanks":"  ","additionalReservation":" ","useDateRange":"   ","reservationCanceling":"  ","reservedLoadingDetails":"  ","reloadingStatusPristineTitle":"     .","reloadingStatusPristineBody":"   {{full_name}} {{modified}}.","reloadingStatusFailedTitle":"  ,  .","reloadingStatusFailedBody":"   {{full_name}} {{modified}}.","reloadingStatusSuccessTitle":"  !","reloadingStatusSuccessBody":"  {{reloaded_full_name}} {{modified}}.\\n   : {{created_full_name}}","reloadingStatusAbortedTitle":"   {{modified}}. : {{full_name}}.","reloadingStatusAbortedBody":"   .","activeStatusActiveTitle":"      -:","activeStatusActiveList1":"        .","activeStatusActiveList2:RAVKAVONLINE":"  -     .","activeStatusActiveList2:ALHAKAVONLINE":"  -     .","activeStatusActiveList3:RAVKAVONLINE":"     - .","activeStatusActiveList3:ALHAKAVONLINE":"     - .","activeStatusActiveAction":"  ","activeStatusFutureTitle":"   .","activeStatusFutureBody":"    {{activeFrom}}","activeStatusInactiveTitle":"         .","activeStatusInactiveBody":"  .","abortErrorTitle":"    ","abortErrorBody":"   .","abortedTitle":"   ","abortedBody":"   ."},"selectUserRavkav":{"title":"  -","subTitle":"  -      ","newRavkav":"","existingRavkav":"","enterRavkavNumber":"  -,    ","enterRavkavNumberExplain":"       -","moreRavkavs":"  -"},"interchangeRight":{"hourlyPass":"  ","hourlyPassExpiry":" {{expiry}} {{area}}","continuationRide":" ","continuationUntil":" {{expiry}}","remainingTrips":" {{count}} ","remainingTrips_0":"  "},"payoutMethod":{"title":" ","credit_card":" ","cash":"Cash"},"cancellationRequestRavkavAnonymity":{"title":" -","anonymous":"","semi-anonymous":"","personalized":""},"cancellationRequest":{"title":"  ","authorizingPayoutMethodTitle":"     ","authorizingPayoutMethodExplanation":"            .","authorizingPayoutMethodFailed":"  .","unexpectedError":"  .  .","requestType":" ","changePayoutMethod":"   ","payoutAmount":"  ","notYetDetermined":".","abortAction":" ","cancelRequest":" ","requestDetails":" ","saveForLater":"   ","iWantToStay":"  .","missingDetails":"!     .","howToContinue":"   ?","abortConfirm":"  .        .  ?","ravkavOwnerDetails":"   -","personalId":" ","whoToPay":"  ?","ravkavDocumentApproveLabel":"             -.","payToRavkavOwnerWithId":"  - /    ","payToSomeoneElse":" ","paidToDetails":" ","requestApproved":" .","howWantGetPayout":"    ?","noPayoutMethod":"    .    .","toCardOfIdOwner":"      ","updateSoftwareForCreditCard":"          .","updateSoftware":"   ","cash":"","giveCashAmountToUserAfterCancellation":"       {{amount}}.","giveCashAmountToUser":"    {{amount}}.","makeSureHaveCash":"    .   ,        .","agreeHaveEnoughCash":"  ","cancel":" .","abortedTitle":" .","expiredTitle":"   .","iUnderstand":"","retry":"   ,     -.","idNotMatchingIdOnCard":"          -.","backToFixId":"    ","validateDifferently":"   ","pendingApprovalTitle":"  .","pendingApprovalBody":"  ,    ,    .      ,    .","pendingApprovalBodyPos":"      .\\n\\n       ,        -        .","checkRequest":"  ","declinedTitle":" .","failedTitle":"    .","successTitle":"!","successBody":"    .","executeExecuting":"  ,   ","executeSuccess":"   .","executeError":"  .","executeFailed":"   .","pendingPayoutTitle":"   .","checkPayoutStatus":"   ","pendingPayoutCreditCardExplanation":"      .","payoutFailedTitle":"    .","payoutFailedExplanation":"    . ,   .","getApprovalForFailed":"   ","willPayoutToCreditcard":"      .","mayTakeUpTo7Days":"        7  .              ,   ."},"profileLoading":{"title":" ","errorNotAllowed":"     .","actionNotAllowed":"  .","errorActiveProfileLoadingForCard":"   ","actionActiveProfileLoadingForCard":"   .","errorContractNoLongerValid":"  .","actionContractNoLongerValid":"  .","errorMissingPrerequisites":"       .","errorNotEligibleForQuickApproval":"      ,            !","errorCannotApplyQuickApprovalToRavKavIdType":"          -,         .       .","errorRavkavPersonalIdDoesNotMatchPersonalId":"           -.","errorDocumentTagRequired":"   .","actionDocumentTagRequired":"     ","errorDoesNotExist":"     .","actionDoesNotExist":"   .","errorActiveReloadingTransaction":"    -","actionActiveReloadingTransaction":"    .   ,    .","errorInvalidFileType":"  .","actionInvalidFileType":"      :","errorInvalidFileSize":"  .","actionInvalidFileSize":"     ","errorInvalidFileName":"  .","actionInvalidFileName":"      {{maxLength}}    .","errorUnexpected":" .","actionUnexpected":"   .","errorCode":" : {{code}}","unknownInstitution":"  ","exitMessage":"      . ?","abortMessage":" ,    ?","customerProfile":" {{id}}","endDateTypeFixed":"  {{date}}","endDateTypeEndOfCard":"    -","endDateTypeFarFuture":"   -","endDateTypeAge18":" 18 ","endDateTypeManual":" ,   ,  ","addDocument":"+  ","abortAction":" ","noCardHeader":"  -","noCardAction":" ","noCardTitle":"   ?","noCardBody":"        .","moreQuestions":"  ?","moreDetails":"    ","profileLoadingAt:RAVKAVONLINE":"   - ","profileLoadingAt:ALHAKAVONLINE":"   - ","chooseProfileLoadingType":"    ","immediateProfiles":"   ","immediateProfilesNoDocuments":"        ","loadProfile":" ","loadProfileShort":"","profilesForLoading":"  ","requestProfileLoading":"    ","submitRequest":" ","notEligibleProfiles":",      ","notEligibleExplained":"        ","notEligibleConditions":"      -:","notEligibleProfileCutOffByExpiration":"      .        .","notEligibleProfilesAlreadyExist":"          .","notEligibleNoSpaceForProfiles":"      .","inProgress":"    ","continue":"","continueProfileLoading":"        -.","selectInstitution":"  ","selectEtt":"  ","typeToFilter":"  ","filteredInstitutionName":"      ","institutionNotFound":"    ","institutionNotFoundSuggestion":"     .\\n    , ,     .","uploadDocument":" ","uploadDone":" /","requestDetails":" ","termsTitle":"        .","termsBody":"             .  ,        ,         .","termsApprove":"","manualEndDateForCustomerProfile":"   {{ customerProfile }}","institution":" ","submittedDocuments":" ","pendingApprovalTitle":"  ","pendingApprovalBody":"      .      ,    ","checkRequest":" ","iUnderstand":"","retry":"   ,     -.","declinedTitle":" ","approvedTitle":" !","failedTitle":" ","successTitle":"!","successBody":"   !","canceledTitle":"  ","canceledBody":"     .","abortedTitle":" ","expiredTitle":"  ","missingDetails":"!    .","howToContinue":"   ?","saveForLater":"  ","cancelRequest":" ","iWantToStay":"  ","checking":"","uploading":"  {{name}}","deleting":"","personalIdPromptTitle":"   -","personalIdPromptBody":"       ,    -.","regularProfile":" ","orderRavkavTitle":"    -?","orderRavkavBody:RAVKAVONLINE":" -     -    .","orderRavkavBody:ALHAKAVONLINE":" -     -    .","orderRavkavAction":" -","contractChoose":" ","chooseContract":" ","confirmRequest":" ","loading":"","personalIdLabel":"    -","personalIdPlaceholder":"  ","passportLabel":"    -","passportPlaceholder":" ","submitNewRequest":"  ","abortConfirm":"  .       .  ?","backButtonSelectInstitution":"  ","backButtonApplyQuickApproval":"  ","backButtonChooseContractGroup":" ","backButtonChooseContract":"  ","backButtonUpload":" ","finishAllSteps":"    .","contract":"","notifyContractLoading1":"!","notifyContractLoading2":"       ","privacyTitle":"    !","privacyBody":"      ,       .","quickApproval":" ","quickApprovalTitle":" ","quickApprovalCannotApplySubtitle":"     ","quickApprovalApplyingSubtitle":"      .  ,     ,      ,      :","quickApprovalAppliedTitle":"    !","quickApprovalAppliedBody":"    ,   !","quickApprovalWhatIs":"   ?","firstNameLabel":"","lastNameLabel":"","skipQuickApprovalCheck":"   ","quickApprovalPrivacyBody":"             .","checkQuickApproval":"","promo1":"         ?","promo2":"      50 %    -  .","promoDismissed1":"          -.","promoDismissed2":"         ."},"billingSummary":{"billingSummary":" ","periodSummary":"       ","fromDate":" ","toDate":" ","deviceNumber":" ","quickReport":" ","query":"","queryFailed":"   ","tryAgain":"  ","forPeriod":"  {{date}}","allDevices":"  ","specificDevice":"  {{device}}","total":"","chargesMinusRefunds":"  ","charges":"","actions":"","refunds":"","creditcard":" ","balance":"","print":""},"billingSummaryError":{"no_range":" .","invalid_range":"  .","too_large":"   .      ."},"billingStatus":{"no_payment_details":"   ","not_charged_yet":"   ","will_not_be_charged":"   ","charged":" ","refunded":" "},"orderBillingStatusName":{"no_payment_details":"    ","not_charged_yet":"  !","will_not_be_charged":"   ","charged":"  ","refunded":"  "},"orderBillingStatusDescription":{"no_payment_details":"     .","not_charged_yet":"        .\\n        .","will_not_be_charged":"   ,  ,     .","charged":"   ,     .","refunded":"  "},"ravkavIssueRequestState":{"created":" ","aborted":" ","expired":"  ","pending_inspection":" ","approved":" ","declined":" ","in_mandatory_wait":"   ","pending_issuance":"  ","ravkav_card_issued":" - ","delivery_failed":"  ","defective":""},"eligibilityCondition":{"personalized":" ,  ","current_student":"  ","active_student":"   ","under18":" 18 ","over65":" 65 ","over60":" 60 ","over62":" 62 ","over67":" 67 ","over75":" 75 ","current_senior_citizen_75_plus":"   (75+)"},"document":{"personal_id":" ,    ","personal_id_body":" ,      ,      ","student_permit":"         ","student_id":"                  ","student_id_body":":      ,    ","ravkav":" -","ravkav_body":"       ","headshot":"  ","headshot_body":"      ","pupil_permit":"    ","pupil_permit_body":"         ","disability_certificate":" ","disability_certificate_body":"          ","national_insurance_certificate":"      ","national_insurance_certificate_body":"          ","national_service_certificate":"   ","national_service_certificate_body":"         ","blindness_certificate":" /","blindness_certificate_body":" /,       ","ministry_of_defence_approval":"  ","ministry_of_defence_approval_body":"             .","unknown":" "},"eventCircumstances":{"cancelPrevalidation":"  ","prevalidation":" "},"transactionHistory":{"loadingsMadeOnThisDevice":",    ","status":" ","purchaseApproval":" ","cancellationApproval":"  ","updateFilterRetry":"     ","forCard":" ,    {{ serial }}    "},"contractConfirm":{"backToSearch":"   ","loadInApp:RAVKAVONLINE":"    - ","loadInApp:ALHAKAVONLINE":"    - "},"connect":{"title":"   ","pristineTitle":"  ","pristineBody":"          .","busyTitle":"   ","readerDisconnectedTitle":"    ","readerDisconnectedList1":"    USB- .","readerDisconnectedList2":"     ,   USB-.","noCardTitle":"    ","noCardList1":"  -       .","noCardList2":"         .","noCardList3":"   ,    -.","networkErrorTitle":" ","networkErrorBody":"       .","connectionRefusedTitle":"   ","sslTitle":"  ","sslList1:RAVKAVONLINE":"  -   ,      .","sslList1:ALHAKAVONLINE":"  -   ,      .","connectionRefusedList1":"    ,   ,    .","connectionRefusedList2":"    (Firewall)    .","connectionRefusedList3":"  ,       .","connectionRefusedList3Action":"    ","readErrorDefaultMessage":"  ","readErrorList1":"  -       .","readErrorList2:RAVKAVONLINE":"       -.       -         .","readErrorList2:ALHAKAVONLINE":"       -.       -         .","readErrorList2Action":"      ","readErrorList3":"    ,          .","readErrorList4":"     ,      .","userApprovalTitle":"     ","userApprovalList1":"          .","userApprovalList2":"          ,  .","userApprovalAction":" ","refresh":" "},"registrationUsername":{"username":" ","enterUsernameToReset:RAVKAVONLINE":"  ,      - ,        .","enterUsernameToReset:ALHAKAVONLINE":"  ,      - ,        .","verificationCodeSent":"  ","enterCode":"  ","staleTokenExplainedResetPassword":"       ,        .       ."},"registration":{"email":" ","login":"","doLogin":"","password":"","passwordAgain":" ( )","nameFirst":"","nameLast":"","firstTime":"  ?","newPassword":" ","newPasswordAgain":"  ( )","register":"","forgotPassword":" ?","registration":"","rememberMe":" ","invalidPassword":" .   .","invalidCaptcha":" .   .","alreadyExistsActive":"       .      .","actionReset":" ","alreadyExistsInactive":"       .      .","actionActivate":" ","unexpectedError":" .   .","approveTerms1":"","approveTerms2":" ","actionRegister":"","resetPassword":" ","enterEmailToReset:RAVKAVONLINE":"  ,      - ,        .","enterEmailToReset:ALHAKAVONLINE":"  ,      - ,        .","tryAgain":"  ","activate":" ","verificationCodeSent":"      {{ email }}","verificationCheckEmail":"      ","verificationCode":" ","incorrectToken":" ","incorrectTokenAction":" ,    .","emailNotReceived":"  ,    ?","sendAgain":"  ","resendActivationSent":"         {{email}}   .","resendActivationNotReceived":"   ,   .\\n        ,   .","resendActivationInvalid":"     ,     ,       .\\n\\n   ,   .\\n\\n        ,   .","staleToken":"    ","staleTokenExplainedRegister":"      .   .","staleTokenExplainedResetPassword":"       ,        .       .","outOfAttemptsToken":"   .","outOfAttemptsTokenExplained":"      {{minutes}} ,      .","resend":"  ","activating":"   ","resending":"     ","userActivated":"  !","continueToBrand:RAVKAVONLINE":"   - ","continueToBrand:ALHAKAVONLINE":"   - ","contact":"  ","invalidToken":" ,  ,    .","resetActivationNotReceived":"     ,     ,       .\\n\\n   ,   .\\n        ,   .","resetting":"  ","resetPasswordSuccess":"  !"},"svc":{"title":" ","nocard":"  -","nocardAction":" ","notEligible":"    ","notEligibleAction":"","eligible":"   ","eligibleAction":"","conversionOperation":" ","h1":"     ?","h11":"      ","p11":"     ,     ,     .","h12":"    ,         ","p12":"                 ","questions":"  ?","moreDetails":"     ","inaccessible":" ","explainedTitle":" ","convert":"","convertStoredValue":" ","executing":"  ","notConverted":"  ","convertedSuccess":"  ","confirmationSent":"    ","scanToView":"     ","thanks":"  ","rateUs":" ?","errorNoSvc":"  -      ","errorNoContractTitle":"     ","errorNoContractBody":",    "},"svcExplained":{"inaccessible":"    {{before}}      \\"{{from}}\\"      {{after}}   {{to}}\\".","accessibleSame":"    {{before}}     \\"{{profile}}\\",     ,    .","accessibleDifferent":"   {{before}}     \\"{{from}}\\"      {{after}}    {{to}}\\".","after":"         {{after}}   \\"{{to}}\\"."},"cve":{"title":"   ","canExtend":"    -","canExtendAction":"   -","extendExplained":" -   {{endDate}}.\\n      {{newEndDate}}.","nocard":"  -","nocardAction":" ","cannotExtend":"    ","cannotExtendCardExpiredExplained":"-   {{endDate}}.\\n     .","cannotExtendCardNotExpiredExplained":" -   {{endDate}}.\\n     .\\n         .","moreDetails":"      -","executing":"  ","notExtended":"    ","extendedSuccess":"  ","scanToView":"      ","confirmationSent":"    ","thanks":"  ","rateUs":" ?"},"contractGroupDetails":{"flexibleStoredValueTitle":" ","chooseFlexibleStoredValue":"     ","chooseStartingDate":"    ","chooseOperator":"      ","nonRoundedPrice":" ","contractNotRespectedInArea":"      .   ,      .","contractNotRespectedInAreaWithCity":"      {{city}}.   ,      .","paymentConditions":" ","installmentsExplanation":" {{maxPayments}}   ."},"cause":{"10Title":" ","11Title":"   ","11Body":"   ","12Title":"     ","12Body":"    {{id}},     .       .","13Title":"      ","14Title":"      ","15Title":" ","15Body":"   ","16Title":" - ","17Title":"       ","17Body":"  ","18Title":" ","18Body":"   ","103Title":"   ","103Body":"   ","104Title":"  ","104Body":"   ,   ","105Title":"        ","105Body":"          .","30Title":"    ","41Title":"  ","43Title":"      -","43Body":"     ","44Title":"  ","44Body":"    ","40Title":"  -","40Body":"     ,   -.","50Title":"  ","50Body":"   ","102Title":" -  ","102Body":"    ","107Title":"        -","107Body":"  ,    .","108Title":"          .","609Title":",    ,     .","609Body":"      .","610Title":",    ,     .","610Body":"       .","611Title":",    ,     .","611Body":"       .","612Title":",    ,     .","612Body":"       .","100Title":"        ","101Title":"   ","101Body":"      ","106Title":"      ","106Body":"       ","110Title":"    ","110Body":"   {{profile}}  {{endDate}}.","111Title":null,"111Body":null,"112Title":null,"112Body":null,"20Title":"  ","20Body":"  ,    ","22Title":"  ","22Body":"   ","23Title":"   ","23Body":"   ","800Title":"   ","800Body":"   ","801Title":"   ","801Body":"   ,  ","850Title":"    ","850Body":"   ","851Title":"    ","851Body":"     ","1011Title":"   ","1011Body":" - ,    (Firewall)       .","1012Title":"   ","1012Body":"    (Firewall)       .","1013Title":"  ","1013Body":"    .","1014Title":"   ","1014Body":"     .","1070Title":"    ","1070Body":" -.","1071Title":"   ","1071Body":" -,    (Firewall)        .","71Title":"   ","71Body":"        .","70Title":"    ","1080Title":"   ","default":"  "},"cancelLoad":{"title":" ","subtitle":"     -        ,     ","action":"","requesting":"    ","chargeIncompleteTitle":"    ","chargeIncompleteBody":"     ","pastPeriodLimitTitle":"  ","pastPeriodLimitBody":" ,    ","transactionAlreadyCompletedTitle":"  ","transactionAlreadyCompletedBody":"      ","readyTitle":"     ","readyBody":"    ","executing":"  ,   ","cancelFailed":"  ","noRefund":"   ","error":" ","success":"  !"},"announcements":{"title":" ","noNew":" "},"ettChoice":{"storedValue":" ","monthly":"","daily":"","train":"","singleRide":" ","semesterB":" ","semesterA":" ","yearly":"","others":"","freeCertificate":"  "},"push":{"defaultChannelDesc":"","remindersChannelDesc":""},"posSettings":{"enterPassword":" ","user":"","userName":" ","name":"","email":". ","phoneNumber":" ","options":"","active":"","inactive":" ","cardValidityExtension":"   -","forPaymentWithCash":"  ","paymentWithEmv":"    EMV","lowBalanceNotification":"   ","balanceLowerThan":"   {{balance}}","notDefined":" ","enterLowBalanceMessage":" ,        .   ,   .","serviceStation":" ","changeServiceStation":"  ","reformArea":" ","area":" {{ code }}","moreDetails":" ","reports":"","settings":"","exitMessage":"  ","enterExitMessage":"         ","automaticShutdown":"A ","seconds":"","insertSeconds":"  ,     ","paymentPage":" ","track2":"  /EMV","insertDetails":" ","userChoice":" ","default":" ","languageChange":" ","allowUserLanguageChange":"   ","preferredLanguage":" ","allow":"","dontAllow":" ","printer":"","printerType":" ","printerMode":" ","test":"","workingProperly":"","notWorking":" ","missingPaper":" ","heatsUp":"","unknown":"","printMode":" ","printConfirmation":"    ","printAutomatically":" ","printOnDemand":"  ","printDisabled":" ","missingPrinter":"    ","displayConfirmationCode":"  ","displayQRCode":" QR-   ","showWithLink":"  ","display":"","doNotDisplay":" ","software":"","softwareVersion":" ","forceUpdate":" ","appVersion":" ","device":"","model":"","serial":"C ","sendDeviceDetails":"   ","guidedBySupportOnly":"  ","detailsSent":" ","createServiceStationFailed":"   .    .","createServiceStation":" {{ remoteId }}","environmentalNote":"    ,           .\\n\\n      ,     .\\n\\n        . ","showAnnouncements":" ","allowUploadingFilesFromFileSystem":null},"posCardOperationApproval":{"actionNotApprovedYet":"   ","print":"","printing":"","printCopy":" ","printFailed":"  ,   ","scanQr":"     ","viewApproval":" "},"posConfirm":{"noMatchingContract":"   ","anotherContract":"  "}}}}'),rO=JSON.parse('{"he":"he","en":"he","ru":["en","he"],"ar":"he"}'),rF=function(){function e(e,t,n,r,a){var i=this;this.$q=e,this.$log=t,this.language=n,this.context=r,this.availableLanguages=a,this.t=function(e,t){return rD.t(e,eI(eI({},t),{context:i.context}))}}return e.prototype.init=function(){var e=this;return new this.$q(function(t,n){var r=window.Promise;try{window.Promise=e.$q,rD.init({returnNull:!1,lng:e.language,fallbackLng:rO[e.language],interpolation:{escapeValue:!1},saveMissing:!0,missingKeyHandler:function(t,n,r,a){r===a&&e.$log.warn({message:"i18n: missing key",data:{lngs:t,ns:n,key:r,fallbackValue:a}})},missingInterpolationHandler:function(t,n){e.$log.warn({message:"i18n: missing interpolation",data:{text:t,value:n}})},resources:rI,contextSeparator:":"},function(e){e?n(e):t()})}finally{window.Promise=r}})},e}(),rq=function(){function e(){this.language="he",this.availableLanguages=null,this.context=null}return e.prototype.$get=function(e,t){if(null===this.context)throw Error("Missing context for i18n.");if(null===this.availableLanguages)throw Error("Missing available languages for i18n.");return new rF(e,t,this.language,this.context,this.availableLanguages)},e.prototype.$get.$inject=["$q","$log"],e}(),rM=function(){function e(e){this.i18n=e}return e.$inject=["i18n"],e.prototype.intercept=function(e){var t=e.request();return t.headers&&"Accept-Language"in t.headers||(t.headers=eI(eI({},t.headers),{"Accept-Language":this.i18n.language})),e.proceed(t)},e}();function rB(e){return function(t,n){return e.t(t,n)}}rB.$inject=["i18n"];var rV=nP.createContext(null);function rU(){var e=nR(rV);return{t:e.t,i18n:e}}function rj(){var e=n6();return function(t){return e.Operator[t]||""}}function rH(){var e=n6();return function(t){return e.ETT[t]||""}}function rz(e){return function(t){return e.CustomerProfile[t]||""}}function rK(){var e=n6();return function(t){return e.CustomerProfile[t]||""}}function rW(){var e=n6();return function(t){return e.Metropolin[t]||""}}function rG(){var e=n6();return function(t){var n,r,a,i;return(r=parseInt(t.toString(),10))>=7e3&&r<=7999&&(r-=7e3),a=r.toString(),null!==(n=null==(i=e.TrainStation[a])?void 0:i.name)&&void 0!==n?n:a}}rV.displayName="I18nContext",rz.$inject=["ravkavDataService"];var rY=function(){function e(e,t,n,r){this.LocalStorage=e,this.SessionStorage=t,this.accessTokenKeyName=n,this.refreshTokenKeyName=r}return e.prototype.getAccessToken=function(){return this.SessionStorage.getItem(this.accessTokenKeyName)||null},e.prototype.getRefreshToken=function(){return this.SessionStorage.getItem(this.refreshTokenKeyName)||this.LocalStorage.getItem(this.refreshTokenKeyName)||null},e.prototype.setTokens=function(e,t,n){void 0===n&&(n=!!this.LocalStorage.getItem(this.refreshTokenKeyName)),this.SessionStorage.setItem(this.accessTokenKeyName,e),n?(this.LocalStorage.setItem(this.refreshTokenKeyName,t),this.SessionStorage.removeItem(this.refreshTokenKeyName)):(this.SessionStorage.setItem(this.refreshTokenKeyName,t),this.LocalStorage.removeItem(this.refreshTokenKeyName))},e.prototype.clearTokens=function(){this.SessionStorage.removeItem(this.accessTokenKeyName),this.LocalStorage.removeItem(this.refreshTokenKeyName),this.SessionStorage.removeItem(this.refreshTokenKeyName)},e}(),rQ=function(){function e(){this.accessTokenKeyName="access",this.refreshTokenKeyName="refresh"}return e.prototype.$get=function(e,t){return new rY(e,t,this.accessTokenKeyName,this.refreshTokenKeyName)},e.prototype.$get.$inject=["LocalStorage","SessionStorage"],e}(),rJ=function(){function e(e,t,n){this.tokenStorage=t,this.$q=n,this.pendingRefreshRequest=null,this.client=e.withBasePath("/api/o/")}return e.$inject=["anonymousApiClient","tokenStorage","$q"],e.prototype.refreshTokens=function(){var e=this;if(null!==this.pendingRefreshRequest)return this.pendingRefreshRequest;var t=this.tokenStorage.getRefreshToken();return t?(this.pendingRefreshRequest=this.client.post("refresh",{refresh_token:t}).then(function(t){e.tokenStorage.setTokens(t.access_token,t.refresh_token)}).finally(function(){e.pendingRefreshRequest=null}),this.pendingRefreshRequest):this.$q.reject(Error("no-refresh-token"))},e.prototype.login=function(e,t,n,r){var a=this;return this.client.post("login",{username:e,password:t,verification_code:n}).then(function(e){a.tokenStorage.setTokens(e.access_token,e.refresh_token,r)})},e.prototype.issueVerificationCode=function(e,t){return this.client.post("issue-verification-code",{username:e,password:t})},e.prototype.loginWithTokens=function(e,t,n){this.tokenStorage.setTokens(e,t,n)},e.prototype.logout=function(e){var t=this,n=this.tokenStorage.getRefreshToken();return(e||!n?this.$q.resolve({}):this.client.post("logout",{refresh_token:n})).then(function(){t.tokenStorage.clearTokens()})},e}(),rZ=function(){function e(e){this.client=e.withBasePath("/api/o/")}return e.$inject=["apiClient"],e.prototype.checkPassword=function(e){return this.client.post("check-password",{password:e})},e}(),rX=function(){function e(){this.callbacks=[]}return e.prototype.emit=function(e){for(var t=function(t){void 0!==window.queueMicrotask?queueMicrotask(function(){return t(e)}):setTimeout(function(){return t(e)},0)},n=0,r=this.callbacks;n<r.length;n++)t(r[n])},e.prototype.subscribe=function(e,t){var n=this;this.callbacks.push(e),null!==t&&t.register(function(){n.callbacks=n.callbacks.filter(function(t){return t!==e})})},e}(),r0=function(){function e(e){this.uid=e.uid,this.email=e.email,this.username=e.username,this.firstName=e.first_name,this.lastName=e.last_name,this.cellphoneNumber=e.cellphone_number,this.hasBalance=e.has_balance,this.canPayWithBalance=e.can_pay_with_balance,this.operators=e.operators,this.joinedAt=new Date(e.date_joined),this.unsubscribedFromPromotionalNotificationsAt=e.unsubscribed_from_promotional_notifications_at?new Date(e.unsubscribed_from_promotional_notifications_at):null,this.canPurchaseFreeCertificate=e.can_purchase_free_certificate,this.willCreateProfileLoadingWithAutoApprove=e.will_create_plt_with_auto_approve,this.canAutoApproveProfileLoadingWithManualEndDate=e.can_auto_approve_pl_with_manual_end_date}return e.prototype.getFullName=function(){return"".concat(this.firstName," ").concat(this.lastName)},e.prototype.isSubscribedToPromotionalNotifications=function(){return null===this.unsubscribedFromPromotionalNotificationsAt},e}(),r1=function(){function e(e){this.data=e}return e.prototype.hasFeature=function(e){return!!this.data[e]},e}(),r2=function(){function e(e,t,n,r,a){var i=this;this.$q=e,this.authenticationService=t,this.authenticationExtService=n,this.onServiceInitialized=new rX,this.onUserLoggedIn=new rX,this.onUserLoggingOut=new rX,this.onUserLoggedOut=new rX,this.state={status:"uninitialized"},this.getUserAccount=function(){if("initialized"!==i.state.status)throw Error("Not initialized (getUserAccount): "+i.state.status);return i.state.userAccount},this.client=a.withBasePath("/api/useraccount/"),this.anonymousClient=r.withBasePath("/api/useraccount/")}return e.$inject=["$q","authenticationService","authenticationExtService","anonymousApiClient","apiClient"],e.prototype.init=function(){var e=this;switch(this.state.status){case"initializing":return this.state.ongoing;case"initialized":return this.$q.resolve();case"uninitialized":var t=this.client.get("").catch(function(){return e.client.get("")}).then(function(t){e.updateUser(t),e.onServiceInitialized.emit()},function(t){throw e.state={status:"uninitialized"},t});return this.state={status:"initializing",ongoing:t},t;default:te(this.state)}},e.prototype.updateUser=function(e){this.state={status:"initialized",userAccount:e.useraccount?new r0(e.useraccount):null,features:new r1(e.features)}},e.prototype.getFeatures=function(){if("initialized"!==this.state.status)throw Error("Not initialized (getFeatures): "+this.state.status);return this.state.features},e.prototype.setSubscriptionToPromotionalNotifications=function(e){var t=this;return this.client.post("change-subscription-to-promotional-notifications",{subscribe:e}).then(function(e){return t.updateUser(e),t.getUserAccount()})},e.prototype.setPersonalDetails=function(e,t){var n=this;return this.client.post("set-personal-details",{first_name:e,last_name:t}).then(function(e){return n.updateUser({useraccount:e.data.useraccount,features:e.data.features}),n.getUserAccount()})},e.prototype.pushRegister=function(e,t){return this.client.post("push-register",{registration_id:e,type:t})},e.prototype.pushUnregister=function(e){return this.client.post("push-unregister",{registration_id:e})},e.prototype.updateLoggedIn=function(){var e=this;return this.client.get("").then(function(t){if(e.updateUser(t),null===e.getUserAccount())throw Error("Expected user account after login, got null.");e.onUserLoggedIn.emit()},function(e){throw Error("Failed to fetch user after login: ".concat(JSON.stringify(e)))})},e.prototype.login=function(e,t,n,r){var a=this;if("initialized"!==this.state.status)throw Error("Not initialized (login): "+this.state.status);return this.authenticationService.login(e,t,n,r).then(function(){return a.updateLoggedIn()}).catch(function(e){throw a.authenticationService.logout(!0),e})},e.prototype.loginWithTokens=function(e,t,n){var r=this;if("initialized"!==this.state.status)throw Error("Not initialized (loginWithToken): "+this.state.status);return this.authenticationService.loginWithTokens(e,t,n),this.updateLoggedIn().catch(function(e){throw r.authenticationService.logout(!0),e})},e.prototype.issueVerificationCode=function(e,t){if("initialized"!==this.state.status)throw Error("Not initialized (issueVerificationCode): "+this.state.status);return this.authenticationService.issueVerificationCode(e,t)},e.prototype.logout=function(e){var t=this;switch(this.state.status){case"uninitialized":throw Error("Not initialized (logout): "+this.state.status);case"initializing":return this.authenticationService.logout(!0);case"initialized":return this.anonymousClient.get("").then(function(n){return t.onUserLoggingOut.emit(),t.authenticationService.logout(e).then(function(){t.updateUser(n),t.onUserLoggedOut.emit()})});default:te(this.state)}},e.prototype.checkPassword=function(e){return this.authenticationExtService.checkPassword(e)},e.prototype.getMinimumStoredValuePrice=function(e,t){if("initialized"!==this.state.status)throw Error("Not initialized (getMinimumStoredValuePrice): "+this.state.status);return this.state.features.hasFeature("can_load_stored_value_below_minimum")?t:e},e}(),r3=nP.createContext(null);function r4(){return nR(r3)}r3.displayName="UserServiceContext";var r5=function(e){this.modified=new Date(e.modified),this.lastUsed=e.last_used?new Date(e.last_used):null,this.name=e.name,this.serialNumber=e.serial_number,this.receiveRenewalReminders=e.receive_renewal_reminders,this.hidden=e.hidden},r6=function(){function e(e){this.client=e.withBasePath("/api/useraccount/card/")}return e.$inject=["apiClient"],e.prototype.getCard=function(e){return this.client.get(e).then(function(e){return new r5(e)})},e.prototype.getCards=function(t,n){var r={};void 0!==t&&(r.include_hidden=t?1:0),void 0!==n&&(r.page_size=n);var a=this.client.buildUrl("",r);return new e.CardsCursor(this.client,a)},e.prototype.setName=function(e,t){return this.client.patch(e.serialNumber,{name:t}).then(function(e){return new r5(e)})},e.prototype.setReceiveRenewalReminders=function(e,t){return this.client.patch(e.serialNumber,{receive_renewal_reminders:t}).then(function(e){return new r5(e)})},e.prototype.setHidden=function(e,t){return this.client.patch(e.serialNumber,{hidden:t}).then(function(e){return new r5(e)})},e.prototype.sortBySerialNumber=function(e){return e.sort(function(e,t){return e.serialNumber>t.serialNumber?1:e.serialNumber<t.serialNumber?-1:0})},e.CardsCursor=function(){function t(e,t){this.client=e,this.nextUrl=t}return t.prototype.hasNext=function(){return null!==this.nextUrl},t.prototype.next=function(){var t=this;if(null===this.nextUrl)throw Error("No next page");return this.client.get(this.nextUrl).then(function(n){return[n.results.map(function(e){return new r5(e)}),new e.CardsCursor(t.client,n.next)]})},t}(),e}();nP.createContext(null).displayName="UserRavkavCardServiceContext";var r8=function(e){function t(t,n){var r=this.constructor,a=e.call(this,t)||this;return a.error=t,a.data=n,a.name="RpcError",a.__proto__=r.prototype,a}return eD(t,e),t}(Error),r7=function(){function e(e){this.apiClient=e,this.onSuccess=function(e){if(e.error)throw new r8(e.error,e.data);return e.data},this.onError=function(e){var t,n,r,a=e.data.status<0?"connection_failed":429===e.data.status?"rate_limited":"unknown",i=e.data.data;throw r=void 0===i?"response.data.data is undefined":JSON.stringify(i).substring(0,100),new r8(a,{status:e.data.status,url:null===(t=e.data.config)||void 0===t?void 0:t.url,params:null===(n=e.data.config)||void 0===n?void 0:n.params,responseBody:r})}}return e.prototype.buildUrl=function(e,t){return this.apiClient.buildUrl(e,t)},e.prototype.get=function(e,t){return this.apiClient.get(e,t).then(this.onSuccess,this.onError)},e.prototype.post=function(e,t,n){return this.apiClient.post(e,t,n).then(this.onSuccess,this.onError)},e}(),r9=function(e){this.uid=e.uid,this.created=new Date(e.created),this.name=e.name,this.city=e.city,this.street=e.street,this.house=e.house,this.entrance=e.entrance,this.apartment=e.apartment,this.poBox=e.po_box,this.zipCode=e.zip_code,this.comments=e.comments,this.addressForShipment=e.address_for_shipment},ae=function(){function e(e){this.client=new r7(e.withBasePath("/api/useraccount/address/"))}return e.$inject=["apiClient"],e.prototype.getAddresses=function(){return this.client.get("").then(function(e){return e.map(function(e){return new r9(e)})})},e.prototype.create=function(e){return this.client.post("create",{name:e.name,city:e.city,street:e.street,house:e.house,entrance:e.entrance,apartment:e.apartment,po_box:e.poBox,zip_code:e.zipCode,comments:e.comments}).then(function(e){return new r9(e)})},e.prototype.hide=function(e){return this.client.post("".concat(e,"/hide")).then(function(e){return new r9(e)})},e.prototype.get=function(e){return this.client.get("".concat(e)).then(function(e){return new r9(e)})},e}();function at(e){return parseFloat((e/100).toFixed(2))}function an(e){return Math.round(100*e)}function ar(e){var t;return(t=e)%1!=0&&(t=t>0?Math.floor(t):Math.ceil(t)),(t/100).toFixed(t%100==0?0:2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+""}function aa(e,t){return Math.ceil(e/t*100)}function ai(e,t){return Math.floor(e*t/100)}nP.createContext(null).displayName="AddressServiceContext",(u=X||(X={})).Show="show",u.Hide="hide",(d=ee||(ee={})).MembershipNotActiveYet="membership_not_active_yet",d.MembershipInactive="membership_inactive",d.InsufficientAllowanceForContract="insufficient_allowance_for_contract",d.MaxedStoredValueCap="maxed_stored_value_cap",d.ExceededStoredValueLimitOnCard="exceeded_stored_value_limit_on_card",d.NoRemainingAllowance="no_remaining_allowance",d.OverlappingExistingContract="overlapping_existing_contract",d.NoMatchingContractToClaim="no_matching_contract_to_claim",d.NoMatchingContractForAnonymousCard="no_matching_contract_for_anonymous_card";var ao=function(){function e(e){this.member=e.member,this.organization=e.organization,this.remaining_allowance=e.remaining_allowance,this.active_period=e.active_period,this.next_period=e.next_period,this.stored_value_cap=e.stored_value_cap,this.current_stored_value_counter=e.current_stored_value_counter,this.allowance_availability=e.allowance_availability,this.allowed_ett=e.allowed_ett,this.allowed_predefined_contract=e.allowed_predefined_contract,this.allowance=e.allowance}return e.prototype.getAllowanceData=function(){switch(this.organization.allowance_display){case X.Show:return{allowance_display:this.organization.allowance_display,allowance:this.allowance,remaining_allowance:this.remaining_allowance};case X.Hide:return{allowance_display:this.organization.allowance_display};default:te(this.organization.allowance_display)}},e}(),as=function(){function e(e){this.client=new r7(e.withBasePath("/api/organization/member/"))}return e.$inject=["apiClient"],e.prototype.claim=function(e,t,n,r,a){return this.client.post("".concat(e,"/claim"),{contract_id:t,counter_value:n,validity_start_date:null!==r?r.toIso():null,for_customer_profile_ids:a})},e.prototype.identifyMembership=function(e,t){return this.client.post("".concat(t,"/identify"),{dump:e}).then(function(e){return new ao(e)})},e}(),ac=nP.createContext(null);ac.displayName="MemberServiceContext";var al=function(){function e(e){this.status=e.status,this.member=e.member,this.organization=e.organization,this.remaining_allowance=e.remaining_allowance}return e.prototype.getAllowanceData=function(){var e=this.remaining_allowance>0;switch(this.organization.allowance_display){case X.Show:return{allowance_display:this.organization.allowance_display,remaining_allowance:this.remaining_allowance,hasRemainingAllowance:e};case X.Hide:return{allowance_display:this.organization.allowance_display,hasRemainingAllowance:e};default:te(this.organization.allowance_display)}},e}(),au=function(){function e(e){this.client=new r7(e.withBasePath("/api/organization/enrollment/"))}return e.$inject=["apiClient"],e.prototype.requestToEnroll=function(e,t,n){return this.client.post("request",{organization:e,ravkav_serial:t,enrollment_type:n})},e.prototype.enroll=function(e){return this.client.post("".concat(e,"/enroll"))},e.prototype.getEnrollment=function(e){return this.client.get(e)},e}(),ad=nP.createContext(null);function ap(e){var t={},n=new e(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}ad.displayName="EnrollmentServiceContext",(p=et||(et={})).ReservedTransaction="reservedTransaction",p.CancellableTransaction="cancellableTransaction",p.EntitledProfileLoadingTypes="entitledProfileLoadingTypes",p.ActiveProfileLoading="activeProfileLoading",p.EntitledCancellationRequest="entitledCancellationRequest",p.ActiveCancellationRequest="activeCancellationRequest",p.OrganizationsCanRequestEnrollment="organizationsCanRequestEnrollment",p.OrganizationsEnrolled="organizationsEnrolled",p.InaccessibleStoredValue="inaccessibleStoredValue",p.PreferredStoredValue="preferredStoredValue",p.CardValidityExtension="cardValidityExtension",(m=en||(en={}))[m.Inaccessible=0]="Inaccessible",m[m.Preferred=1]="Preferred";var am=function(){function e(e){this.to=e.to,this.from=e.from}return e.prototype.getTotalInaccessible=function(){return this.from.filter(function(e){return!e.accessible}).map(function(e){return e.before}).reduce(function(e,t){return e+t},0)},e.prototype.getTotalAfterConversion=function(){return this.from.map(function(e){return e.after}).reduce(function(e,t){return e+t},0)},e.prototype.getConversionFromProfiles=function(){return this.from.map(function(e){return e.profile})},e.prototype.getEligibility=function(){return this.getTotalInaccessible()>0?en.Inaccessible:en.Preferred},e.prototype.getUniqueId=function(){return this.to.toString()+"--"+this.from.map(function(e){return e.profile.toString()}).join("-")},e}();(f=er||(er={}))[f.HourlyPassage=1]="HourlyPassage",f[f.Continuation=2]="Continuation";var af=function(){function e(e){this.type=e.type,this.expiry=e.expiry?new Date(e.expiry):null,this.area=e.area,this.remainingTrips=e.remaining_trips}return e.prototype.isActive=function(e){return(this.type!==er.Continuation||0!==this.remainingTrips)&&null!==this.expiry&&!(this.expiry<e)},e}();(h=ea||(ea={})).Usable="usable",h.OutOfValue="out_of_value",h.NoLongerValid="no_longer_valid",h.NoYetValid="no_yet_valid",h.Erased="erased",h.CardInactive="card_inactive",h.CustomerProfileInactive="customer_profile_inactive";var ah=function(){function e(e,t,n){this.operator=e.operator,this.customer_profile=e.customer_profile,this.etta=e.etta,this.ett=e.ett,this.is_obsolete=e.is_obsolete,this.predefined_contract=e.predefined_contract,this.counter=e.counter,this.journey_interchanges=e.journey_interchanges,this.ride=e.ride,this.usable_status=e.usable_status,this.saleDate=nI.fromIso(e.sale_date),this.interchangeRights=e.interchange_rights?new af(e.interchange_rights):null,this.validityDurationDays=e.validity_period.duration_days,this.validityStartDate=e.validity_period.start_date?nI.fromIso(e.validity_period.start_date):null,this.validityEndDate=e.validity_period.end_date?nI.fromIso(e.validity_period.end_date):null,this.contractNumber=t,this.contractIdentifyPromise=n}return e.prototype.isStoredValue=function(){return 6===this.etta},e.prototype.isVisible=function(){return!(this.isStoredValue()&&this.is_obsolete)},e.prototype.getIdentifyData=function(){return this.contractIdentifyPromise},e.prototype.getNextStartDate=function(){return null===this.validityEndDate?null:this.validityEndDate.addDays(1)},e}();(v=ei||(ei={}))[v.Alive=1]="Alive",v[v.Dead=2]="Dead",v[v.Irrelevant=3]="Irrelevant",(g=eo||(eo={}))[g.Cancellable=1]="Cancellable",g[g.Irrelevant=2]="Irrelevant",g[g.Unsupported=3]="Unsupported",g[g.HasBeenTouched=4]="HasBeenTouched";var av=function(){function e(e,t){this.operator=e.operator,this.contract_pointer=e.contract_pointer,this.timestamp=new Date(e.timestamp),this.transport_mean=e.transport_mean,this.circumstances=e.circumstances,this.place=e.place,this.line_number=e.line_number,this.passenger_number=e.passenger_number,this.routes_system=e.routes_system,this.fare_code=e.fare_code,this.debit_amount=e.debit_amount,this.association_token=e.association_token,this.cancellable_status=e.cancellable_status,this.device=e.device,this.contract=t}return e.prototype.isCancellable=function(){return this.cancellable_status===eo.Cancellable},e.prototype.getDebitAmount=function(){switch(this.circumstances){case 1:case 2:case 6:case 9:break;default:return null}return null===this.debit_amount||0===this.debit_amount?null:null!==this.contract?this.contract.isStoredValue()?this.debit_amount:null:this.debit_amount<100?null:this.debit_amount},e}();function ag(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r];switch(a.status){case"can_request_enrollment":n.push({type:et.OrganizationsCanRequestEnrollment,id:"".concat(a.organization.name,"-").concat(a.organization.name),enrollmentType:a.enrollment_type,data:{enrollmentStatusCanRequestEnrollment:a,ravkavSerial:t}});break;case"enrolled":var i=a.getAllowanceData();i.hasRemainingAllowance&&n.push({type:et.OrganizationsEnrolled,id:"".concat(a.member,"-").concat(a.status,"-").concat(i),data:{enrollmentStatusEnrolled:a}});break;default:te(a)}}return n}var ay=function(){function e(e,t,n){var r=this;this.dump=e,this.created=n,this.serial_number=e.serial_number,this.end_date=e.end_date,this.is_active=e.is_active,this.is_anonymous=e.is_anonymous,this.is_semi_anonymous=e.is_semi_anonymous,this.issuer=e.issuer,this.birth_date=e.birth_date?nI.fromIso(e.birth_date):null,this.id_type=e.id_type,this.id_number=e.id_number,this.customer_profiles=e.customer_profiles,this.contracts=e.contracts.map(function(e,t){return[e,t+1]}).filter(function(e){return null!==e[0]}).map(function(e){var n=t.then(function(t){return t.contracts[e[1]-1]});return new ah(e[0],e[1],n)}),this.events=e.events.map(function(e){var t=null;if(1===e.contract_pointer.status)for(var n=e.contract_pointer.index+1,a=0,i=r.contracts;a<i.length;a++){var o=i[a];if(o.contractNumber===n){t=o;break}}return new av(e,t)}),this.storedValueConversion=e.stored_value.conversion?new am(e.stored_value.conversion):null,this.cardValidityExtensionPromise=t.then(function(e){return e.card_validity_extension}),this.profileLoadingPromise=t.then(function(e){return e.profile_loading}),this.userRavkavCardPromise=t.then(function(e){return e.card}),this.storedValueConversionCgPromise=t.then(function(e){return e.stored_value_conversion_cg}),this.enrollmentStatusesPromise=t.then(function(e){return e.enrollmentStatuses}),this.cancellationRequestPromise=t.then(function(e){return e.cancellation_request}),this.blacklistPromise=t.then(function(e){return e.blacklist})}return e.prototype.getActiveCustomerProfiles=function(){return this.customer_profiles.filter(function(e){return e.is_active})},e.prototype.hasSpecialCustomerProfile=function(){return this.getActiveCustomerProfiles().filter(function(e){return 0!==e.customer_profile}).length>0},e.prototype.getPreferredOperators=function(){var e={};e[this.issuer]=2;for(var t=0,n=this.contracts;t<n.length;t++){var r=n[t].operator;r in e?e[r]+=1:e[r]=0}return Object.keys(e).sort(function(t,n){return e[n]-e[t]}).map(function(e){return parseInt(e,10)})},e.prototype.getAssociationTokens=function(){return this.events.filter(function(e){return!!e.association_token}).map(function(e){return e.association_token})},e.prototype.getTotalStoredValue=function(){return this.contracts.filter(function(e){return e.isStoredValue()&&!e.is_obsolete}).map(function(e){return e.counter.value}).reduce(function(e,t){return e+t},0)},e.prototype.findEventByAssociationToken=function(e){for(var t=0,n=this.events;t<n.length;t++){var r=n[t];if(r.association_token===e)return r}return null},e.prototype.getEventsForContract=function(e){for(var t=[],n=0,r=this.events;n<r.length;n++){var a=r[n];a.contract_pointer.status===ei.Alive&&a.contract_pointer.index+1===e.contractNumber&&t.push(a)}return t},e.prototype.getLastEventForContract=function(e){var t=this.getEventsForContract(e);return t.length>0?t[0]:null},e.prototype.getContractsForDisplay=function(){var e=this;return this.contracts.filter(function(e){return e.isVisible()}).map(function(t){return[t,e.getLastEventForContract(t)]}).sort(function(e,t){var n=e[0],r=e[1],a=t[0],i=t[1];if(null!==r&&null!==i)return i.timestamp.getTime()-r.timestamp.getTime();if(null!==r)return -1;if(null!==i)return 1;var o=nI.daysDiff(a.saleDate,n.saleDate);return 0!==o?o:n.contractNumber-a.contractNumber}).map(function(e){return e[0]})},e}();function ab(e){return e.is_semi_anonymous?999999999:e.is_anonymous?0:e.id_number}var a_=function(e){this.canExtendUntil=nI.fromIso(e.can_extend_until)},aE=function(){function e(e,t,n,r,a,i,o,s){this.ravkavSdkService=e,this.contractGroupService=t,this.transactionService=n,this.$q=a,this.$injector=i,this.onExecuteSuccess=o,this.logWarning=s,this.identifyTransactionsPromise=null,this.reservedTransactionsPromise=null,this.card=null,this.client=r.withBasePath("/api/identify/")}return e.$inject=["ravkavSdkService","contractGroupService","transactionService","apiClient","$q","$injector","onExecuteSuccess","logWarning"],e.prototype.identifyTransactions=function(e){return e?(this.identifyTransactionsPromise||(this.identifyTransactionsPromise=this.transactionService.identify(this.card.serial_number,this.card.getAssociationTokens())),this.identifyTransactionsPromise):Promise.resolve([])},e.prototype.findReservedTransactions=function(){return this.reservedTransactionsPromise||(this.reservedTransactionsPromise=this.transactionService.findReserved(this.card.serial_number)),this.reservedTransactionsPromise},e.prototype.identifyUninitialized=function(e){return this.client.post("dump-uninitialized",{serial_number:e})},e.prototype.identify=function(e){var t=this;return this.client.post("dump",{dump:e}).then(function(e){var n,r=e.contracts.map(function(e){return e&&e.hasOwnProperty("id")?t.contractGroupService.fromData(e):e}),a=e.card?new r5(e.card):null,i=e.stored_value_conversion?new nB(e.stored_value_conversion.contract_group):null,o=e.card_validity_extension?new a_(e.card_validity_extension):null,s=null!==(n=e.cancellation_request)&&void 0!==n?n:null,c=e.organization_enrollment.map(function(e){var t=e.status;switch(t){case"can_request_enrollment":return e;case"enrolled":return new al(e);default:te(t)}});return{contracts:r,card:a,profile_loading:e.profile_loading,active_profile_loading:e.active_profile_loading,stored_value_conversion_cg:i,card_validity_extension:o,enrollmentStatuses:c,cancellation_request:s,blacklist:e.blacklist}})},e.prototype.execute=function(e,t){var n,r=this,a=ap(this.$q),i=ap(this.$q);return this.ravkavSdkService.discover(t).then(function(){return i.resolve(),n=e4(),r.ravkavSdkService.execute(e,t)}).then(function(t){try{var a=n();void 0!==r.onExecuteSuccess&&r.onExecuteSuccess(r.$injector,e,a,t)}catch(e){}if("SUCCESS"!==t.finish_status)throw t;return t}).then(a.resolve,a.reject),[i.promise,a.promise]},e.prototype.readCard=function(e,t,n){var r=this;try{var a=new URL(e);a.searchParams.has("r")||(a.searchParams.set("r",n?"1":"0"),e=a.toString())}catch(e){}this.clear();var i=this.execute(e,t);return[i[0],i[1].then(function(e){if(t.requested)throw{finish_status:"FAILED",retry_enabled:!1,cause:1090,cause_args:[],result:null};var n=e.result,a=r.identify(n);return r.card=new ay(n,a,new Date),r.card})]},e.prototype.loadContract=function(e,t){var n=this,r=this.execute(e,t);return[r[0],r[1].finally(function(){n.clearReservedTransactions()})]},e.prototype.cancelLoadContract=function(e,t){return this.execute(e,t)},e.prototype.convertStoredValue=function(e,t){return this.execute(e,t)},e.prototype.extendCardValidity=function(e,t){return this.execute(e,t)},e.prototype.adjustCard=function(e,t){return this.execute(e,t)},e.prototype.doExecute=function(e,t){return this.execute(e,t)},e.prototype.getCancellableTransactions=function(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r];if(a.is_cancellable){var i=t.findEventByAssociationToken(a.association_token);if(null!==i&&i.isCancellable()){if(null===i.contract){void 0!==this.logWarning&&this.logWarning(this.$injector,{message:"Found a cancellable transaction but it's associated event doesn't have a contract.",data:{transaction:a,relatedEvent:i,relatedEventContract:i.contract}});continue}n.push({transaction:a,relatedEvent:i,relatedEventContract:i.contract})}}}return n},e.prototype.getNotifications=function(e){var t=this,n=this.card;if(!n)return this.$q.reject("no card");var r=this.identifyTransactions(e);return this.$q.all([r,n.profileLoadingPromise,n.storedValueConversionCgPromise,n.cardValidityExtensionPromise,n.enrollmentStatusesPromise,n.cancellationRequestPromise,this.findReservedTransactions()]).then(function(e){for(var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=[],d=[],p=t.getCancellableTransactions(r,n),m=0;m<p.length;m++){var f=p[m];d.push(f.relatedEventContract.contractNumber),u.push({type:et.CancellableTransaction,id:f.transaction.uid,data:{transactionUid:f.transaction.uid,event:f.relatedEvent,profile_loading_primary_profile:f.transaction.profile_loading_primary_profile}})}if(null!==c.active)u.push({type:et.ActiveCancellationRequest,id:c.active.uid,data:c.active});else for(var h=function(e){if(e.status!==J.Eligible||-1!==d.indexOf(e.cancel_contract.contract_number))return"continue";var r=e6(n.contracts,function(t){return t.contractNumber===e.cancel_contract.contract_number});if(void 0===r)return void 0!==t.logWarning&&t.logWarning(t.$injector,{message:"No contract found for cancellation request eligibility",data:{cardSerial:n.serial_number,eligibility:e}}),"continue";u.push({type:et.EntitledCancellationRequest,id:"".concat(n.serial_number,"_entitledCancellationRequestType_").concat(e.type.id),data:{eligibility:e,contract:r}})},v=0,g=c.eligibilities;v<g.length;v++){var y=g[v];h(y)}if(null!==a.active)u.push({type:et.ActiveProfileLoading,id:a.active.uid,data:a.active});else{for(var b=a.eligibilities.filter(function(e){return e.status===J.Eligible&&e.type.auto_approve}).map(function(e){return e.type}),_=[],E=0;E<b.length;E++){var w=b[E],S=w.primary_profile_id,C=w.secondary_profile_id;-1===_.indexOf(S)&&_.push(S),null!==C&&-1===_.indexOf(C)&&_.push(C)}_.length>0&&u.push({type:et.EntitledProfileLoadingTypes,id:"".concat(n.serial_number,"_entitledProfileLoadingTypes_").concat(b.map(function(e){return e.id}).join("-")),data:_})}for(var k=0;k<l.length;k++){var $=l[k];u.push({type:et.ReservedTransaction,id:$.uid,data:$})}if(n.storedValueConversion&&i){var y=n.storedValueConversion.getEligibility(),w=void 0;switch(y){case en.Inaccessible:w=et.InaccessibleStoredValue;break;case en.Preferred:w=et.PreferredStoredValue;break;default:te(y)}u.push({type:w,id:n.serial_number.toString()+"-"+n.storedValueConversion.getUniqueId(),data:{storedValueConversion:n.storedValueConversion,contractGroup:i}})}o&&u.push({type:et.CardValidityExtension,id:"".concat(n.serial_number,"-").concat(n.end_date),data:{canExtendUntil:o.canExtendUntil,endDate:n.end_date}});var A=ag(s,n.serial_number);return u.push.apply(u,A),u})},e.prototype.getCard=function(){return this.card},e.prototype.clearReservedTransactions=function(){this.reservedTransactionsPromise=null},e.prototype.clear=function(){this.card=null,this.identifyTransactionsPromise=null,this.clearReservedTransactions()},e}(),aw=function(){function e(){}return e.prototype.$get=function(e,t,n,r,a,i){return new aE(e,t,n,r,a,i,this.onExecuteSuccess,this.logWarning)},e.prototype.$get.$inject=["ravkavSdkService","contractGroupService","transactionService","apiClient","$q","$injector"],e}(),aS=nP.createContext(null);function aC(){return nR(aS)}aS.displayName="CardServiceContext",(y=es||(es={}))[y.PrivateLabel=0]="PrivateLabel",y[y.Mastercard=1]="Mastercard",y[y.Visa=2]="Visa",y[y.Maestro=3]="Maestro",y[y.Amex=4]="Amex",y[y.Isracard=5]="Isracard",y[y.JCB=6]="JCB",y[y.Discover=7]="Discover",y[y.Diners=8]="Diners";var ak=function(){function e(e){this.uid=e.uid,this.lastUsed=e.last_used?new Date(e.last_used):null,this.name=e.name,this.cardBrand=e.card_brand,this.expiresAt=new Date(e.expires_at),this.requiresPersonalId=e.requires_personal_id}return e.prototype.getLastDigits=function(){return this.name.substring(this.name.length-4)},e.prototype.isUseableAt=function(e){return e<this.expiresAt},e}();(b=ec||(ec={})).Details="details",b.Track2="track2",b.Emv="emv",b.ApplePay="applepay",b.GooglePay="googlepay";var a$=function(){function e(e){this.client=e.withBasePath("/api/useraccount/creditcard/")}return e.$inject=["apiClient"],e.prototype.getCreditCards=function(e){return this.client.get("",{params:{for_immediate_payment:e?"true":"false"}}).then(function(e){return e.map(function(e){return new ak(e)})})},e.prototype.markAsNonReusable=function(e){return this.client.delete("".concat(e)).catch(function(e){if(!e||404!==e.data.status)throw e})},e}();nP.createContext(null).displayName="CreditCardServiceContext";var aA=function(){function e(e){this.balance=e.balance,this.credit=e.credit,this.disabled=e.disabled,this.liability=e.liability}return e.prototype.getSpendableBalance=function(){return this.balance+this.credit-this.liability},e.prototype.canCharge=function(e){return e<=this.getSpendableBalance()},e}(),ax=function(){function e(e){this.client=e.withBasePath("/api/useraccount/balance/")}return e.$inject=["apiClient"],e.prototype.getBalance=function(){return this.client.get("").then(function(e){return new aA(e)})},e}(),aT=nP.createContext(null);aT.displayName="BalanceServiceContext";var aN=n(640),aP=n.n(aN),aR=function(){function e(e,t,n){this.buyaBaseUrl=e,this.buyaClientToken=t,this.client=new r7(n.withBasePath("/api/buya/payment-process/")),this.buya=new(aP())({baseUrl:this.buyaBaseUrl,clientToken:this.buyaClientToken})}return e.$inject=["buyaBaseUrl","buyaClientToken","apiClient"],e.prototype.finalizePayment=function(e,t,n,r,a){return this.client.post("".concat(e,"/finalize-payment"),{number_of_payments:t,reusable:n,applepay_payment_token:r,googlepay_payment_token:a})},e.prototype.actionFinished=function(e){return this.client.post("".concat(e,"/action-finished"))},e.prototype.hostedFields=function(){return this.buya.hostedFields()},e.prototype.payments=function(){return this.buya.payments()},e}(),aL=nP.createContext(null);aL.displayName="BuyaServiceContext",(_=el||(el={})).Buya="buya",_.Creditguard="creditguard",(E=eu||(eu={})).charged="charged",E.not_charged_yet="not_charged_yet",E.will_not_be_charged="will_not_be_charged",E.refunded="refunded";var aD=function(e){this.uid=e.uid,this.created=new Date(e.created),this.card=e.card?new r5(e.card):null,this.cardSerial=e.card_serial,this.contractDisplayName=e.contract_display_name,this.contractTypeDisplay=e.contract_type_display,this.periodDescription=e.period_description,this.counterValue=e.counter_value,this.counterDescription=e.counter_description,this.billingStatus=e.billing_status,this.originDestinationDescription=e.origin_destination_description,this.payment=e.payment,this.purchaseApprovalLink=e.purchase_approval_link,this.refundApprovalLink=e.refund_approval_link,this.reservationApprovalLink=e.reservation_approval_link},aI=function(e){function t(t){var n=e.call(this,t)||this;return n.contractId=t.contract,n.contractGroupId=t.contract_group,n.contractOperator=t.contract_operator,n.isCancellable=t.is_cancellable,n.isReserved=t.is_reserved,n.activeFrom=new Date(t.active_from),n.activeUntil=new Date(t.active_until),n.activeStatus=t.active_status,n.createdBy=t.created_by,n.reloading=t.reloading,n.reloadedBy=t.reloaded_by,n.flexibleStartDate=t.flexible_start_date?nI.fromIso(t.flexible_start_date):null,n.startDateFixed=t.start_date_fixed,n}return eD(t,e),t}(aD),aO=function(e){this.uid=e.uid,this.created=new Date(e.created),this.contractDisplayName=e.contract_display_name,this.createdBy=e.created_by},aF=function(){function e(e,t){this.uid=e,this.transactionService=t}return e.prototype.payWithNewCreditCard=function(e,t){return this.transactionService.payWithNewCreditCard(this.uid,e,t)},e.prototype.payWithCreditCard=function(e,t,n){return this.transactionService.payWithCreditCard(this.uid,e,t,n)},e.prototype.payWithBalance=function(){return this.transactionService.payWithBalance(this.uid)},e}(),aq=function(){function e(e,t){this.client=new r7(t.withBasePath("/api/transaction/")),this.anonymousClient=new r7(e.withBasePath("/api/transaction/"))}return e.$inject=["anonymousApiClient","apiClient"],e.prototype.getSession=function(){var e=this;return this.sessionPromise||(this.sessionPromise=this.anonymousClient.post("session").catch(function(t){throw e.sessionPromise=void 0,t})),this.sessionPromise},e.prototype.create=function(e,t,n,r,a,i,o,s,c,l){return void 0===a&&(a=!1),this.client.post("transaction",{card_serial:e,contract:t,is_reserved:n,start_date:r?r.toIso():null,start_date_fixed:a,price:i,counter_value:o,origin_station:null!=s?s:void 0,destination_station:null!=c?c:void 0,restrict_is_anonymous:l})},e.prototype.abort=function(e){return this.client.post("".concat(e,"/abort"))},e.prototype.identify=function(e,t){return this.client.post("identify",{card_serial:e,association_tokens:t})},e.prototype.findReserved=function(e){return this.client.post("reserved",{card_serial:e}).then(function(e){return e.map(function(e){return new aO(e)})})},e.prototype.get=function(e){return this.client.get("".concat(e)).then(function(e){return new aI(e)})},e.prototype.payWithNewCreditCard=function(e,t,n){return this.client.post("".concat(e,"/payment"),{payment_page_style:t,credit_card_details_type:n}).then(function(e){switch(e.type){case el.Buya:case el.Creditguard:return e;default:return{type:el.Creditguard,hosted_page_url:e.hosted_page_url}}})},e.prototype.payWithCreditCard=function(e,t,n,r){return this.client.post("".concat(e,"/payment-reusable"),{credit_card_uid:t,personal_id:n,number_of_payments:r})},e.prototype.payWithBalance=function(e){return this.client.post("".concat(e,"/payment-balance"))},e.prototype.initiateReloading=function(e,t,n){return this.client.post("".concat(e,"/reloading"),{personal_id:t||null,start_date:n?n.toIso():null})},e.prototype.abortReloading=function(e){return this.client.post("".concat(e,"/abort-reloading"))},e.prototype.initiateReloadingCancellation=function(e){return this.client.post("".concat(e,"/reloading-cancellation"))},e.prototype.abortReloadingCancellation=function(e){return this.client.post("".concat(e,"/reloading-cancellation-abort"))},e.prototype.getPurchaseApprovalPrintJob=function(e){return this.client.get("".concat(e,"/purchase-approval"),{headers:{Accept:"application/x-ravkav-printer"}})},e.prototype.getRefundApprovalPrintJob=function(e){return this.client.get("".concat(e,"/refund-approval"),{headers:{Accept:"application/x-ravkav-printer"}})},e.prototype.makePaymentProxy=function(e){return new aF(e,this)},e.prototype.getTransactionHistory=function(t){var n=this.client.buildUrl("",eI({page_size:20},t));return new e.HistoryCursor(this.client,n)},e.HistoryCursor=function(){function t(e,t){this.client=e,this.nextUrl=t}return t.prototype.hasNext=function(){return null!==this.nextUrl},t.prototype.next=function(){var t=this;if(null===this.nextUrl)throw Error("No next page");return this.client.get(this.nextUrl).then(function(n){return[n.results.map(function(e){return new aD(e)}),new e.HistoryCursor(t.client,n.next)]})},t}(),e}(),aM=nP.createContext(null);function aB(){return nR(aM)}aM.displayName="TransactionServiceContext";var aV=function(){function e(e){this.client=new r7(e.withBasePath("/api/transaction/stored-value-conversion/"))}return e.$inject=["apiClient"],e.prototype.create=function(e,t,n,r,a){return this.client.post("create",{card_serial:e,contract:t,from_profiles:n,to_profile:r,counter_value_assertion:a})},e.prototype.abort=function(e){return this.client.post("".concat(e,"/abort"))},e.prototype.getConversionApprovalPrintJob=function(e){return this.client.get("".concat(e,"/conversion-approval"),{headers:{Accept:"application/x-ravkav-printer"}})},e}(),aU=nP.createContext(null);aU.displayName="StoredValueConversionServiceContext";var aj=function(){function e(e,t,n){this.fromDate=e,this.toDate=t,this.device=n}return e.$inject=["fromDate","toDate","device"],e.validateDateRange=function(e,t){if(null===e||null===t)return"no_range";var n=nI.daysDiff(t,e);return n<0?"invalid_range":n>92?"too_large":null},e.prototype.toQueryParams=function(){return{fromDate:nZ(this.fromDate),toDate:nZ(this.toDate),device:""===this.device?null:this.device}},e.prototype.validate=function(){return e.validateDateRange(this.fromDate,this.toDate)},e.fromQueryParams=function(t){var n=nX(t.fromDate),r=nX(t.toDate);return e.validateDateRange(n,r)?null:new e(n,r,t.device||null)},e.prototype.toServerQuery=function(){return{from_date:this.fromDate.toIso(),to_date:this.toDate.addDays(1).toIso(),devices:this.device?[this.device]:null}},e.prototype.replace=function(t){return new e("fromDate"in t?t.fromDate:this.fromDate,"toDate"in t?t.toDate:this.toDate,"device"in t?t.device:this.device)},e}(),aH=function(){function e(e,t){this.apiClient=e,this.i18n=t,this.client=new r7(this.apiClient.withBasePath("/api/transaction/"))}return e.$inject=["apiClient","i18n"],e.prototype.getPresets=function(e){var t=nI.fromLocal(e),n=t.addDays(-1),r=t.truncWeek(),a=r.addDays(-7),i=t.truncMonth(),o=i.addMonths(1),s=i.addMonths(-1);return[{name:this.i18n.t("times.today"),fromDate:t,toDate:t},{name:this.i18n.t("times.yesterday"),fromDate:n,toDate:n},{name:this.i18n.t("times.thisWeek"),fromDate:r,toDate:r.addDays(6)},{name:this.i18n.t("times.lastWeek"),fromDate:a,toDate:a.addDays(6)},{name:this.i18n.t("times.thisMonth"),fromDate:i,toDate:o.addDays(-1)},{name:this.i18n.t("times.lastMonth"),fromDate:s,toDate:i.addDays(-1)}]},e.prototype.getBillingSummary=function(e){return this.client.post("billing-summary",e.toServerQuery(),{headers:{Accept:"application/json"}}).then(function(t){if(0===t.length)throw Error("Expected billing summary, got nothing. query: ".concat(JSON.stringify(e)));if(t.length>1)throw Error("Expected a single billing summery, got ".concat(t.length,". query: ").concat(JSON.stringify(e)));return t[0]})},e.prototype.getBillingSummaryPrintJob=function(e){return this.client.post("billing-summary",e.toServerQuery(),{headers:{Accept:"application/x-ravkav-printer"}})},e}(),az=nP.createContext(null);az.displayName="BillingSummaryServiceContext";var aK=function(){function e(e,t,n,r,a,i,o){this.cardName=e,this.cardSerial=t,this.createdSince=n,this.createdUntil=r,this.billingStatus=a,this.paymentMethod=i,this.createdByDevice=o}return e.prototype.toQueryParams=function(){return{cardName:this.cardName,cardSerial:this.cardSerial,createdSince:this.createdSince?this.createdSince.toISOString():null,createdUntil:this.createdUntil?this.createdUntil.toISOString():null,billingStatus:nz(this.billingStatus),paymentMethod:this.paymentMethod}},e.fromQueryParams=function(t){return new e(nJ(t.cardName,null),nJ(nK(t.cardSerial),null),t.createdSince?new Date(t.createdSince):null,t.createdUntil?new Date(t.createdUntil):null,nJ(nH(t.billingStatus),null),nJ(t.paymentMethod,null),nJ(t.createdByDevice,null))},e.prototype.toServerQuery=function(e){var t;return{card_name:this.cardName,card_serial:this.cardSerial,created_since:this.createdSince,created_until:this.createdUntil,billing_status:null!==(t=nz(this.billingStatus))&&void 0!==t?t:null,payment_method:this.paymentMethod,created_by_device:this.createdByDevice,page_size:e}},e.prototype.replace=function(t){return new e("cardName"in t?t.cardName:this.cardName,"cardSerial"in t?t.cardSerial:this.cardSerial,"createdSince"in t?t.createdSince:this.createdSince,"createdUntil"in t?t.createdUntil:this.createdUntil,"billingStatus"in t?t.billingStatus:this.billingStatus,"paymentMethod"in t?t.paymentMethod:this.paymentMethod,"createdByDevice"in t?t.createdByDevice:this.createdByDevice)},e.empty=function(){return new e(null,null,null,null,null,null,null)},e.prototype.isAnySet=function(e){for(var t=0;t<e.length;t++)if(this[e[t]])return!0;return!1},e}(),aW=function(){function e(e,t){this.LocalStorage=e,this.storageKey="announcement:lastSeen",this.client=new r7(t.withBasePath("/api/announcement/"))}return e.$inject=["LocalStorage","apiClient"],e.prototype.updateLastSeen=function(e){this.LocalStorage.setItem(this.storageKey,e.toString())},e.prototype.getLastSeenTimestamp=function(){var e=this.LocalStorage.getItem(this.storageKey);return null===e?null:parseInt(e,10)},e.prototype.getLastSeenDate=function(){var e=this.getLastSeenTimestamp();return null===e?null:new Date(1e3*e)},e.prototype.check=function(){return this.client.post("check",{last_seen:this.getLastSeenTimestamp()})},e.prototype.list=function(){var t=this.client.buildUrl("",{limit:10});return new e.ListCursor(this.client,t)},e.ListCursor=function(){function t(e,t){this.client=e,this.nextUrl=t}return t.prototype.hasNext=function(){return null!==this.nextUrl},t.prototype.next=function(){var t=this;if(null===this.nextUrl)throw Error("No next page");return this.client.get(this.nextUrl).then(function(n){return[n.results,new e.ListCursor(t.client,n.next)]})},t}(),e}(),aG=nP.createContext(null);aG.displayName="AnnouncementServiceContext";var aY=eZ().module("ravkav.announcement",[]).service("announcementService",aW).name;function aQ(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,"+")}var aJ=function(e){function t(t){var n=this.constructor,r=e.call(this,"HttpError status=".concat(t.status," xhrStatus=").concat(t.xhrStatus," cause=").concat(t.cause))||this;return r.data=t,r.name="HttpError",r.__proto__=n.prototype,r}return eD(t,e),t}(Error),aZ=function(){function e(e,t,n,r,a){this.$http=e,this.baseUrl=t,this.basePath=n,this.appendSlash=r,this.interceptors=a}return e.prototype.withInterceptor=function(t){var n=this.interceptors.concat([t]);return new e(this.$http,this.baseUrl,this.basePath,this.appendSlash,n)},e.prototype.withBasePath=function(t){return new e(this.$http,this.baseUrl,t,this.appendSlash,this.interceptors)},e.prototype.buildUrl=function(e,t){if(e.indexOf("://")>=0)return e;var n="/"===e[0]?"":this.basePath,r=void 0!==t?"?"+function(e){for(var t=[],n=0,r=Object.keys(e).sort();n<r.length;n++){var a=r[n],i=e[a];null!=i&&t.push("".concat(aQ(a),"=").concat(aQ("object"==typeof i?i.toISOString():"number"==typeof i?i.toString():i)))}return t.join("&")}(t):"",a=e.length&&this.appendSlash&&"/"!==e[e.length-1]&&0>e.indexOf("?")?"/":"";return"".concat(this.baseUrl).concat(n).concat(e).concat(a).concat(r)},e.prototype.performRequest=function(t,n,r,a){var i=eI({method:t,url:this.buildUrl(n),data:r},a);return new e.Chain(this).proceed(i).then(function(e){return e.data})},e.prototype.get=function(e,t){return this.performRequest("GET",e,void 0,t)},e.prototype.post=function(e,t,n){return this.performRequest("POST",e,t,n)},e.prototype.patch=function(e,t,n){return this.performRequest("PATCH",e,t,n)},e.prototype.delete=function(e,t){return this.performRequest("DELETE",e,void 0,t)},e.Chain=function(){function e(e){this.apiClient=e,this.interceptors=e.interceptors.slice()}return e.prototype.request=function(){return this.currentRequest},e.prototype.proceed=function(e){this.currentRequest=e;var t=this.interceptors.shift();return t?t.intercept(this):this.apiClient.$http(e).catch(function(e){throw new aJ(e)})},e}(),e}(),aX=function(){function e(){this.baseUrl="",this.appendSlash=!0,this.interceptors=[]}return e.prototype.addInterceptor=function(e){this.interceptors.push(e)},e.prototype.$get=function(e,t){var n=this.interceptors.map(function(t){return"string"==typeof t?e.get(t):t});return new aZ(t,this.baseUrl,"",this.appendSlash,n)},e.prototype.$get.$inject=["$injector","$http"],e}(),a0=eZ().module("common.apiclient",[]).provider("anonymousApiClient",aX).name,a1=function(){function e(){this.storage={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.storage).length},enumerable:!1,configurable:!0}),e.prototype.setItem=function(e,t){this.storage[e]=t},e.prototype.getItem=function(e){var t=this.storage[e];return null!=t?t:null},e.prototype.removeItem=function(e){delete this.storage[e]},e.prototype.clear=function(){this.storage={}},e.prototype.key=function(e){var t=Object.keys(this.storage)[e];return void 0===t?null:t},e}();function a2(e,t){try{var n=e[t];if(!n)return!1;var r="____foo";n.setItem(r,1),n.getItem(r),n.removeItem(r)}catch(e){return!1}return!0}function a3(e){return a2(e,"localStorage")?e.localStorage:new a1}function a4(e){return a2(e,"sessionStorage")?e.sessionStorage:new a1}a3.$inject=["$window"],a4.$inject=["$window"];var a5=function(){function e(e){this.ttl=e,this.storage={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.storage).length},enumerable:!1,configurable:!0}),e.prototype.removeItem=function(e){delete this.storage[e]},e.prototype.clear=function(){this.storage={}},e.prototype.setItem=function(e,t){var n=this;this.storage[e]=t,setTimeout(function(){n.removeItem(e)},this.ttl)},e.prototype.getItem=function(e){var t=this.storage[e];return null!=t?t:null},e.prototype.key=function(e){var t=Object.keys(this.storage)[e];return void 0===t?null:t},e}(),a6=function(){function e(){this.ttl=3e5}return e.prototype.$get=function(){return new a5(this.ttl)},e}(),a8=eZ().module("ravkav.common.storage",[]).factory("LocalStorage",a3).factory("SessionStorage",a4).provider("workflowStorage",a6).name,a7=function(){function e(e,t,n,r,a){this.$http=e,this.$q=t,this.tokenStorage=n,this.authenticationService=r,this.$injector=a}return e.$inject=["$http","$q","tokenStorage","authenticationService","$injector"],e.prototype.intercept=function(e){var t=this;return this.authenticateRequest(e.request()).then(function(n){return e.proceed(n).catch(function(e){return t.authenticateResponse(e)})})},e.prototype.authenticateRequest=function(e){var t=this,n=this.tokenStorage.getAccessToken(),r=this.tokenStorage.getRefreshToken();return(n?this.$q.resolve(n):r?this.authenticationService.refreshTokens().then(function(){return t.tokenStorage.getAccessToken()},function(e){throw e&&e.data&&(401===e.data.status||403===e.data.status)&&t.$injector.get("userService").logout(!0),e}):this.$q.resolve(null)).then(function(t){return t&&(e.headers=eI(eI({},e.headers),{Authorization:"Bearer "+t})),e})},e.prototype.authenticateResponse=function(e){var t=this,n=e.data;if(!(401===n.status||403===n.status&&n.data&&["invalid_token","expired_token"].indexOf(n.data.detail)>-1))throw e;return this.authenticationService.refreshTokens().then(function(){return t.authenticateRequest(n.config).then(function(e){return t.$http(e)})},function(n){throw n&&n.data&&n.data.status>0&&t.$injector.get("userService").logout(!0),e})},e}(),a9=function(){function e(){}return e.prototype.$get=function(e,t){return e.withInterceptor(t)},e.prototype.$get.$inject=["anonymousApiClient","authenticationInterceptor"],e}(),ie=eZ().module("ravkav.useraccount",[a0,a8]).provider("tokenStorage",rQ).service("authenticationService",rJ).service("authenticationExtService",rZ).service("authenticationInterceptor",a7).service("userService",r2).service("userRavkavCardService",r6).service("addressService",ae).provider("apiClient",a9).name,it=function(){function e(e,t){this.debugMode=t,this.client=new r7(e.withBasePath("/api/registration/"))}return e.prototype.register=function(e,t,n,r,a){return this.client.post("register",{email:e,first_name:t,last_name:n,password:r,recaptcha_response:a})},e.prototype.activate=function(e,t){return this.client.post("activate",{uid:e,token:t})},e.prototype.resendActivation=function(e){return this.client.post("resend-activation",{email:e})},e.prototype.requestResetPassword=function(e){return this.client.post("password/reset",{username:e})},e.prototype.resetPassword=function(e,t,n){return this.client.post("password/reset/confirm",{uid:e,token:t,new_password:n})},e.prototype.setPassword=function(e,t){return this.client.post("password",{current_password:e,new_password:t})},e}(),ir=function(){function e(){this.debugMode=!1}return e.prototype.$get=function(e){return new it(e,this.debugMode)},e.prototype.$get.$inject=["apiClient"],e}(),ia=nP.createContext(null);ia.displayName="RegistrationServiceContext";var ii=eZ().module("ravkav.registration",[a0,ie]).provider("registrationService",ir).name,io="ravkav.analytics",is=function(){function e(e){this.client=new r7(e.withBasePath("/api/ravkav/train/"))}return e.$inject=["anonymousApiClient"],e.prototype.findTariff=function(e,t,n,r){return this.client.get("find-tariff",{params:{customer_profile:n.join(","),origin_train_station:e,destination_train_station:t,ett:r}})},e}(),ic=nP.createContext(null);ic.displayName="TrainServiceContext";var il=eZ().module("ravkav.ravkav",[ie,a0]).service("contractGroupService",nV).service("ravkavDataService",n4).service("trainService",is).filter("customerProfile",rz).name,iu=n(70),id=n.n(iu),ip=function(){function e(e,t,n,r,a){this.etts=e,this.code=t,this.validityPeriodType=n,this.odm=r,this.hasPermittedForAnonymous=a}return e.prototype.equals=function(e){return this.etts.length===e.length&&this.etts.every(function(t){return e.indexOf(t)>-1})},e}(),im=new ip([60,61,62,63,64,65,66,67],"ettChoice.storedValue",H.Unlimited,K.NotUsed,!0),ih=new ip([20],"ettChoice.monthly",H.MonthlyFlexible,K.NotUsed,!1),iv=new ip([22],"ettChoice.daily",H.Flexible,K.NotUsed,!0),ig=new ip([10],"ettChoice.singleRide",H.Unlimited,K.NotUsed,!0),iy=new ip([23],"ettChoice.semesterB",H.Fixed,K.NotUsed,!1),ib=new ip([24],"ettChoice.semesterA",H.Fixed,K.NotUsed,!1),i_=new ip([25],"ettChoice.yearly",H.Fixed,K.NotUsed,!1),iE=new ip([23,24,25,11,12,13,14,15,16,17,70,71,72,73],"ettChoice.others",null,K.NotUsed,!0),iw=new ip([41,42],"ettChoice.freeCertificate",null,K.NotUsed,!0),iS=new ip([10,15,20,21,71],"ettChoice.train",null,K.NotUsed,!0),iC=function(){function e(e,t,n){this.size=e,this.storageKey=t,this.storage=n}return e.prototype._get=function(){var e=this.storage.getItem(this.storageKey);return null!==e?JSON.parse(e):[]},e.prototype.get=function(){return this._get().slice(0,this.size)},e.prototype.add=function(e){var t=eF([e],this._get().filter(function(t){return JSON.stringify(t)!==JSON.stringify(e)}),!0).slice(0,this.size);return this.storage.setItem(this.storageKey,JSON.stringify(t)),t},e}(),ik=nP.createContext(null);ik.displayName="LocalStorageContext";var i$=nP.createContext(null);i$.displayName="SessionStorageContext";var iA=nP.createContext(null);function ix(e,t){var n=[Y._15km,Y._40km,Y._75km,Y._120km,Y._225km,Y.unlimited];return n.indexOf(e)-n.indexOf(t)}iA.displayName="WorkflowStorageContext";var iT=function(){function e(e,t,n){this.capacity=e,this.storageKey=t,this.storage=n,this.init()}return e.prototype.init=function(){this.lru=new iC(this.capacity,this.storageKey,this.storage),this.items={}},e.prototype.removeAll=function(){this.init()},e.prototype.get=function(e){return e in this.items?this.items[e]:null},e.prototype.put=function(e,t){this.lru.add(e),this.items[e]=t;for(var n=this.lru.get(),r=0,a=Object.keys(this.items);r<a.length;r++){var i=a[r];-1===n.indexOf(i)&&delete this.items[i]}},e}(),iN=function(){function e(e,t){var n=this;this.contractGroupService=e,this.ravkavDataService=t,this.compareContractGroupsPrice=function(e,t){var n,r;return(null!==(n=e.price)&&void 0!==n?n:-1)-(null!==(r=t.price)&&void 0!==r?r:-1)},this.compareContractGroupsRelevancy=function(e,t){var r=e8(e.predefined_contract.metropolins,n2),a=e8(t.predefined_contract.metropolins,n2);if(r!==a)return void 0===r?1:n2(a)-n2(r);if(e.vat_status===W.Exempt&&t.vat_status===W.Exempt);else{if(e.vat_status===W.Exempt)return 1;if(t.vat_status===W.Exempt)return -1}if(null!==e.distance_range&&null!==t.distance_range){var i=ix(e.distance_range,t.distance_range);if(0!==i)return i}return n.compareContractGroupsPrice(e,t)};var r=new a5(12e4);this.cache=new iT(5,"ravkav-search.contracts",r)}return e.$inject=["contractGroupService","ravkavDataService"],e.prototype.clear=function(){this.cache.removeAll()},e.prototype.findSimilarTrainStations=function(e){var t=this;if(!this.trainStationsFuse){var n=Object.keys(this.ravkavDataService.TrainStation).map(function(e){return t.ravkavDataService.TrainStation[e]});this.trainStationsFuse=new(id())(n,{shouldSort:!0,tokenize:!1,matchAllTokens:!0,threshold:.3,distance:100,maxPatternLength:32,findAllMatches:!0,keys:["name"]})}return this.trainStationsFuse.search(e)},e.prototype.findSimilarSettlements=function(e){var t=this;if(!this.settlementsFuse){var n=Object.keys(this.ravkavDataService.Settlement).map(function(e){return t.ravkavDataService.Settlement[e].name});this.settlementsFuse=new(id())(n,{shouldSort:!0,tokenize:!1,matchAllTokens:!0,threshold:.3,distance:100,maxPatternLength:32,findAllMatches:!0})}return this.settlementsFuse.search(e).map(function(e){return t.settlementsFuse.list[e]})},e.prototype.findSettlementsByName=function(e){var t=this;return Object.keys(this.ravkavDataService.Settlement).map(function(e){return t.ravkavDataService.Settlement[e]}).filter(function(t){return e.indexOf(t.name)>-1})},e.prototype.getServerContractGroups=function(e){var t=JSON.stringify(e.toServerQuery()),n=this.cache.get(t);if(null!==n)return n;var r=this.contractGroupService.getList(e.toServerQuery());return this.cache.put(t,r),r},e.prototype.search=function(e){var t=this;return this.getServerContractGroups(e).then(function(n){var r,a,i=n.slice(),o=[];if(void 0!==e.modesOfTransport&&e.modesOfTransport.length>0&&(i=i.filter(function(t){if(null===t.modes_of_transport)return!0;for(var n=0,r=e.modesOfTransport;n<r.length;n++){var a=r[n];if(-1===t.modes_of_transport.indexOf(a))return!1}return!0})),0===e.terms.length?(r=null,a=null):0==(r=function(e){for(var t=0,n=0;n<e.length;n++)for(var r=e[n],a=0;a<e.length;a++){var i=e[a];r!==i&&(t=Math.max(t,function(e,t){var n=e.lat*Math.PI/180,r=t.lat*Math.PI/180,a=(t.lat-e.lat)*Math.PI/180,i=(t.lon-e.lon)*Math.PI/180,o=Math.sin(a/2)*Math.sin(a/2)+Math.cos(n)*Math.cos(r)*Math.sin(i/2)*Math.sin(i/2);return 6371e3*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}(r,i)))}return t}((a=t.findSettlementsByName(e.terms)).map(function(e){return{lat:e.lat,lon:e.lon}}))/1e3)&&(r=15),null!==r&&(i=i.filter(function(e){if(null===e.distance_range)return!0;switch(e.distance_range){case Y._15km:return r<=15;case Y._40km:return r<=40;case Y._75km:return r<=75;case Y._120km:return r<=120;case Y._225km:return r<=225;case Y.unlimited:return!0;default:te(e.distance_range)}})),null!==a&&a.length>0){for(var s=Object.keys(t.ravkavDataService.ReformArea),c=[],l=0,u=a;l<u.length;l++)for(var d=u[l],p=0;p<s.length;p++){var m=s[p],f=t.ravkavDataService.ReformArea[m],h=parseInt(m,10);if(f.settlements.indexOf(d.id)>-1){-1===c.indexOf(h)&&c.push(h);break}}c.length>0&&(i=i.filter(function(e){return e.isActiveInReformAreas(c)}),o=c.map(function(e){return t.ravkavDataService.ReformArea[e].metropolin}))}return i=i.filter(function(t){return(!e.canBeSold||!!t.can_be_sold)&&(!e.reformAreas.length||!!t.isActiveInReformAreas(e.reformAreas))}),im.equals(e.ett)||null!==a?i.sort(t.compareContractGroupsPrice):i.sort(t.compareContractGroupsRelevancy),[i,{maxDistance:r,metropolins:o.filter(function(e,t,n){return n.indexOf(e)===t})}]})},e}(),iP=function(){function e(){}return e.prototype.$get=function(e,t){return new iN(e,t)},e.prototype.$get.$inject=["contractGroupService","ravkavDataService"],e}(),iR=nP.createContext(null);iR.displayName="SearchServiceContext";var iL=eZ().module("ravkav.search",[io,il]).provider("searchService",iP).name,iD=eZ().module("ravkav.common.i18n",[]).provider("i18n",rq).service("i18nInterceptor",rM).filter("t",rB).name,iI=Error("unsupported");(w=ed||(ed={}))[w.CardDiscovered=1]="CardDiscovered",w[w.ExecuteFinished=2]="ExecuteFinished",w[w.NfcTurnedOn=3]="NfcTurnedOn",w[w.NfcTurnedOff=4]="NfcTurnedOff",w[w.CardDiscoveryError=5]="CardDiscoveryError",w[w.CardRemoved=6]="CardRemoved",(S=ep||(ep={}))[S.Off=0]="Off",S[S.On=1]="On",S[S.NoAdapter=2]="NoAdapter";var iO={finish_status:"FAILED",retry_enabled:!1,cause:1090,cause_args:[],result:null},iF=function(){function e(e,t,n){var r=this;this.$q=e,this.$injector=t,this.getAlertMessage=n,this.name="plugin-mobile",this.nfcCallback=function(e){switch(e[0]){case ed.CardDiscovered:r.pendingDiscovery&&(r.pendingDiscovery.resolve(),r.pendingDiscovery=void 0);break;case ed.ExecuteFinished:var t={finish_status:e[1],retry_enabled:e[2],cause:e[3],cause_args:e[4],result:e[5]};r.pendingExecution&&(r.pendingExecution.resolve(t),r.pendingExecution=void 0);break;case ed.CardDiscoveryError:var n={finish_status:e[1],retry_enabled:e[2],cause:e[3],cause_args:e[4],result:e[5]};r.pendingDiscovery&&(r.pendingDiscovery.reject(n),r.pendingDiscovery=void 0)}},this.handlerPromise=new this.$q(function(e,t){document.addEventListener("deviceready",function(){var n;try{n=new window.RavKavHandler}catch(e){t(e)}try{n.setNfcCallback(r.nfcCallback)}catch(e){}e(n)})})}return e.prototype.isNfcEnabled=function(){var e=this;return this.handlerPromise.then(function(t){return new e.$q(function(e,n){t.isNfcEnabled(function(t){switch(t){case ep.On:e(!0);break;case ep.Off:e(!1);break;case ep.NoAdapter:n(Error("no-nfc"));break;default:n(Error("unrecognized-nfc-status"))}},n)})})},e.prototype.enableNfc=function(){var e=this;return this.handlerPromise.then(function(t){return new e.$q(function(e,n){t.enableNfc(e,n)})})},e.prototype.discover=function(e){var t=this;return this.handlerPromise.then(function(n){var r=ap(t.$q);if(e.requested)return r.reject(iO),r.promise;t.pendingDiscovery&&(t.pendingDiscovery.reject(Error("replaced")),t.pendingDiscovery=void 0),t.pendingDiscovery=r;var a=e.register(function(){t.pendingDiscovery===r&&(n.setCardDiscovery(!1),t.pendingDiscovery=void 0),r.reject(iO)});return n.setCardDiscovery(!0,function(){},r.reject,{presenceCheckDelay:3e3,alertMessage:t.getAlertMessage(t.$injector)}),r.promise.finally(a.unregister)})},e.prototype.execute=function(e,t){var n=this;return this.handlerPromise.then(function(r){var a=ap(n.$q);return t.requested?(a.reject(iO),a.promise):n.pendingExecution?(a.reject({finish_status:"FAILED",retry_enabled:!1,cause:1091,cause_args:[],result:null}),a.promise):(n.pendingExecution=a,r.execAsync(e,function(){},a.reject),a.promise)})},e.prototype.readRecords=function(e,t){var n=this;return this.handlerPromise.then(function(r){var a=ap(n.$q);return e.requested?(a.reject(iO),a.promise):r.readRecords?(r.readRecords(function(e){"progress"===e.type?void 0!==t&&t(e.progress):"success"===e.type?a.resolve({finish_status:"SUCCESS",retry_enabled:!1,cause:0,cause_args:[],result:{card_serial_number:e.card_serial_number,card_records:e.card_records}}):"failure"===e.type&&a.resolve({finish_status:"FAILED",retry_enabled:!0,cause:e.cause,cause_args:[],result:null})},function(e){a.reject(e)}),a.promise):(a.reject(iI),a.promise)})},e}(),iq=function(){function e(){this.getAlertMessage=null}return e.prototype.$get=function(e,t){if(null===this.getAlertMessage)throw Error("A method for getting alert message wasn't provided");return new iF(e,t,this.getAlertMessage)},e.prototype.$get.$inject=["$q","$injector"],e}(),iM=eZ().module("ravkav.sdk.mobile",[iD]).provider("ravkavSdkService",iq).name,iB=function(){function e(e){this.apiClient=e}return e.prototype.post=function(e,t){return this.apiClient.post(e,t,{transformRequest:function(e){return e},headers:{"Content-Type":void 0}})},e}(),iV=[".pdf",".png",".jpg",".jpeg"],iU=["application/pdf","image/png","image/jpeg"],ij=/[\x00-\x1F\x7F-\x9F]\/\\/g;function iH(e,t){if(!(!(!t.name||ij.test(t.name))&&!(t.name.length>80)))return{data:null,error:"invalid_file_name"};if(!function(e,t,n){if(0>e.name.indexOf("."))return!1;var r=e.name.split(".").pop();return!(!r||0>t.indexOf("."+r.toLowerCase())||0>n.indexOf(e.type))}(t,iV,iU))return{data:null,error:"invalid_file_type"};if(!(1024<=t.size&&t.size<=10485760))return{data:null,error:"invalid_file_size"};var n=new FormData;return n.append("document",t,t.name),n.append("tag",e),{data:n,error:null}}function iz(e){return function(t){var n=t.size,r=void 0===n?1:n,a=t4(null);return t3(function(){a.current.style.fontSize="".concat(r,"em")},[r]),nP.createElement("span",{ref:a,dangerouslySetInnerHTML:{__html:e},className:"pctr-icon"})}}var iK=iz('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx=12 cy=13 r=4 /></svg>');function iW(e){var t=e.onChange,n=eO(e,["onChange"]);return nP.createElement("input",eI({type:"file",multiple:!1,onChange:function(e){null!==e.currentTarget.files&&0!==e.currentTarget.files.length&&t(e.currentTarget.files[0])}},n))}var iG=iz('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" fill=currentColor><path d="m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"/></svg>'),iY='<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2><line x1=18 y1=6 x2=6 y2=18 /><line x1=6 y1=6 x2=18 y2=18 /></svg>',iQ=iz(iY),iJ=iz('<svg viewBox="0 0 66 66"><g><animateTransform attributeName=transform type=rotate values="0 33 33;270 33 33" begin=0s dur=1.4s fill=freeze repeatCount=indefinite /><circle fill=none stroke=currentColor stroke-width=6 stroke-linecap=round cx=33 cy=33 r=30 stroke-dasharray=187 stroke-dashoffset=610><animateTransform attributeName=transform type=rotate values="0 33 33;135 33 33;450 33 33" begin=0s dur=1.4s fill=freeze repeatCount=indefinite /><animate attributeName=stroke-dashoffset values=187;46.75;187 begin=0s dur=1.4s fill=freeze repeatCount=indefinite /></circle></g></svg>');function iZ(e){var t=e.state,n=e.onSnap,r=e.onConfirm,a=e.onReject;return null===t.snappedData?nP.createElement("button",{onClick:n,className:"videoinput__action videoinput__action--snap"}):nP.createElement(nP.Fragment,null,nP.createElement("button",{onClick:r,className:"videoinput__action videoinput__action--confirm"},nP.createElement(iG,null)),nP.createElement("button",{onClick:a,className:"videoinput__action"},nP.createElement(iQ,null)))}function iX(e){var t=e.outputDimensions,n=e.onImageSnapped,r=e.fileName,a=e.children,i=t0({status:"ready"}),o=i[0],s=i[1],c=t4(null);switch(o.status){case"ready":return a(function(){s({status:"open",loading:!0,snappedData:null}),navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(e){null!==c.current&&(c.current.srcObject=e,c.current.addEventListener("loadeddata",function(){null!==c.current&&(c.current.play(),s({status:"open",loading:!1,snappedData:null}))}))},function(e){throw e})});case"open":return nP.createPortal(nP.createElement("div",{className:"videoinput"},nP.createElement("div",{className:"pctr-backdrop pctr-backdrop--active",onClick:function(){return s({status:"ready"})}}),nP.createElement("section",{className:"pctr-popup pctr-popup--active"},nP.createElement("div",{className:"pctr-popup__body"},nP.createElement("div",{className:"videoinput__body"},nP.createElement("video",{ref:c}),null!==o.snappedData&&nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"videoinput__video-overlay"}),nP.createElement("img",{src:o.snappedData.imageSrc,ref:function(e){null!==e&&null!==o.snappedData&&(void 0===t?(e.style.left="0%",e.style.top="0%",e.style.width="100%"):o.snappedData.cropRatio>1?(e.style.left="0%",e.style.top="50%",e.style.transform="translateY(-50%)",e.style.width="100%"):(e.style.left="50%",e.style.top="0%",e.style.transform="translateX(-50%)",e.style.height="100%"))}})),o.loading?nP.createElement("div",{className:"t--light flex flex--justify-center"},nP.createElement(iJ,null)):nP.createElement("div",{className:"videoinput__actions-container"},nP.createElement(iZ,{state:o,onSnap:function(){if(null!==c.current){var e=c.current,n=e.videoWidth,a=e.videoHeight,i=null!=t?t:{},o=i.width,l=i.height,u=(void 0===o?n:o)/(void 0===l?a:l),d=n,p=a;n/a>u?d=p*u:p=d/u;var m=(n-d)/2,f=(a-p)/2,h=document.createElement("canvas");h.width=d,h.height=p,h.getContext("2d").drawImage(c.current,m,f,d,p,0,0,d,p),h.toBlob(function(e){null!==e&&(void 0===t?Promise.resolve(e):new Promise(function(n){var r=new Image;r.src=URL.createObjectURL(e),r.onload=function(){var e=document.createElement("canvas"),a=e.getContext("2d");e.width=t.width,e.height=t.height,a.drawImage(r,0,0,t.width,t.height),e.toBlob(function(e){return n(e)})}})).then(function(e){s({status:"open",loading:!1,snappedData:{cropRatio:u,file:new File([e],r,{type:"image/jpeg"}),imageSrc:h.toDataURL("image/jpeg")}})},function(){})})}},onConfirm:function(){null!==o.snappedData&&(n(o.snappedData.file),s({status:"ready"}))},onReject:function(){return s({status:"open",loading:!1,snappedData:null})}})))))),document.body);default:te(o)}}var i0=["No Image Selected",20,"has no access to camera"];function i1(e){var t=e.docIndex,n=e.onFileChanged,r=rU().t,a=t0(!1),i=a[0],o=a[1],s="".concat(r("picture"),"-").concat(t+1,".jpg");return(t2(function(){try{navigator.mediaDevices.enumerateDevices().then(function(e){var t=e.filter(function(e){return"videoinput"===e.kind});o(t.length>0)},function(){})}catch(e){}},[]),void 0!==window.navigator.camera)?nP.createElement("button",{className:"file-upload-container__action",onClick:function(){window.navigator.camera.getPicture(function(e){for(var t=atob(e),r=t.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=t.charCodeAt(i);n(new File([a],s,{type:"image/jpeg"}))},function(e){if(-1===i0.indexOf(e)){var t=Error("Camera error");throw t.name=e,t}},{quality:40,destinationType:Camera.DestinationType.DATA_URL,correctOrientation:!0})}},nP.createElement(iK,null)):i?nP.createElement(iX,{fileName:s,onImageSnapped:n},function(e){return nP.createElement("button",{className:"file-upload-container__action",onClick:e},nP.createElement(iK,null))}):nP.createElement("label",{className:"file-upload-container__action"},nP.createElement(iK,null),nP.createElement(iW,{accept:"image/*",onChange:n}))}var i2="unknown",i3=function(e){function t(t){var n=e.call(this,t)||this;return n.tag=t.tag,n}return eD(t,e),t}(function(e){this.uid=e.uid,this.name=e.name,this.created=new Date(e.created)}),i4=function(){function e(e){this.uid=e.uid,this.profile_loading_type=e.profile_loading_type,this.state=e.state,this.isReadyToSubmit=e.is_ready_to_submit,this.quickApprovalStatus=e.quick_approval_status,this.reason=e.reason,this.created=new Date(e.created),this.contractId=e.contract,this.contractGroupId=e.contract_group,this.requiredDocumentTags=e.required_document_tags,this.documents=e.documents.map(function(e){return new i3(e)}),this.institution=e.institution,this.primaryProfileManualEndDate=e.primary_profile_manual_end_date?nI.fromIso(e.primary_profile_manual_end_date):null,this.secondaryProfileManualEndDate=e.secondary_profile_manual_end_date?nI.fromIso(e.secondary_profile_manual_end_date):null}return e.prototype.canAbort=function(){return"PENDING_APPROVAL"===this.state||"ISSUED"===this.state||"APPROVED"===this.state},e.prototype.uploadedRequiredDocuments=function(){var e=this.documents.map(function(e){return e.tag});return this.requiredDocumentTags.every(function(t){return e.indexOf(t)>=0})},e}(),i5=function(){function e(e,t){var n=this;this.$q=t,this.createOrRaise=function(e){var t=e.data?new i4(e.data):null;return null===e.error?n.$q.resolve(t):n.$q.reject({obj:t,error:e.error})},this.client=e.withBasePath("/api/profile-loading/"),this.profileLoadingTypesClient=e.withBasePath("/api/profile-loading-types/"),this.formDataClient=new iB(this.client)}return e.$inject=["apiClient","$q"],e.prototype.issue=function(e,t,n){return this.client.post("issue",{profile_loading_type:e,card_serial_number:t,card_birth_date:null==n?void 0:n.toIso()}).then(this.createOrRaise)},e.prototype.abort=function(e){return this.client.post("".concat(e.uid,"/abort")).then(this.createOrRaise)},e.prototype.chooseContract=function(e,t,n,r,a){return this.client.post("".concat(e.uid,"/choose-contract"),{contract_id:t,start_date:n?n.toIso():null,price:r,counter_value:a}).then(this.createOrRaise)},e.prototype.getProfileLoadingType=function(e){return this.profileLoadingTypesClient.get("".concat(e))},e.prototype.setInstitution=function(e,t){return this.client.post("".concat(e.uid,"/set-institution"),{institution_id:t.id}).then(this.createOrRaise)},e.prototype.applyQuickApproval=function(e,t,n,r,a,i){return this.client.post("".concat(e.uid,"/apply-quick-approval"),{first_name:t,last_name:n,personal_id:r,ravkav_id_number:a,ravkav_id_type:i}).then(this.createOrRaise)},e.prototype.uploadDocument=function(e,t,n){var r=iH(t,n),a=r.data,i=r.error;return null!==i?this.createOrRaise({data:null,error:i}):this.formDataClient.post("".concat(e.uid,"/upload-document"),a).then(this.createOrRaise)},e.prototype.deleteDocument=function(e,t){return this.client.post("".concat(e.uid,"/delete-document"),{document_uid:t}).then(this.createOrRaise)},e.prototype.submit=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),this.client.post("".concat(e.uid,"/submit"),{primary_profile_manual_end_date:null===t?null:t.toIso(),secondary_profile_manual_end_date:null===n?null:n.toIso()}).then(this.createOrRaise)},e.prototype.issueTransaction=function(e){return this.client.post("".concat(e.uid,"/issue-transaction")).then(function(e){if(e.error)throw e;return e.data})},e.prototype.get=function(e){return this.client.get("".concat(e)).then(this.createOrRaise)},e}(),i6=nP.createContext(null);i6.displayName="ProfileLoadingServiceContext";var i8=eZ().module("ravkav.perso",[iD,ie]).service("profileLoadingService",i5).name,i7=eZ().module("ravkav.transaction",[ie,iD,a0]).service("transactionService",aq).service("storedValueConversionService",aV).service("billingSummaryService",aH).name,i9=eZ().module("ravkav.organizations",[]).service("memberService",as).service("enrollmentService",au).name,oe=function(){function e(e){this.$q=e,this.name="No Printer",this.hasPrinter=!1}return e.$inject=["$q"],e.isSupported=function(){return!0},e.prototype.getStatus=function(){return this.$q.reject()},e.prototype.print=function(e){return this.$q.reject()},e}(),ot=function(){function e(e){this.printerBackend=e}return e.$inject=["printerBackend"],e.prototype.print=function(e){return this.printerBackend.print(e)},e.prototype.getPrinterName=function(){return this.printerBackend.name},e.prototype.getPrinterStatus=function(){return this.printerBackend.getStatus()},Object.defineProperty(e.prototype,"hasPrinter",{get:function(){return this.printerBackend.hasPrinter},enumerable:!1,configurable:!0}),e}(),on=function(){function e(){this.backendFactory=oe}return e.prototype.$get=function(e){var t=e.instantiate(this.backendFactory);return new ot(t)},e.prototype.$get.$inject=["$injector"],e}(),or=nP.createContext(null);or.displayName="PrinterServiceContext";var oa=eZ().module("ravkav.printer",[]).provider("printerService",on).name;function oi(){var e=window.crypto||window.msCrypto;return e&&e.getRandomValues&&e.getRandomValues(new Uint8Array(1))?"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(t){var n=e.getRandomValues(new Uint8Array(1))[0],r=parseInt(t,10);return(r^n&15>>r/4).toString(16)}):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)})}var oo=function(){function e(e,t,n,r,a,i){this.name="cordova",this.analyticsPromise=new e(function(e,i){!function o(s){var c;if(t.ga)c=t.ga;else if(t.analytics)c=t.analytics;else if(s>=r){i(Error("analytics-max-attempts"));return}else{n(o,a,!1,s+1);return}try{c.trackEvent("analytics","check","old-sdk",1),e(c)}catch(e){i(Error("Old Cordova Analytics plugin is not supported."))}}(0)}),i&&this.analyticsPromise.then(function(e){e.debugMode()},function(){})}return e.prototype.startTrackerWithId=function(e){this.analyticsPromise.then(function(t){t.startTrackerWithId(e)},function(){})},e.prototype.setAppInfo=function(e,t,n){},e.prototype.trackView=function(e){this.analyticsPromise.then(function(t){t.trackView(e)},function(){})},e.prototype.trackEvent=function(e,t,n,r){this.analyticsPromise.then(function(a){a.trackEvent(e,t,n,r)},function(){})},e.prototype.trackTiming=function(e,t,n,r){this.analyticsPromise.then(function(a){a.trackTiming(e,t,n,r)},function(){})},e.prototype.setUserId=function(e){this.analyticsPromise.then(function(t){t.setUserId(e)},function(){})},e.prototype.setDimension=function(e,t){this.analyticsPromise.then(function(n){n.addCustomDimension(e,t)},function(){})},e.prototype.setDeviceCapability=function(e){this.setDimension(1,e)},e.prototype.setSoftwareVersion=function(e){this.setDimension(2,e)},e.prototype.setUILanguage=function(e){this.setDimension(3,e)},e}(),os=function(){function e(e,t,n,r,a,i,o){var s=this;this.$q=e,this.$window=t,this.clientIdStorage=r,this.name="google-analytics",t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=+new Date;var c=o?"https://www.google-analytics.com/analytics_debug.js":"https://www.google-analytics.com/analytics.js",l=function(e){s.loadScript(c).then(function(){},function(t){e>=a||n(l,i,!1,e+1)})};l(0)}return e.prototype.loadScript=function(e){return new this.$q(function(t,n){var r=document.createElement("script");r.src=e,document.head.appendChild(r),r.addEventListener("load",t),r.addEventListener("error",function(e){n(e)})})},e.prototype.ga=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$window.ga.apply(this,e)},e.prototype.getClientId=function(){var e=this.clientIdStorage.getItem("analytics-client-id");return null===e&&(e=oi(),this.clientIdStorage.setItem("analytics-client-id",e)),e},e.prototype.startTrackerWithId=function(e){var t=this.getClientId();this.ga("create",e,{storage:"none",clientId:t,storeGac:!1}),this.ga("set","checkProtocolTask",null)},e.prototype.setAppInfo=function(e,t,n){this.ga("set","appName",e),this.ga("set","appId",t),this.ga("set","appVersion",n)},e.prototype.trackView=function(e){this.ga("set","page",e),this.ga("send","screenview",{screenName:e})},e.prototype.trackEvent=function(e,t,n,r){this.ga("send","event",{eventCategory:e,eventAction:t,eventLabel:n,eventValue:r})},e.prototype.trackTiming=function(e,t,n,r){this.ga("send","timing",{timingCategory:e,timingVar:n,timingLabel:r,timingValue:t})},e.prototype.setUserId=function(e){this.ga("set","userId",e)},e.prototype.setDimension=function(e,t){this.ga("set","dimension".concat(e),t)},e.prototype.setDeviceCapability=function(e){this.setDimension(1,e)},e.prototype.setSoftwareVersion=function(e){this.setDimension(2,e)},e.prototype.setUILanguage=function(e){this.setDimension(3,e)},e}(),oc=function(){function e(){this.maxAttempts=30,this.delay=2e3,this.debugMode=!1}return e.prototype.$get=function(e,t,n,r){return"analytics"in t?new oo(e,t,n,this.maxAttempts,this.delay,this.debugMode):new os(e,t,n,r,this.maxAttempts,this.delay,this.debugMode)},e.prototype.$get.$inject=["$q","$window","$timeout","LocalStorage"],e}(),ol=eZ().module(io,[]).provider("analyticsService",oc).name,ou=function(){function e(e,t){this.$q=e,this.$document=t}return e.prototype.loadScript=function(e,t){void 0===t&&(t=!0);var n=this.$document.createElement("script");return n.src=e,n.defer=t,this.$document.head.appendChild(n),new this.$q(function(e,t){n.addEventListener("load",function(){return e()}),n.addEventListener("error",function(e){return t(e)})})},e.prototype.loadStyle=function(e){var t=this.$document.createElement("link");return t.rel="stylesheet",t.href=e,this.$document.head.appendChild(t),new this.$q(function(e,n){t.addEventListener("load",function(){return e()}),t.addEventListener("error",function(e){return n(e)})})},e.prototype.preconnectToOrigin=function(e){var t="preconnect-".concat(e),n=this.$document.getElementById(t);null!==n&&null!==n.parentElement&&n.parentElement.removeChild(n);var r=this.$document.createElement("link");r.rel="preconnect",r.href=e,r.id=t,this.$document.head.appendChild(r)},e}(),od=function(){function e(){}return e.prototype.$get=function(e,t){return new ou(e,t[0])},e.prototype.$get.$inject=["$q","$document"],e}(),op=eZ().module("ravkav.common.load-script",[]).provider("loadScriptService",od).name,om=eZ().module("ravkav.payment",[a0,op]).service("balanceService",ax).service("buyaService",aR).service("creditCardService",a$).name,of=function(){function e(e){this.client=new r7(e.withBasePath("/api/card-validity-extension/"))}return e.$inject=["apiClient"],e.prototype.create=function(e,t,n){return this.client.post("create",{card_serial:e,end_date:t.toIso(),new_end_date:n.toIso()})},e.prototype.abort=function(e){return this.client.post("".concat(e,"/abort"))},e.prototype.getApprovalPrintJob=function(e){return this.client.get("".concat(e,"/card-validity-extension-approval"),{headers:{Accept:"application/x-ravkav-printer"}})},e}(),oh=nP.createContext(null);oh.displayName="CardValidityExtensionServiceContext";var ov=eZ().module("ravkav.card-validity-extension",[]).service("cardValidityExtensionService",of).name,og=eZ().module("ravkav.identify",[i7,il,a0]).provider("cardService",aw).name;function oy(e){var t=e("date");return function(e){return"string"==typeof e&&(e=nI.fromIso(e)),e instanceof nI&&(e=e.toLocal()),t(e,"dd/MM/yyyy")}}oy.$inject=["$filter"];var ob=eZ().module("ravkav.common.filters",[]).filter("defaultDate",oy).name,o_=function(){function e(e,t){void 0===t&&(t=1/0),this.getPromise=e,this.ttl=t,this.cache=null}return e.prototype.hasExpired=function(e){return null!==this.cache&&e.getTime()-this.cache.refreshedAt>this.ttl},e.prototype.get=function(e,t){var n=this;return void 0===t&&(t={}),this.hasExpired(e)&&this.clear(),null!==this.cache&&!function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(t,this.cache.args)&&this.clear(),null===this.cache&&(this.cache={promise:this.getPromise(t).catch(function(e){throw n.clear(),e}),args:t,refreshedAt:e.getTime()}),this.cache.promise},e.prototype.clear=function(){this.cache=null},e}(),oE=function(){function e(e){this.uid=e.uid,this.lat=e.lat,this.lon=e.lon,this.city=e.city,this.address=e.address,this.activity_hours=e.activity_hours,this.operating_company=e.operating_company,this.comments=e.comments,this.attributes=e.attributes,this.reform_area=e.reform_area,this.remote_id=e.remote_id}return Object.defineProperty(e.prototype,"displayName",{get:function(){var e="";return null!==this.remote_id&&(e+="".concat(this.remote_id)),""!==this.address&&(e+=e?": ".concat(this.address):this.address),""!==this.city&&(e+=e?", ".concat(this.city):this.city),e},enumerable:!1,configurable:!0}),e.prototype.hasAttribute=function(e){return this.attributes.indexOf(e)>-1},e.prototype.getMarkerColor=function(){return this.hasAttribute("ravkav_services")?"green":this.hasAttribute("manned")||this.hasAttribute("sells_ravkav_reader")?"black":"blue"},e}(),ow=function(e){for(var t=[],n=[],r=0,a=e.results;r<a.length;r++){var i=a[r];t.push(new oE(i.service_station)),n.push(i.distance)}this.serviceStations=t,this.distances=n,this.query=e.query},oS=function(){function e(e){var t=this;this.client=new r7(e.withBasePath("/api/pos/service-station/")),this.serviceStationCache=new o_(function(e){var n=e.uid;return t.client.get("".concat(n)).then(function(e){return new oE(e)})},864e5),this.ownServiceStationsCache=new o_(function(){return t.client.get("own").then(function(e){return e.map(function(e){return new oE(e)})})})}return e.$inject=["apiClient"],e.prototype.search=function(e,t,n){var r={lat:e,lon:t,attributes:n?n.join(","):void 0};return this.client.get("search",{params:r}).then(function(e){return new ow(e)})},e.prototype.get=function(e,t){return this.serviceStationCache.get(e,{uid:t})},e.prototype.own=function(e){return this.ownServiceStationsCache.get(e)},e.prototype.guess=function(){return this.client.post("guess",{}).then(function(e){return e.service_station_uid})},e.prototype.createForRemoteId=function(e){return this.client.post("create-for-remote-id",{remote_id:e}).then(function(e){return new oE(e)})},e}(),oC=nP.createContext(null);oC.displayName="ServiceStationServiceContext",(C=em||(em={})).AssociatedWithPosDevice="associated_with_pos_device",C.XRavkavServiceStation="x_ravkav_service_station";var ok=function(){function e(e){this.client=new r7(e.withBasePath("/api/pos/operator/"))}return e.$inject=["apiClient"],e.prototype.own=function(){return this.client.get("own").then(function(e){return eI(eI({},e),{device_service_station:null===e.device_service_station?null:new oE(e.device_service_station)})})},e}(),o$=eZ().module("ravkav.pos",[ie]).service("serviceStationService",oS).service("posOperatorService",ok).name,oA={bindings:{name:"@",size:"@?",inline:"<?"},controller:function(){function e(e,t){this.$element=e,this.$templateCache=t}return e.$inject=["$element","$templateCache"],e.prototype.$postLink=function(){var e={},t=this.$templateCache.get("".concat(this.name,".svg")),n=parseFloat(this.size)||1;e.fontSize="".concat(n,"em"),this.inline&&(e.position="relative",e.top="0.125em"),this.$element.html(t).css(e)},e}()},ox=eZ().module("ravkav.common.svg",[]).component("svgIcon",oA).name;function oT(e){return"".concat(e.type,"_").concat(e.id)}var oN="notification",oP=function(){function e(e){this.LocalStorage=e}return e.$inject=["LocalStorage"],e.prototype.getDismissed=function(){var e=this.LocalStorage.getItem(oN);return e?JSON.parse(e):{}},e.prototype.setDismissed=function(e){this.LocalStorage.setItem(oN,JSON.stringify(e))},e.prototype.dismiss=function(e){var t=this.getDismissed();t[oT(e)]=new Date().getTime(),this.setDismissed(t)},e.prototype.isDismissed=function(e){var t=this.getDismissed();return oT(e) in t},e.prototype.clearDismissed=function(){this.LocalStorage.removeItem(oN)},e}(),oR=function(){function e(e,t){this.$scope=e,this.notificationService=t}return e.$inject=["$scope","notificationService"],e.prototype.$onInit=function(){this.isDismissed=this.notificationService.isDismissed(this.notification)},e.prototype.dismiss=function(){this.notificationService.dismiss(this.notification),this.isDismissed=!0,this.$scope.$apply()},e}(),oL=eZ().module("ravkav.common.notifications",[a8]).service("notificationService",oP).directive("notification",function(){return{transclude:!0,template:'<ng-transclude ng-if="!notification.isDismissed" role="alert"></ng-transclude>',scope:{notification:"<"},bindToController:!0,controllerAs:"notification",controller:oR}}).name,oD=nP.createContext(null);oD.displayName="NotificationServiceContext";var oI="redirect.next",oO=function(){function e(e){this.LocalStorage=e}return e.$inject=["LocalStorage"],e.prototype.save=function(e,t){this.LocalStorage.setItem(oI,JSON.stringify({pathname:e,state:t}))},e.prototype.restore=function(){var e=this.LocalStorage.getItem(oI);if(this.LocalStorage.removeItem(oI),null===e)return null;var t=JSON.parse(e);return void 0===t.pathname?null:t},e}(),oF=eZ().module("ravkav.common.redirect",["ui.router",a8]).service("redirectService",oO).name;nP.createContext(null).displayName="RedirectServiceContext";var oq=function(){function e(e,t,n){var r=this;this.$window=e,this.$rootScope=t,this.offlineClassName=n,this.onOnline=new rX,this.onOffline=new rX,this.handleOnline=function(){var e=function(){r.$window.document.body.classList.remove(r.offlineClassName),r.onOnline.emit()};null!==r.$rootScope?r.$rootScope.$apply(function(){return e()}):e()},this.handleOffline=function(){var e=function(){r.$window.document.body.classList.add(r.offlineClassName),r.onOffline.emit()};null!==r.$rootScope?r.$rootScope.$apply(function(){return e()}):e()},this.refresh=function(){r.isOnline()?r.handleOnline():r.handleOffline()}}return e.prototype.isOnline=function(){return navigator.connection?"none"!==navigator.connection.type:navigator.onLine},e.prototype.register=function(){this.refresh(),this.$window.addEventListener("online",this.handleOnline,!0),this.$window.addEventListener("offline",this.handleOffline,!0),this.$window.document.addEventListener("resume",this.refresh)},e}(),oM=function(){function e(){this.offlineClassName="offline"}return e.prototype.$get=function(e,t){return new oq(e,t,this.offlineClassName)},e.prototype.$get.$inject=["$window","$rootScope"],e}(),oB=eZ().module("ravkav.common.offline",[]).provider("offlineService",oM).name,oV=function(){function e(e){this.parts=e}return e.parse=function(t){try{var n=t.split(".");if(3!==n.length)return null;for(var r=n.map(function(e){return parseInt(e,10)}),a=0;a<r.length;a++){var i=r[a];if(isNaN(i))return null}return new e(r)}catch(e){return null}},e.prototype.equal=function(e){for(var t=0;t<3;t++)if(this.parts[t]!==e.parts[t])return!1;return!0},e.prototype.lessThan=function(e){for(var t=0;t<3&&!(this.parts[t]>e.parts[t]);t++)if(this.parts[t]<e.parts[t])return!0;return!1},e}(),oU=function(){function e(e,t,n,r,a){this.$window=e,this.$q=t,this.LocalStorage=n,this.unsupportedVersions=r,this.appleMobileAppId=a,this.d=null,this.$window.cordova?this.versionsPromise=t.all([this.$window.cordova.getAppVersion.getVersionNumber(),this.$window.cordova.getAppVersion.getPackageName()]).then(function(e){var t=e[0];return{appId:e[1],appVersion:t}}):this.versionsPromise=t.resolve({appId:"",appVersion:""})}return e.prototype.isUnsupported=function(e){return this.unsupportedVersions.indexOf(e.appVersion)>=0},e.prototype.getVersions=function(){return this.versionsPromise},e.prototype.getPlayStoreLink=function(){return this.getVersions().then(function(e){return"market://details?id=".concat(e.appId)})},e.prototype.getAppStoreLink=function(){return this.$q.resolve("itms-apps://itunes.apple.com/app/id".concat(this.appleMobileAppId))},e.prototype.updateRemoteResources=function(){this.$window.location.reload()},e.prototype.clearUserMessages=function(){for(var e="seenMessage",t=0,n=Object.keys(this.LocalStorage);t<n.length;t++){var r=n[t];r.substring(0,e.length)===e&&this.LocalStorage.removeItem(r)}},e.prototype.getD=function(){if(this.d)return this.d;if(window.device&&window.device.uuid){var e=window.device.uuid.replace("-","");if(e.match(/[a-fA-F0-9]{16,32}/))return e=e5(e,"0",32),this.d=e,this.d}var t=this.LocalStorage.getItem("d");if(t)return this.d=t,t;var n=oi().replace(/-/g,"");return this.LocalStorage.setItem("d",n),n},e}(),oj=function(){function e(){this.unsupportedVersions=[],this.appleMobileAppId=""}return e.prototype.$get=function(e,t,n){return new oU(e,t,n,this.unsupportedVersions,this.appleMobileAppId)},e.prototype.$get.$inject=["$window","$q","LocalStorage"],e}(),oH=function(){function e(e,t){this.versionService=e,this.softwareName=t}return e.$inject=["versionService","softwareName"],e.prototype.intercept=function(e){var t=this,n=e.request();return this.versionService.getVersions().then(function(e){var r=t.versionService.getD();n.headers=eI(eI({},n.headers),{"X-Ravkav-Version":"sw=".concat(t.softwareName," id=").concat(e.appId," version=").concat(e.appVersion," d=").concat(r)})},function(){}).then(function(){return e.proceed(n)})},e}(),oz=eZ().module("ravkav.common.versions",[a8]).provider("versionService",oj).service("versionInterceptor",oH).name,oK=function(){function e(e,t,n,r){var a=this;this.idleService=e,this.$timeout=t,this.ms=r,this.onTimeout=function(){var e=a.idleService.getTimeSinceLastInteraction();e>=a.ms?a.defer.resolve():a.currentTimeout=a.$timeout(a.onTimeout,a.ms-e)},this.defer=ap(n),this.currentTimeout=this.$timeout(this.onTimeout,this.ms)}return e.$inject=["idleService","$timeout","$q","ms"],e.prototype.getPromise=function(){return this.defer.promise},e.prototype.cancel=function(){this.$timeout.cancel(this.currentTimeout),this.defer.reject()},e}(),oW=function(){function e(e,t,n){var r=this;this.$document=e,this.$timeout=t,this.$q=n,this.markInteraction(),this.$document.on("touchstart click",function(){return r.markInteraction()})}return e.$inject=["$document","$timeout","$q"],e.prototype.markInteraction=function(){this.lastInteraction=new Date},e.prototype.getTimeSinceLastInteraction=function(){return new Date().getTime()-this.lastInteraction.getTime()},e.prototype.createWatch=function(e){return new oK(this,this.$timeout,this.$q,e)},e}(),oG=eZ().module("ravkav.common.idle",[]).service("idleService",oW).name,oY=nP.createContext(null);oY.displayName="IdleServiceContext";var oQ="timeout",oJ=function(){function e(e,t,n,r){var a=this;this.$q=e,this.$timeout=t,this.isSupported()&&n&&navigator.geolocation.watchPosition(function(e){a.setPosition(e)},void 0,{timeout:r,enableHighAccuracy:!0}),this.getCurrentPositionCachedPromise=new o_(function(e){var t=e.timeout,n=e.maxAge;return new a.$q(function(e,r){navigator.geolocation.getCurrentPosition(function(t){a.setPosition(t),e(t)},function(e){var t;switch(e.code){case 1:t="permission_denied";break;case 2:t="position_unavailable";break;case 3:t=oQ;break;default:t="unknown"}r(t)},{timeout:t,enableHighAccuracy:!0,maximumAge:n})})})}return e.prototype.isSupported=function(){return!!navigator.geolocation},e.prototype.setPosition=function(e){this.lastPosition=e},e.prototype.getCurrentPosition=function(e,t,n){var r=this;return this.getCurrentPositionCachedPromise.get(e,{timeout:t,maxAge:n}).finally(function(){return r.getCurrentPositionCachedPromise.clear()})},e.prototype.getLocation=function(e,t,n){var r,a=this;if(!this.isSupported())return this.$q.reject(Error("unsupported"));if(void 0!==this.lastPosition){var i=Math.max(0,e.getTime()-this.lastPosition.timestamp);if(0===n);else if(i<n)return i/n>.8&&this.getCurrentPosition(e,5e3,0).then(function(){}).catch(function(){}),this.$q.resolve(this.lastPosition)}return r=null===this.$timeout?new this.$q(function(e,n){setTimeout(function(){return n(oQ)},t)}):this.$timeout(function(){return a.$q.reject(oQ)},t),this.$q.race([this.getCurrentPosition(e,Math.max(t,5e3),n),r])},e}(),oZ=function(){function e(){this.watch=!1,this.watchTimeout=5e3}return e.prototype.$get=function(e,t){return new oJ(e,t,this.watch,this.watchTimeout)},e.prototype.$get.$inject=["$q","$timeout"],e}(),oX=function(){function e(e){this.locationService=e}return e.$inject=["locationService"],e.prototype.intercept=function(e){var t=e.request();return"POST"===t.method&&void 0!==t.data&&t.data instanceof FormData?e.proceed(t):this.locationService.getLocation(new Date,0,36e6).then(function(n){return t.headers=eI(eI({},t.headers),{"X-Ravkav-Location":"".concat(n.coords.latitude,",").concat(n.coords.longitude)}),e.proceed(t)},function(){return e.proceed(t)})},e}(),o0=eZ().module("ravkav.common.location",[]).provider("locationService",oZ).service("locationInterceptor",oX).name;function o1(){"app"in window.navigator&&window.navigator.app.exitApp()}nP.createContext(null).displayName="LocationServiceContext";var o2=eZ().module("ravkav.common.cordova",[]).directive("exitApp",function(){return{link:function(e,t){t.on("click",function(){return o1()})}}}).name;function o3(e){return{restrict:"A",link:function(t,n,r){e(function(){(""===r.autofocus||t.$eval(r.autofocus))&&n[0].focus()})}}}o3.$inject=["$timeout"];var o4=eZ().module("ravkav.common.a11y",[]).directive("autofocus",o3).name,o5=function(){function e(e,t,n){this.$q=e,this.$rootScope=t,this.onBackButton=n,this.popups=[],this.activePopup=null}return e.prototype.register=function(e){if(-1!==this.popups.indexOf(e))throw Error('Popup with id "'.concat(e,'" is already registered.'));this.popups.push(e)},e.prototype.unregister=function(e){this.popups=this.popups.filter(function(t){return t!==e})},e.prototype.show=function(e){var t=this;if(-1===this.popups.indexOf(e))throw Error('Popup with id "'.concat(e,'" is not registered.'));if(null!==this.activePopup){if(e===this.activePopup.id)return this.activePopup.deferred.promise;this.hide(this.activePopup.id,null)}var n=this.onBackButton(function(){t.hide(e,null),t.$rootScope.$apply()});return this.activePopup={id:e,deferred:ap(this.$q),unsubscribeFromBackButton:n},this.activePopup.deferred.promise},e.prototype.hide=function(e,t){void 0===t&&(t=null),null!==this.activePopup&&e===this.activePopup.id&&(this.activePopup.unsubscribeFromBackButton(),this.activePopup.deferred.resolve(t),this.activePopup=null)},e.prototype.isShown=function(e){return null!==this.activePopup&&e===this.activePopup.id},e}(),o6={bindings:{id:"@",headerTitle:"@",headerText:"@?",dontHidePopupOnBackdropClick:"<?"},transclude:!0,controller:function(){function e(e,t){this.popupService=e,this.$element=t}return e.$inject=["popupService","$element"],e.prototype.$onInit=function(){this.popupService.register(this.id);var e=this.$element[0];document.body.appendChild(e)},e.prototype.$onDestroy=function(){this.popupService.unregister(this.id),this.$element.remove()},e.prototype.onBackdropClick=function(){this.dontHidePopupOnBackdropClick||this.hide(void 0)},e.prototype.hide=function(e){this.popupService.hide(this.id,e)},e.prototype.isShown=function(){return this.popupService.isShown(this.id)},e}()},o8=function(){function e(){this.getOnBackButtonFunction=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return document.addEventListener("backbutton",e),function(){document.removeEventListener("backbutton",e)}}}}return e.prototype.$get=function(e,t,n){return new o5(e,n,t.invoke(this.getOnBackButtonFunction))},e.prototype.$get.$inject=["$q","$injector","$rootScope"],e}(),o7=eI(eI({},o6),{template:"<div ng-click=$ctrl.onBackdropClick() ng-class=\"{'pctr-backdrop--active': $ctrl.isShown()}\" class=pctr-backdrop></div><section ng-class=\"{'pctr-popup--active': $ctrl.isShown()}\" class=pctr-popup><div class=pctr-popup__container><header class=pctr-popup__header><h3 class=pctr-popup__header-title>{{ $ctrl.headerTitle }}</h3><span ng-if=!!$ctrl.headerText class=pctr-popup__header-text>{{ $ctrl.headerText }}</span></header><main ng-if=$ctrl.isShown() ng-transclude class=pctr-popup__body></main></div></section>"}),o9=eI(eI({},o6),{template:"<div ng-class=\"{'pctr-backdrop--active': $ctrl.isShown()}\" class=pctr-backdrop></div><section ng-class=\"{'pctr-modal--active': $ctrl.isShown()}\" class=pctr-modal><header class=pctr-modal__header><button ng-click=$ctrl.hide() class=pctr-modal__hide-button><svg-icon name=close size=1.5></svg-icon></button><h1 class=pctr-modal__header-title>{{ $ctrl.headerTitle }}</h1></header><main ng-if=$ctrl.isShown() ng-transclude class=pctr-modal__body></main></section>"}),se=eZ().module("ravkav.common.popup",[]).provider("popupService",o8).component("pctrModal",o9).component("pctrPopup",o7).directive("pctrPopupDismiss",function(){return{require:"^pctrPopup",scope:{pctrPopupDismiss:"<"},link:function(e,t,n,r){t.on("click",function(t){t.preventDefault(),r.hide(e.pctrPopupDismiss),e.$apply()})}}}).name,st=function(){function e(e,t,n,r){this.$rootScope=e,this.$location=t,this.$state=n,this.$timeout=r}return e.$inject=["$rootScope","$location","$state","$timeout"],e.prototype.push=function(e,t){var n,r=this;if(void 0===t&&(t=!1),"string"==typeof e){var a=e.split("?"),i=a[0],o=a[1];n={pathname:i,search:o}}else{if(void 0!==e.key)throw Error("Key is not supported");if(void 0!==e.hash)throw Error("Hash is not supported");if(void 0===e.search){var s=e.pathname.split("?"),i=s[0],o=s[1];n=eI(eI({},e),{pathname:i,search:o})}else n=e}if(void 0!==n.state){var c=function(e,t){for(var n=0,r=t.get();n<r.length;n++){var a=r[n];if(void 0!==a.$$state){var i=a.$$state();if(void 0!==i.url){var o=i.url.exec(e);if(o)return[a,o]}}}return null}(n.pathname,this.$state);if(null===c)throw Error('Could not find state matching URL "'.concat(n.pathname,'"'));var l={};t&&(l.location="replace");var u=c[0],d=c[1],p=void 0!==n.search?e7(n.search):{};this.$timeout(function(){r.$state.go(u,eI(eI(eI({},d),p),n.state),l)},0)}else{var m=n.pathname+(n.search?"?".concat(n.search):"");this.$location.url(m),t&&this.$location.replace(),this.$timeout(function(){r.$rootScope.$apply()},0)}},e}(),sn=eZ().module("ravkav.common.history",[]).config(["$stateProvider",function(e){e.decorator("parent",function(e,t){return e.self.$$state=function(){return e},t(e)})}]).service("historyService",st).name,sr=nP.createContext(null);function sa(){return nR(sr)}function si(e){var t=e.to,n=e.replace,r=void 0!==n&&n,a=e.children,i=eO(e,["to","replace","children"]),o=sa();return nP.createElement("a",eI({href:function(e){if("string"==typeof e)return e;var t=e.pathname;if(void 0!==e.search&&(t+="?".concat(e.search)),void 0!==e.key)throw Error("Key is not supported");if(void 0!==e.hash)throw Error("Hash is not supported");return t}(t),onClick:function(e){e.preventDefault(),o.push(t,r)}},i),a)}function so(e,t,n,r){var a=e.split("#"),i=a[0],o=a[1];return"".concat(r,"/").concat(n).concat(i).concat(null===t?"":"?utm_source=".concat(t)).concat(void 0!==o?"#".concat(o):"")}function ss(e,t){return{link:function(n,r,a){var i=so(a.href,e.utmSource,t.language,e.baseUrl);a.$set("href",i)}}}sr.displayName="HistoryServiceContext",ss.$inject=["websiteLinkConfig","i18n"];var sc=function(){function e(){this.utmSource=null,this.baseUrl=""}return e.prototype.$get=function(){return this},e}(),sl=eZ().module("ravkav.common.website-link",[]).provider("websiteLinkConfig",sc).directive("websiteLink",ss).name,su=function(){function e(e,t,n){var r=this;this.$window=e,this.$q=n,this.lastIntentData=this.parseIntentData(null),this.setUpListeners(),t.on("resume",function(){return r.setUpListeners()})}return e.$inject=["$window","$document","$q"],e.prototype.setUpListeners=function(){var e=this,t=this.$window.plugins?this.$window.plugins.intentShim:null;t?(t.getIntent(function(t){return e.setIntentData(t.data)},function(){}),t.onIntent(function(t){return e.setIntentData(t.data)},function(){})):this.setIntentData(this.$window.location.href)},e.prototype.setIntentData=function(e){this.lastIntentData=this.parseIntentData(e)},e.prototype.parseIntentData=function(e){var t=e?e7(e):{},n={};if(void 0!==t.close_message&&(n.closeMessage=decodeURIComponent(t.close_message)),void 0!==t.close_after_idle_seconds){var r=parseInt(t.close_after_idle_seconds,10);isNaN(r)||(n.closeAfterIdleSeconds=r)}return n},e.prototype.getIntentData=function(){return this.lastIntentData},e.prototype.startActivityForResult=function(e){var t,n=null===(t=this.$window.plugins)||void 0===t?void 0:t.intentShim;return n?new this.$q(function(t,r){n.startActivityForResult(e,function(e){t(e)},function(e){r(e)})}):this.$q.reject(Error("intent plugin not available"))},e.prototype.packageExists=function(e){var t,n=null===(t=this.$window.plugins)||void 0===t?void 0:t.intentShim;return n?n.packageExists?new this.$q(function(t){n.packageExists(e,t)}):this.$q.reject(Error("intent plugin packageExists not available")):this.$q.reject(Error("intent plugin not available"))},e}(),sd=eZ().module("ravkav.common.intent",[]).service("intentService",su).name,sp=nP.createContext(null);sp.displayName="IntentServiceContext",(k=ef||(ef={})).Details="details",k.Track2OrEmv="track2_or_emv",k.UserChoice="user_choice",($=eh||(eh={})).OnDemand="on_demand",$.Automatic="automatic",$.Disabled="disabled",$.Unset="unset",(A=ev||(ev={})).Yes="yes",A.No="no",A.ShowWithLink="show_with_link",A.Unset="unset",(x=eg||(eg={})).Yes="yes",x.No="no",x.Unset="unset",(T=ey||(ey={})).Yes="yes",T.No="no",T.Unset="unset",(N=eb||(eb={})).Yes="yes",N.No="no",N.Unset="unset";var sm=function(){function e(e,t,n){this.defaultClientPreferences=e,this.localStorage=t,this.intentService=n,this.KEY="clientPreferences"}return e.$inject=["defaultClientPreferences","localStorage","intentService"],e.prototype.updateClientPreferences=function(e){var t=this.localStorage.getItem(this.KEY);this.localStorage.setItem(this.KEY,JSON.stringify(eI(eI({},t?JSON.parse(t):{}),e)))},e.prototype.getClientPreferences=function(){var e=this.localStorage.getItem(this.KEY),t=this.intentService.getIntentData();return eI(eI(eI({},this.defaultClientPreferences),t),e?JSON.parse(e):{})},e}(),sf=function(){function e(){this.defaultClientPreferences={closeMessage:null,closeAfterIdleSeconds:null,preferredCreditCardDetailsType:null,serviceStationUid:null,alertOnBalanceBelow:null,printMode:eh.Unset,showQr:ev.Unset,showAnnouncements:eg.Unset,allowLanguageChange:ey.Unset,preferredLanguage:"he",allowUploadingFilesFromFileSystem:eb.Unset}}return e.prototype.$get=function(e,t){return new sm(this.defaultClientPreferences,e,t)},e.prototype.$get.$inject=["LocalStorage","intentService"],e}(),sh=eZ().module("ravkav.common.client_preferences",[a8,sd]).provider("clientPreferencesService",sf).name,sv=nP.createContext(null);function sg(){return nR(sv)}sv.displayName="ClientPreferencesServiceContext";var sy=function(){function e(e){this.$q=e}return e.$inject=["$q"],e.prototype.setDiscovery=function(e){return new this.$q(function(t,n){var r=e0();r?r.setMagneticDiscovery(e,t,n):t()})},e}(),sb=eZ().module("ravkav.common.magnetic",[]).service("magneticService",sy).name,s_=nP.createContext(null);function sE(){var e=window.device;return null!=e?e:null}s_.displayName="MagneticServiceContext";var sw=function(){function e(){}return e.prototype.intercept=function(e){var t=e.request(),n=sE();return null!==n&&n.serial&&(t.headers=eI(eI({},t.headers),{"X-Ravkav-Device":n.serial})),e.proceed(t)},e}(),sS=function(){function e(e){this.clientPreferencesService=e}return e.$inject=["clientPreferencesService"],e.prototype.intercept=function(e){var t=e.request(),n=this.clientPreferencesService.getClientPreferences().serviceStationUid;return null!==n&&(t.headers=eI(eI({},t.headers),{"X-Ravkav-Service-Station":n})),e.proceed(t)},e}(),sC=nP.createContext(null);function sk(){return nR(sC)}sC.displayName="AnalyticsServiceContext";var s$=nP.createContext(null);s$.displayName="AngularLocationServiceContext";var sA=function(){function e(e,t,n){this.$element=e,this.$scope=t,this.$timeout=n,this.previousProps=null,this.isDestroyed=!1}return e.prototype.$onChanges=function(e){for(var t,n=this,r={},a=0,i=Object.keys(e);a<i.length;a++)!function(t){var a=e[t].currentValue;r[t]="function"==typeof a?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.$timeout(function(){return n.$scope.$apply()},0),a.apply(void 0,e)}:a}(i[a]);var o=eI(eI({},null!==(t=this.previousProps)&&void 0!==t?t:{}),r);this.previousProps=o,this.render(o)},e.prototype.render=function(e){this.isDestroyed||nP.render(this.getComponentWithContext(e),this.$element[0])},e.prototype.$onDestroy=function(){this.isDestroyed=!0,nP.unmountComponentAtNode(this.$element[0])},e}(),sx=[{id:0,endDate:null}],sT=function(){function e(e,t,n,r,a,i,o,s,c,l,u,d,p){this.canBeSold=e,this.ett=t,this.validityPeriodType=n,this.isAnonymous=r,this.forProfile=a,this.profileLoadingType=i,this.metropolin=o,this.reformAreas=s,this.terms=c,this.operators=l,this.originStation=u,this.destinationStation=d,this.modesOfTransport=p}return e.fromForProfileQuery=function(e){var t=nH(e);if(void 0!==t)return t.map(function(e){var t=e.split(":"),n=t[0],r=t[1];return{id:parseInt(n,10),endDate:r?nI.fromIso(r):null}})},e.toForProfileQuery=function(e){if(void 0!==e)return e.map(function(e){return null!==e.endDate?"".concat(e.id,":").concat(e.endDate.toIso()):e.id.toString()}).join(",")},e.prototype.toQueryParams=function(){return{canBeSold:nY(this.canBeSold),ett:nz(this.ett),vpt:this.validityPeriodType?this.validityPeriodType.toLowerCase():this.validityPeriodType,isAnonymous:nY(this.isAnonymous),forProfile:e.toForProfileQuery(this.forProfile),plt:nW(this.profileLoadingType),metropolin:nz(this.metropolin),reformAreas:nz(this.reformAreas),terms:nz(this.terms),operators:nz(this.operators),originStation:nW(this.originStation),destinationStation:nW(this.destinationStation),modesOfTransport:nz(this.modesOfTransport)}},e.createDefault=function(t,n,r){var a=r?r.getActiveCustomerProfiles().map(function(e){return{id:e.customer_profile,endDate:nI.fromIso(e.end_date)}}):[],i=a.length?a:sx;return new e(!1,t.etts,t.validityPeriodType,!!r&&r.is_anonymous,i,void 0,void 0,[],[],n,void 0,void 0,void 0)},e.fromQueryParams=function(t,n,r,a){var i,o=null!==(i=nj(n.ett))&&void 0!==i?i:[],s=r;if(n.forProfile){var c=e.fromForProfileQuery(n.forProfile);void 0!==c&&(s=c)}var l=nj(n.metropolin),u=nj(n.reformAreas)||[],d=nH(n.terms)||[],p=nH(n.modesOfTransport)||[];return new e(nJ(nG(n.canBeSold),!1),o,n.vpt?n.vpt.toUpperCase():null,nJ(nG(n.isAnonymous),a),s,nK(n.plt),l,u,d,t,nK(n.originStation),nK(n.destinationStation),p)},e.prototype.toServerQuery=function(){return{is_anonymous:nQ(this.isAnonymous),for_profile:e.toForProfileQuery(this.forProfile),ett:nz(this.ett),validity_period_type:this.validityPeriodType,profile_loading_type:nW(this.profileLoadingType),metropolin:nz(this.metropolin),operators:nz(this.operators)}},e.prototype.replace=function(t){return new e("canBeSold"in t?t.canBeSold:this.canBeSold,"ett"in t?t.ett:this.ett,"validityPeriodType"in t?t.validityPeriodType:this.validityPeriodType,"isAnonymous"in t?t.isAnonymous:this.isAnonymous,"forProfile"in t?t.forProfile:this.forProfile,"profileLoadingType"in t?t.profileLoadingType:this.profileLoadingType,"metropolin"in t?t.metropolin:this.metropolin,"reformAreas"in t?t.reformAreas:this.reformAreas,"terms"in t?t.terms:this.terms,"operators"in t?t.operators:this.operators,"originStation"in t?t.originStation:this.originStation,"destinationStation"in t?t.destinationStation:this.destinationStation,"modesOfTransport"in t?t.modesOfTransport:this.modesOfTransport)},e.prototype.isAnySet=function(e){for(var t=0;t<e.length;t++)if(this[e[t]])return!0;return!1},e}(),sN=nP.createContext(null);sN.displayName="ConfigContext";var sP=nP.createContext(null);sP.displayName="VersionServiceContext";var sR=nP.createContext(null);sR.displayName="LoadingServiceContext",(P=e_||(e_={})).CreditCard="credit_card",P.Cash="cash",(R=eE||(eE={})).MatchingHolderIdOrRavkav="matching_holder_id_or_ravkav",R.NotRequired="not_required",(L=ew||(ew={})).Encouraged="encouraged",L.Neutral="neutral",(D=eS||(eS={})).Anonymous="anonymous",D.SemiAnonymous="semi-anonymous",D.Personalized="personalized";var sL=function(){function e(e){this.uid=e.uid,this.cancellationRequestType=e.cancellation_request_type,this.approvedPayoutAmount=e.approved_payout_amount,this.preferredPayoutMethod=e.preferred_payout_method,this.payoutAmount=e.payout_amount,this.state=e.state,this.documents=e.documents.map(function(e){return new i3(e)}),this.requiredRavkavOwnershipDocuments=e.required_ravkav_ownership_documents,this.ravkavAnonymity=e.ravkav_anonymity,this.ravkavOwnerPersonalId=e.ravkav_owner_personal_id,this.paidToPersonalId=e.paid_to_personal_id,this.requiredPaidToDocuments=e.required_paid_to_documents,this.isReadyToSubmit=e.is_ready_to_submit,this.reason=e.reason}return e.prototype.canAbort=function(){return"ISSUED"===this.state||"PENDING_APPROVAL"===this.state||"APPROVED"===this.state},e.prototype.uploadedRequiredDocuments=function(e){var t=this.documents.map(function(e){return e.tag});return e.every(function(e){return t.indexOf(e)>=0})},e}(),sD=function(){function e(e){var t=e.withBasePath("/api/cancellation-request/");this.client=new r7(t),this.formDataClient=new iB(t)}return e.$inject=["apiClient"],e.prototype.request=function(e){return e.then(function(e){return{cancellationRequest:new sL(e.cancellation_request),action:e.action}})},e.prototype.get=function(e){return this.request(this.client.get(e))},e.prototype.issue=function(e){var t,n=e.cardSerialNumber,r=e.cardHolderId,a=e.cardBirthDate,i=e.cancellationRequestTypeId,o=e.contractNumber,s=e.contractOperator,c=e.customerProfile,l=e.ett,u=e.counterAssertion,d=e.predefinedContract,p=e.validityStartDate,m=e.validityEndDate;return this.request(this.client.post("issue",{card_serial_number:n.toString(),card_holder_id:r,card_birth_date:null!==(t=null==a?void 0:a.toIso())&&void 0!==t?t:null,cancellation_request_type:i,cancel_contract_number:o,cancel_contract_operator:s,cancel_contract_customer_profile:c,cancel_contract_ett:l,cancel_contract_counter_assertion:u,cancel_contract_predefined_contract:d,cancel_contract_validity_start_date:p,cancel_contract_validity_end_date:m}))},e.prototype.abort=function(e){return this.request(this.client.post("".concat(e,"/abort")))},e.prototype.setRavkavOwnerPersonalId=function(e,t){return this.request(this.client.post("".concat(e,"/set-ravkav-owner-personal-id"),{ravkav_owner_personal_id:t}))},e.prototype.uploadDocument=function(e,t,n){var r=iH(t,n),a=r.data,i=r.error;return null!==i?Promise.reject(new r8(i,{data:null,error:i})):this.formDataClient.post("".concat(e,"/upload-document"),a).then(function(e){if(e.error)throw new r8(e.error,e.data);return{cancellationRequest:new sL(e.data.cancellation_request),action:e.data.action}})},e.prototype.deleteDocument=function(e,t){return this.request(this.client.post("".concat(e,"/delete-document"),{document_uid:t}))},e.prototype.setPaidTo=function(e,t){return this.request(this.client.post("".concat(e,"/set-paid-to"),{paid_to_personal_id:t}))},e.prototype.setPaidToRavkavOwner=function(e){return this.request(this.client.post("".concat(e,"/set-paid-to-ravkav-owner")))},e.prototype.submit=function(e,t){return this.request(this.client.post("".concat(e,"/submit"),{visually_confirmed_documents:t}))},e.prototype.selectPayoutMethodCash=function(e){return this.request(this.client.post("".concat(e,"/select-payout-method-cash")))},e.prototype.selectPayoutMethodCreditCard=function(e,t){return this.request(this.client.post("".concat(e,"/select-payout-method-credit-card"),{credit_card_details_type:t}))},e.prototype.issueCancellationAction=function(e){return this.request(this.client.post("".concat(e,"/issue-cancel-contract")))},e.prototype.getCancellationRequestApprovalPrintJob=function(e){return this.client.get("".concat(e,"/approval"),{headers:{Accept:"application/x-ravkav-printer"}})},e.prototype.getAvailablePayoutMethods=function(){return this.client.get("get-available-payout-methods")},e}(),sI=nP.createContext(null);sI.displayName="CancellationRequestServiceContext";var sO=nP.createContext(null);sO.displayName="MobileRavkavSdkServiceContext";var sF=nP.createContext(null);sF.displayName="LoadScriptServiceContext";var sq=function(){function e(e,t){this.intentService=e,this.buyaMerchantId=t,this.cachedCheckReadiness=null}return e.$inject=["intentService","buyaMerchantId"],e.prototype.passToDevice=function(e){var t=e.intent;return this.intentService.startActivityForResult({action:t.action,data:t.data||void 0,type:t.type||void 0,flags:[t.flags],package:t.package||void 0,extras:t.extras})},e.prototype.checkReadiness=function(e){return void 0===e&&(e=!1),e&&(this.cachedCheckReadiness=null),null==this.cachedCheckReadiness&&(this.cachedCheckReadiness=this.intentService.startActivityForResult({action:"com.getbuya.action.CHECK_READINESS",flags:[65536],package:"com.getbuya.pos",extras:{merchant_id:this.buyaMerchantId}}).then(function(e){var t=e.extras.error;return{error:null!=t?JSON.parse(t):null}},function(e){return{error:{category:"client",code:"not_ready",message:null,should_retry:!1,data:null}}})),this.cachedCheckReadiness},e}(),sM=nP.createContext(null);function sB(e){var t=e.to,n=e.onLinkClicked,r=e.children,a=eO(e,["to","onLinkClicked","children"]);return nP.createElement("a",eI({href:t,onClick:function(e){var r,a;e.preventDefault(),void 0!==n&&n(),void 0!==(a=(r=window).RavKavPlugin)&&void 0!==a.openExternalLink?a.openExternalLink({url:t}):r.open(t,"_system")}},a),r)}sM.displayName="BuyaPosServiceContext";var sV=nP.createContext(null);function sU(e){var t,n,r=e.to,a=e.children,i=eO(e,["to","children"]),o=(t=rU().i18n,so(r,(n=nR(sV)).utmSource,t.language,n.baseUrl));return nP.createElement(sB,eI({to:o},i),a)}sV.displayName="WebsiteLinkConfigContext";var sj=function(){function e(e){this.client=new r7(e.withBasePath("/api/blacklist/"))}return e.$inject=["apiClient"],e.prototype.createCardInvalidation=function(e){return this.client.post("create",{card_serial:e})},e.prototype.abortCardInvalidation=function(e){return this.client.post("".concat(e,"/abort"))},e.prototype.getCardInvalidationPrintJob=function(e){return this.client.get("".concat(e,"/card-invalidation-approval"),{headers:{Accept:"application/x-ravkav-printer"}})},e}(),sH=nP.createContext(null);sH.displayName="BlacklistServiceContext";var sz=function(){function e(e){this.source=e}return Object.defineProperty(e.prototype,"requested",{get:function(){return this.source._requested},enumerable:!1,configurable:!0}),e.prototype.register=function(e){var t=this;return this.source._register(e),{unregister:function(){return t.source._unregister(e)}}},e}(),sK=function(){function e(){this.requested=!1,this.callbacks=[]}return Object.defineProperty(e.prototype,"token",{get:function(){return new sz(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this.requested=!0;for(var e=0,t=this.callbacks;e<t.length;e++){var n=t[e];try{n()}catch(e){setTimeout(function(){throw e},0)}}this.callbacks=[]},e.prototype._register=function(e){this._requested?e():this.callbacks.push(e)},e.prototype._unregister=function(e){for(var t=0;t<this.callbacks.length;t++)this.callbacks[t]===e&&(this.callbacks[t]=function(){})},Object.defineProperty(e.prototype,"_requested",{get:function(){return this.requested},enumerable:!1,configurable:!0}),e}();function sW(e,t){switch(t.type){case"execute_requested":if("pristine"===e.status||"error"===e.status)return{status:"waiting_for_card"};break;case"execute_started":if("waiting_for_card"===e.status)return{status:"executing"};break;case"execute_failed":if("executing"===e.status)return{status:"error",error:t.error};break;case"execute_succeeded":if("executing"===e.status)return{status:"success"};break;default:te(t)}return e}function sG(e,t){t.abortCardInvalidation(e).catch(function(){})}function sY(e,t,n,r,a,i,o,s){r({type:"execute_requested"});var c=n.loadContract(e,a.token),l=c[0],u=c[1];l.then(function(){return r({type:"execute_started"})}),u.then(function(){r({type:"execute_succeeded"}),i.trackEvent("scan","card_invalidation","0",1),n.clear(),s()},function(e){r({type:"execute_failed",error:e}),a.token.requested&&e.retry_enabled&&sG(t,o),i.trackEvent("scan","card_invalidation",e?e.cause:-1,1)})}var sQ=function(){function e(e){this.client=new r7(e.withBasePath("/api/shamash/enrollment/"))}return e.$inject=["apiClient"],e.prototype.request=function(e,t,n,r){return this.client.post("request",{card_serial_number:e.toString(),passenger_id_type:t,passenger_id:n,preferred_language:r})},e.prototype.get=function(e){return this.client.get("".concat(e))},e.prototype.issue=function(e){return this.client.post("".concat(e,"/issue"))},e.prototype.setAccount=function(e){return this.client.post("".concat(e,"/set-account"))},e}(),sJ=nP.createContext(null);sJ.displayName="ShamashEnrollmentServiceContext";var sZ=function(){function e(e){this.client=new r7(e.withBasePath("/api/shamash/local-account/"))}return e.$inject=["apiClient"],e.prototype.get=function(e){return this.client.get("".concat(e))},e.prototype.update=function(e,t,n,r){return this.client.post("".concat(e,"/update"),{passenger_id_type:t,passenger_id:n,preferred_language:r})},e}(),sX=nP.createContext(null);sX.displayName="ShamashLocalAccountServiceContext";var s0=function(){function e(e){this.client=new r7(e.withBasePath("/api/shamash/identify"))}return e.$inject=["apiClient"],e.prototype.identify=function(e,t){return this.client.post("",{card_serial_number:e.toString(),card_holder_id:t})},e}(),s1=nP.createContext(null);function s2(e){switch(e.error){case"unknown":return"shamashErrors.unknown";case"unavailable":return"shamashErrors.unavailable";case"not_found":return"shamashErrors.not_found";case"bad_request":return"shamashErrors.bad_request";case"location_required":return"shamashErrors.location_required";case"passenger_hash_incompatible":return"shamashErrors.passenger_hash_incompatible";default:return"shamashErrors.unexpected"}}function s3(e,t,n,r,a,i){n({type:"execute_requested"});var o=t.doExecute(e,r.token),s=o[0],c=o[1];s.then(function(){return n({type:"execute_started"})}),c.then(function(){n({type:"execute_succeeded"}),a.trackEvent("scan","local_account_enroll","0",1),t.clear(),i()},function(e){n({type:"execute_failed",error:e}),a.trackEvent("scan","local_account_enroll",e?e.cause:-1,1)})}function s4(e){return JSON.stringify(e)}function s5(e,t){var n,r,a;switch(t.type){case"field_value_changed":return eI(eI({},e),{values:eI(eI({},e.values),((n={})[t.name]=t.value,n))});case"field_error_changed":return eI(eI({},e),{errors:eI(eI({},e.errors),((r={})[t.name]=t.error,r))});case"field_touched":return eI(eI({},e),{touched:eI(eI({},e.touched),((a={})[t.name]=t.touched,a))});default:te(t)}}function s6(e,t,n){for(var r=t6(function(e,n){for(var r=0,a=t[e];r<a.length;r++){var i=(0,a[r])(n);if(null!==i)return i}return null},[t]),a={},i={},o=0,s=Object.keys(e);o<s.length;o++){var c=s[o];a[c]=r(c,e[c]),i[c]=!1}var l=t1(s5,{values:e,errors:a,touched:i}),u=l[0],d=l[1],p=t6(function(e,t){d({type:"field_error_changed",name:e,error:t})},[]),m=t6(function(e,t){d({type:"field_value_changed",name:e,value:t}),p(e,r(e,t))},[p,r]),f=function(e,t){d({type:"field_touched",name:e,touched:t})};return{values:u.values,errors:u.errors,touched:u.touched,handleChange:function(e){var t=e.target;m(t.name,function(e){switch(e.type){case"checkbox":return e.checked;case"text":case"tel":case"password":default:return e.value;case"radio":case"date":case"datetime":throw Error("Unhandled input type: ".concat(e.type))}}(t))},handleBlur:function(e){f(e.target.name,!0)},handleSubmit:function(e){e.preventDefault();for(var t=!1,a=0,i=Object.keys(u.values);a<i.length;a++){var o=i[a];f(o,!0);var s=r(o,u.values[o]);null!==s&&(t=!0,p(o,s))}t||n(u.values)},setFieldValue:m,setFieldError:p}}function s8(e){var t=e.onSubmit,n=e.children,r=eO(e,["onSubmit","children"]);return nP.createElement("form",eI({onSubmit:t,noValidate:!0,className:"form"},r),n)}function s7(e){var t=e.children,n=eO(e,["children"]);return nP.createElement("div",eI({className:"form__group"},n),t)}function s9(e){var t=e.message;return nP.createElement("div",{role:"alert",className:"form__error-message"},t)}s1.displayName="ShamashIdentifyServiceContext",nP.createPortal;var ce=/[A-Za-z- '"-]/g,ct=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;function cn(){var e=rU().t;return function(t){return ct.test(t)?null:e("messages.email")}}function cr(){var e=cn();return function(t){return -1!==t.indexOf("@")?e(t):null}}function ca(){var e=rU().t;return function(t){return""===t||!1===t||null===t?e("messages.required"):null}}function ci(e){var t=rU().t;return function(n){return n.length<e?t("messages.minlength"):null}}function co(e){var t=rU().t;return function(n){return n.length>e?t("messages.maxlength"):null}}var cs=/^[0-9]+$/;function cc(){var e=rU().t;return function(t){return cs.test(t)?null:e("messages.pattern")}}function cl(){var e=rU().t,t=ci(9),n=co(9),r=cc();return function(a){var i=t(a);if(null!==i)return i;var o=n(a);if(null!==o)return o;var s=r(a);return null!==s?s:!function(e){if(e.length<1)return!1;for(var t=[],n=0;n<e.length;n++){var r=parseInt(e[n],10);if(isNaN(r))return!1;t.push(r)}for(var a=t.pop(),i=0,o=!0,s=t.length-1;s>=0;s--){var c=t[s];o&&(c*=2),c>9&&(c-=9),i+=c,o=!o}return(i+a)%10==0}(a)?e("messages.israeliPersonalId"):null}}var cu=/^[0-9a-zA-Z]+$/;function cd(){var e=rU().t,t=ci(8),n=co(9);return function(r){var a=t(r);if(null!==a)return a;var i=n(r);return null!==i?i:cu.test(r)?null:e("messages.pattern")}}function cp(e){var t,n=e.initialPassengerIdType,r=e.initialPreferredLanguage,a=e.onSubmit,i=rU().t,o=ca(),s=cl(),c=cd(),l=s6({passengerIdType:n,passengerId:"",preferredLanguage:r},{passengerIdType:[],passengerId:[o],preferredLanguage:[]},function(e){var t=e.passengerIdType,n=e.passengerId,r=e.preferredLanguage;switch(t){case eC.NationalId:var i=s(n);if(null!==i){v("passengerId",i);return}break;case eC.Passport:var i=c(n);if(null!==i){v("passengerId",i);return}break;default:te(t)}a({passengerIdType:t,passengerId:n,preferredLanguage:r})}),u=l.values,d=l.touched,p=l.errors,m=l.handleChange,f=l.handleBlur,h=l.handleSubmit,v=l.setFieldError,g=l.setFieldValue;switch(u.passengerIdType){case eC.NationalId:t=nP.createElement("label",null,i("ravkavIssueRequest.personalId"),nP.createElement("input",{name:"passengerId",type:"tel",dir:"ltr",autoComplete:"off",value:u.passengerId,onChange:m,onBlur:f,maxLength:9,minLength:9,required:!0}));break;case eC.Passport:t=nP.createElement("label",null,i("ravkavIssueRequest.passport"),"\xa0",nP.createElement("span",{className:"t--small"},"(",i("ravkavIssueRequest.numbersLetters"),")"),nP.createElement("input",{name:"passengerId",type:"text",dir:"ltr",autoComplete:"off",value:u.passengerId,onChange:m,onBlur:f,maxLength:9,minLength:8,required:!0}));break;default:te(u.passengerIdType)}var y=nP.createElement(nP.Fragment,null,t,d.passengerId&&null!==p.passengerId&&nP.createElement(s9,{message:p.passengerId}));return{handleSubmit:h,passengerIdTypeField:nP.createElement("label",null,i("localAccount.passengerIdType"),nP.createElement("select",{name:"passengerIdType",onChange:function(e){g("passengerIdType",+e.currentTarget.value),v("passengerIdType",null)}},nP.createElement("option",{selected:u.passengerIdType===eC.NationalId,value:eC.NationalId},i("ravkavIssueRequest.personalId")),nP.createElement("option",{selected:u.passengerIdType===eC.Passport,value:eC.Passport},i("ravkavIssueRequest.passport")))),passengerIdField:y,preferredLanguageField:nP.createElement("label",null,i("localAccount.preferredLanguage"),nP.createElement("select",{name:"preferredLanguage",onChange:function(e){g("preferredLanguage",+e.currentTarget.value),v("preferredLanguage",null)}},nP.createElement("option",{selected:u.preferredLanguage===ek.Hebrew,value:ek.Hebrew},""),nP.createElement("option",{selected:u.preferredLanguage===ek.Arabic,value:ek.Arabic},""),nP.createElement("option",{selected:u.preferredLanguage===ek.English,value:ek.English},"English")))}}function cm(e,t){return{bindings:function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]="<";return t}(t||[]),controller:function(t){function n(e,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g,y,b,_,E,w,S,C,k,$,A,x,T,N,P,R,L,D,I,O,F,q,M,B,V,U,j,H,z,K,W,G,Y,Q){var J=t.call(this,G,Y,Q)||this;return J.$location=e,J.$log=n,J.i18n=r,J.analyticsService=a,J.printerService=i,J.transactionService=o,J.announcementService=s,J.registrationService=c,J.idleService=l,J.buyaService=u,J.historyService=d,J.cardService=p,J.ravkavDataService=m,J.searchService=f,J.notificationService=h,J.profileLoadingService=v,J.trainService=g,J.storedValueConversionService=y,J.memberService=b,J.enrollmentService=_,J.baseUrl=E,J.softwareVersion=w,J.softwareName=S,J.versionService=C,J.clientPreferencesService=k,J.balanceService=$,J.cardValidityExtensionService=A,J.userService=x,J.LocalStorage=T,J.SessionStorage=N,J.loadingService=P,J.buyaBaseUrl=R,J.billingSummaryService=L,J.contractGroupService=D,J.magneticService=I,J.apiClient=O,J.workflowStorage=F,J.ravkavSdkService=q,J.loadScriptService=M,J.serviceStationService=B,J.intentService=V,J.buyaPosService=U,J.websiteLinkConfig=j,J.blacklistService=H,J.shamashLocalAccountService=z,J.shamashIdentifyService=K,J.shamashEnrollmentService=W,J}return eD(n,t),n.$inject=["$location","$log","i18n","analyticsService","printerService","transactionService","announcementService","registrationService","idleService","buyaService","historyService","cardService","ravkavDataService","searchService","notificationService","profileLoadingService","trainService","storedValueConversionService","memberService","enrollmentService","baseUrl","softwareVersion","softwareName","versionService","clientPreferencesService","balanceService","cardValidityExtensionService","userService","LocalStorage","SessionStorage","loadingService","buyaBaseUrl","billingSummaryService","contractGroupService","magneticService","apiClient","workflowStorage","ravkavSdkService","loadScriptService","serviceStationService","intentService","buyaPosService","websiteLinkConfig","blacklistService","shamashLocalAccountService","shamashIdentifyService","shamashEnrollmentService","$element","$scope","$timeout"],n.prototype.getComponentWithContext=function(t){var n={softwareVersion:this.softwareVersion,softwareName:this.softwareName,baseUrl:this.baseUrl,buyaBaseUrl:this.buyaBaseUrl},r=new sD(this.apiClient);return tS(sN.Provider,{value:n},tS(sP.Provider,{value:this.versionService},tS(s$.Provider,{value:this.$location},tS(sv.Provider,{value:this.clientPreferencesService},tS(nL.Provider,{value:this.$log},tS(s_.Provider,{value:this.magneticService},tS(sC.Provider,{value:this.analyticsService},tS(ia.Provider,{value:this.registrationService},tS(sI.Provider,{value:r},tS(aM.Provider,{value:this.transactionService},tS(aT.Provider,{value:this.balanceService},tS(or.Provider,{value:this.printerService},tS(aG.Provider,{value:this.announcementService},tS(aL.Provider,{value:this.buyaService},tS(oY.Provider,{value:this.idleService},tS(sr.Provider,{value:this.historyService},tS(iR.Provider,{value:this.searchService},tS(n5.Provider,{value:this.ravkavDataService},tS(aS.Provider,{value:this.cardService},tS(oD.Provider,{value:this.notificationService},tS(sH.Provider,{value:this.blacklistService},tS(sX.Provider,{value:this.shamashLocalAccountService},tS(s1.Provider,{value:this.shamashIdentifyService},tS(sJ.Provider,{value:this.shamashEnrollmentService},tS(sO.Provider,{value:this.ravkavSdkService},tS(i6.Provider,{value:this.profileLoadingService},tS(ic.Provider,{value:this.trainService},tS(ac.Provider,{value:this.memberService},tS(ad.Provider,{value:this.enrollmentService},tS(r3.Provider,{value:this.userService},tS(aU.Provider,{value:this.storedValueConversionService},tS(oh.Provider,{value:this.cardValidityExtensionService},tS(r3.Provider,{value:this.userService},tS(ik.Provider,{value:this.LocalStorage},tS(i$.Provider,{value:this.SessionStorage},tS(sR.Provider,{value:this.loadingService},tS(az.Provider,{value:this.billingSummaryService},tS(nU.Provider,{value:this.contractGroupService},tS(iA.Provider,{value:this.workflowStorage},tS(sF.Provider,{value:this.loadScriptService},tS(oC.Provider,{value:this.serviceStationService},tS(sp.Provider,{value:this.intentService},tS(sM.Provider,{value:this.buyaPosService},tS(sV.Provider,{value:this.websiteLinkConfig},tS(rV.Provider,{value:this.i18n},tS(e,eI({},t)))))))))))))))))))))))))))))))))))))))))))))))},n}(sA)}}function cf(){var e=rU().t;return function(t){return e("billingStatus.".concat(t))}}function ch(){var e=rU().t;return function(t){return e(function(e){switch(e){case"null":return"paymentMethod.null";case"balance":return"paymentMethod.balance";case"creditcard":return"paymentMethod.creditcard";default:te(e)}}(t))}}function cv(e){var t=e.onIntersection,n=t4(null);return t2(function(){if(void 0!==window.IntersectionObserver){var e=new IntersectionObserver(function(e){e[0].isIntersecting&&t()}),r=n.current;return e.observe(r),function(){e.unobserve(r)}}},[t]),nP.createElement("div",{ref:n})}function cg(e,t){switch(t.type){case"load_next_started":switch(e.status){case"initial":return{query:t.query,items:[],status:"fetching"};case"fetched":case"fetch_failed":return{query:t.query,items:e.query!==t.query?[]:e.items,status:"fetching"};case"fetching":break;default:te(e)}break;case"load_next_succeeded":if("fetching"===e.status)return{query:e.query,status:"fetched",items:eF(eF([],e.items,!0),t.newItems,!0),cursor:t.newCursor};break;case"load_next_failed":if("fetching"===e.status)return{query:e.query,items:e.items,cursor:t.lastCursor,status:"fetch_failed"};break;default:te(t)}return e}function cy(e,t,n,r,a){var i,o=rU().t,s=t1(cg,{status:"initial",query:t}),c=s[0],l=s[1],u=t6(function(e,t){e.hasNext()&&(l({type:"load_next_started",query:t}),e.next().then(function(e){l({type:"load_next_succeeded",newItems:e[0],newCursor:e[1]})},function(){l({type:"load_next_failed",lastCursor:e})}))},[]),d=t4(e),p=t4(t);switch(t2(function(){u(d.current,p.current)},[u]),c.status){case"initial":i=nP.createElement(nP.Fragment,null);break;case"fetch_failed":i=nP.createElement("section",null,r(c.items),nP.createElement("div",{className:"t--center m--bottom"},nP.createElement("p",{role:"alert",className:"t--strong t--medium m--clear p--regular"},o("fetchFailed")),nP.createElement("button",{onClick:function(){u(c.cursor,c.query)},className:tr("p--small","t--strong","b--clear","inverse"===a?"bg--success t--brand":"bg--brand t--light")},o("tryAgain"))));break;case"fetched":i=nP.createElement("section",null,0===c.items.length?n:nP.createElement(nP.Fragment,null,r(c.items),c.cursor.hasNext()&&nP.createElement("div",{className:"p--regular t--center"},nP.createElement(cv,{onIntersection:function(){u(c.cursor,c.query)}}),nP.createElement("button",{onClick:function(){u(c.cursor,c.query)},className:tr("p--small","bg--transparent","b--clear",{"t--light":"inverse"===a})}," ",o("loadMore")," "))));break;case"fetching":i=nP.createElement("section",null,r(c.items),nP.createElement("div",{className:tr("p--small","t--center","b--clear","inverse"===a?"t--light":"t--brand")},nP.createElement(iJ,{size:1.5})));break;default:te(c)}return{state:c,loadNextPage:u,stateMarkup:i}}(I=eC||(eC={}))[I.NationalId=1]="NationalId",I[I.Passport=2]="Passport",(O=ek||(ek={}))[O.Hebrew=1]="Hebrew",O[O.Arabic=2]="Arabic",O[O.English=3]="English";var cb=new RegExp(/^(0?[1-9]|[12]\d|3[01])\/(0?[1-9]|1[0-2])\/([12]\d{3})$/);function c_(e){var t=e.id,n=e.value,r=e.onChange,a=eO(e,["id","value","onChange"]);return nP.createElement("input",eI({id:t,value:null!==n?nI.fromLocal(n).toIso():"",onChange:function(e){var t,n=e.target.value;if(""===n){r(null);return}try{t=nI.fromIso(n)}catch(e){return}r(t.toLocal())},type:"date"},a))}function cE(e){var t=e.id,n=e.value,r=e.onChange,a=eO(e,["id","value","onChange"]);return nP.createElement("input",eI({id:t,dir:"ltr",onChange:function(e){var t=e.target.value.match(cb);if(null===t){r(null);return}var n=parseInt(t[1],10),a=parseInt(t[2],10),i=parseInt(t[3],10),o=new Date(i,a-1,n);if(o.getFullYear()!==i||o.getMonth()+1!==a||o.getDate()!==n){r(null);return}r(o)},type:"text",value:null===n?"":nO(n),placeholder:"DD/MM/YYYY"},a))}function cw(e){var t,n,r=e.id,a=e.value,i=e.onChange,o=eO(e,["id","value","onChange"]);return(t="date",(n=document.createElement("input")).setAttribute("type",t),n.type===t)?nP.createElement(c_,eI({id:r,value:a,onChange:i},o)):nP.createElement(cE,eI({id:r,value:a,onChange:i},o))}function cS(e,t){var n;return void 0===t&&(t=500),function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){e.apply(void 0,r)},t)}}var cC=nl(function(e,t){var n=e.onChange,r=e.debounce,a=eO(e,["onChange","debounce"]),i=function(e){var t=e.target.value;if(""===t){n(void 0);return}n(t)};return void 0!==r&&(i=cS(i,r)),nP.createElement("input",eI({onChange:i,type:"text",ref:t},a))});function ck(e){var t=e.id,n=e.value,r=e.onChange,a=e.debounce,i=t0(void 0),o=i[0],s=i[1],c=function(e){var t;return null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:""},l=function(e){var t,n=e.target;if(!n.validity.valid){n.value=c(o);return}var a=n.value;r(t=""===a?void 0:parseInt(a,10)),s(t)};return void 0!==a&&(l=cS(l,a)),nP.createElement("input",{id:t,value:c(n),onChange:l,pattern:"^[0-9]+$",type:"tel"})}function c$(e){var t,n=e.query,r=e.onQueryChanged,a=rU().t;return nP.createElement(nP.Fragment,null,nP.createElement("label",{htmlFor:"cardName",className:"transaction-history-filter__group-title"},a("ravKavName")),nP.createElement(cC,{id:"cardName",value:null!==(t=n.cardName)&&void 0!==t?t:void 0,onChange:function(e){r({cardName:null==e?void 0:e.toString()})},debounce:600}))}function cA(e){var t,n=e.query,r=e.onQueryChanged,a=rU().t;return nP.createElement(nP.Fragment,null,nP.createElement("label",{htmlFor:"cardSerial",className:"transaction-history-filter__group-title"},a("ravKavNumber")),nP.createElement(ck,{id:"cardSerial",value:null!==(t=n.cardSerial)&&void 0!==t?t:void 0,onChange:function(e){r({cardSerial:e})},debounce:600}))}function cx(e){var t=e.query,n=e.onQueryChanged,r=rU().t;return nP.createElement(nP.Fragment,null,nP.createElement("label",{htmlFor:"forDay",className:"transaction-history-filter__group-title"},r("date")),nP.createElement(cw,{id:"forDay",value:t.createdSince,onChange:function(e){var t=null!==e?nI.fromLocal(e).addDays(1).toLocal():void 0;n({createdSince:e,createdUntil:t})}}))}function cT(e){var t=e.query,n=e.onQueryChanged,r=rU().t;return nP.createElement(nP.Fragment,null,nP.createElement("label",{htmlFor:"createdSince",className:"transaction-history-filter__group-title"},r("fromDate")),nP.createElement(cw,{id:"createdSince",value:t.createdSince,onChange:function(e){n({createdSince:e})}}))}function cN(e){var t=e.query,n=e.onQueryChanged,r=rU().t;return nP.createElement(nP.Fragment,null,nP.createElement("label",{htmlFor:"createdUntil",className:"transaction-history-filter__group-title"},r("toDate")),nP.createElement(cw,{id:"createdUntil",value:t.createdUntil,onChange:function(e){n({createdUntil:e})}}))}function cP(e){var t=e.query,n=e.onQueryChanged,r=rU().t,a=function(e){if(null===t.billingStatus)return!1;for(var n=0,r=t.billingStatus;n<r.length;n++)if(r[n]===e)return!0;return!1},i=function(e){n({billingStatus:a(e)?null:[e]})},o=Object.keys(eu).map(function(e){return eu[e]}),s=cf();return nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"transaction-history-filter__group-title"},r("billingStatusName")),nP.createElement("ul",{className:"transaction-history-filter__radio-list"},o.map(function(e){return nP.createElement("li",{key:e,role:"button",onClick:function(){i(e)},className:"transaction-history-filter__radio-list-item"},nP.createElement("input",{checked:a(e),type:"radio"}),nP.createElement("label",null,s(e)))})))}function cR(e){var t=e.paymentMethodChoices,n=e.query,r=e.onQueryChanged,a=rU().t,i=ch(),o=function(e){return e===n.paymentMethod},s=function(e){r({paymentMethod:o(e)?null:e})};return t.length>0?nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"transaction-history-filter__group-title"},a("paymentMeans")),nP.createElement("ul",{className:"transaction-history-filter__radio-list"},t.map(function(e){return nP.createElement("li",{key:e,onClick:function(){return s(e)},role:"button",className:"transaction-history-filter__radio-list-item"},nP.createElement("input",{checked:o(e),type:"radio"}),nP.createElement("label",null,i(e)))}))):nP.createElement(nP.Fragment,null)}function cL(e){var t;switch(e.mode){case"short":t=[cP,cR,cx];break;case"long":t=[cT,cN,c$,cA,cP,cR];break;default:te(e.mode)}return nP.createElement("form",null,t.map(function(t){return nP.createElement("div",{key:t,className:"transaction-history-filter__group"},nP.createElement(t,eI({},e)))}))}function cD(e){var t,n=e.onClose,r=e.show,a=e.headerTitle,i=e.theme,o=void 0===i?"inverse":i,s=e.children;switch(o){case"inverse":t="inverse-container";break;case"brand":t="bg--brand t--light";break;default:te(o)}return nP.createElement("div",{className:t},nP.createElement("div",{className:tr("pctr-backdrop",{"pctr-backdrop--active":r})}),nP.createElement("section",{className:tr("pctr-modal",{"pctr-modal--active":r})},nP.createElement("header",{className:"pctr-modal__header"},nP.createElement("button",{onClick:n,className:"pctr-modal__hide-button"},nP.createElement(iQ,{size:1.5})),nP.createElement("h1",{className:"pctr-modal__header-title"},a)),r&&nP.createElement("main",{className:"pctr-modal__body"},s)))}function cI(e){var t=e.onClick,n=e.active,r=e.icon;return nP.createElement("button",{onClick:t,className:tr("floating-action-button",{"floating-action-button--active":n})},r)}cC.displayName="TextInput";var cO=iz('<svg viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" fill=currentColor /><path d="M0 0h24v24H0z" fill=none /></svg>'),cF=iz('<svg viewBox="0 0 24 24" fill=currentColor icon-direction=rtl><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>');function cq(e){var t=e.transactions,n=e.dateFilter,r=void 0===n?nq:n,a=e.groupTransactionBy,i=e.showRavKav,o=void 0===i||i,s=e.showPaymentMethod,c=void 0!==s&&s,l=e.onTransactionSelected,u=function(e,t){switch(t){case"day":n=function(e){return nO(e.created)};break;case"month":n=function(e){return nO(e.created,"mm/yyyy")};break;default:te(t)}for(var n,r=tn(e,n),a=[],i=0,o=Object.keys(r);i<o.length;i++){var s=o[i];a.push({title:s,transactions:r[s]})}return a.sort(function(e,t){return t.transactions[0].created.getTime()-e.transactions[0].created.getTime()})}(t,void 0===a?"month":a),d=cf(),p=ch();return nP.createElement(nP.Fragment,null,u.map(function(e){return nP.createElement(nP.Fragment,null,nP.createElement("h2",{className:"transaction-history-list__group-title"},e.title),e.transactions.map(function(e){return nP.createElement("button",{key:e.uid,onClick:function(){return l(e)},className:"transaction-history-list__item"},nP.createElement("div",{className:"transaction-history-list-item-content"},nP.createElement("div",{className:"transaction-history-list-item-content__contract-display-name"},e.contractDisplayName),nP.createElement("div",{className:"transaction-history-list-item-content__payment-details"},d(e.billingStatus),"\xa0",null!==e.payment&&e.payment.was_authorized?[cH(e.payment),c?p(e.payment.method):""].join(" "):""),o&&nP.createElement("div",{className:"transaction-history-list-item-content__rav-kav-card"},null!==e.card&&null!==e.card.name&&""!==e.card.name?e.card.name:e.cardSerial),nP.createElement("div",{className:"transaction-history-list-item-content__created"},r(e.created))),nP.createElement(cF,{size:1.5}))}))}))}function cM(e){var t=t4(!1);t2(function(){return function(){t.current=!0}},[]),t2(function(){return function(){t.current&&e()}},[e])}var cB=iz('<svg viewBox="0 0 48 48"><path d=M41.87,11.89A32.49,32.49,0,0,1,11.48,32.24,32.31,32.31,0,0,1,4,31.39V14.7a2.92,2.92,0,0,1,2.92-2.92H41.08A2.56,2.56,0,0,1,41.87,11.89Z fill=#dedede /><path d=M44,14.62V33.34a2.26,2.26,0,0,1,0,.26,3.05,3.05,0,0,1-.49,1.33A2.9,2.9,0,0,1,42.18,36a3.41,3.41,0,0,1-.85.21H6.67l-.3,0-.29-.08A2.86,2.86,0,0,1,4.5,34.93,3.05,3.05,0,0,1,4,33.6a2.26,2.26,0,0,1,0-.26v-2a32.31,32.31,0,0,0,7.48.85A32.49,32.49,0,0,0,41.87,11.89a2.11,2.11,0,0,1,.47.19,1.86,1.86,0,0,1,.37.2h0a3.65,3.65,0,0,1,.31.24,2.67,2.67,0,0,1,.51.61,2,2,0,0,1,.23.43c0,.07.06.17.1.26a2.64,2.64,0,0,1,.13.79Z fill=#d0ced4 /><rect x=5.11 y=15.53 width=37.78 height=4.44 fill=#fff /><path d=M25.69,29.5a4.06,4.06,0,0,0-2.91,0l-.35-.91a5,5,0,0,1,3.6,0Z fill=#918caf /><g fill=currentColor><path d=M19,28.63a9.38,9.38,0,0,1,10.48,0l.55-.82a10.39,10.39,0,0,0-11.57,0Z /><path d=M20.19,20.93a1.81,1.81,0,1,0-1.81,1.81A1.81,1.81,0,0,0,20.19,20.93Z /><path d=M30.09,19.12a1.81,1.81,0,1,0,1.81,1.81A1.82,1.82,0,0,0,30.09,19.12Z /></g><g fill=#fff><circle cx=18.98 cy=20.54 r=0.49 /><circle cx=30.68 cy=20.54 r=0.49 /></g></svg>');function cV(e){var t=e.title,n=e.description,r=e.iconSize,a=e.children;return nP.createElement("section",{className:"t--center p--regular"},nP.createElement(cB,{size:void 0===r?6:r}),nP.createElement("h2",{className:"empty-state__title"},t),void 0!==n&&nP.createElement("p",null,n),a)}function cU(e){var t=e.initialQuery,n=e.paymentMethodChoices,r=e.filterMode,a=e.canClearFilter,i=e.onSubmit,o=rU().t,s=sk(),c=t0(t),l=c[0],u=c[1],d=t0(!1),p=d[0],m=d[1];return nP.createElement(nP.Fragment,null,nP.createElement(cD,{onClose:function(){u(t),m(!1)},show:p,headerTitle:o("filter")},nP.createElement(cL,{query:l,onQueryChanged:function(e){u(l.replace(e))},paymentMethodChoices:n,mode:r}),nP.createElement("button",{onClick:function(){i(l),m(!1)},className:"w--100 bg--success p--small b--clear m--top t--brand t--strong t--center"},o("search")),a&&nP.createElement("button",{onClick:function(){u(aK.empty())},className:"w--100 bg--transparent p--small b--clear m--top t--light t--underline t--center"},o("filterClear"))),nP.createElement(cI,{onClick:function(){m(!0),s.trackEvent("transaction-history","filter","show",1)},active:l.isAnySet(["createdSince","createdUntil","cardName","cardSerial","billingStatus","paymentMethod"]),icon:nP.createElement(cO,{size:1.5})}))}function cj(e,t,n){return n.getTransactionHistory(e.toServerQuery(t))}function cH(e){return null!==e.charged_amount?ar(e.charged_amount):null!==e.authorized_amount?ar(e.authorized_amount):""}function cz(e){var t=e.transaction,n=rU().t;return nP.createElement("div",{className:"b--bottom p--regular h-line-height"},nP.createElement("h2",{className:"t--small t--muted reset__m--clear reset__h-letter-spacing"},n("contract")),nP.createElement("strong",null,t.contractDisplayName),nP.createElement("div",{className:"t--small"},null===t.originDestinationDescription?nP.createElement("span",null,t.contractTypeDisplay,(null!==t.counterDescription||null!==t.periodDescription)&&nP.createElement("span",null,", ",t.counterDescription,t.periodDescription)):nP.createElement("span",null,t.originDestinationDescription)))}function cK(e){var t=e.transaction,n=rU().t,r=cf(),a=ch();return nP.createElement("div",{className:"b--bottom p--regular h-line-height"},nP.createElement("h2",{className:"t--small t--muted reset__m--clear reset__h-letter-spacing"},n("payment.title")),nP.createElement("div",null,null!==t.payment?nP.createElement("span",null,nP.createElement("strong",null,r(t.billingStatus),"\xa0",cH(t.payment)),nP.createElement("br",null),nP.createElement("span",{className:"t--small"},"creditcard"!==t.payment.method?a(t.payment.method):t.payment.payment_means)):nP.createElement("span",null,n("paymentDetailsNotEntered"))))}function cW(e){var t=e.created,n=rU().t;return nP.createElement("div",{className:"b--bottom p--regular t--strong h-line-height"},nP.createElement("h2",{className:"t--small t--muted reset__m--clear reset__h-letter-spacing"},n("created")),nq(t))}function cG(e){var t=e.transaction,n=e.onEditRavKav,r=rU().t;return nP.createElement("div",{className:"flex flex--align-center b--bottom h-line-height"},nP.createElement("div",{className:"col--grow p--regular"},nP.createElement("h2",{className:"t--small t--muted reset__m--clear reset__h-letter-spacing"},r("ravKavCard")),null!==t.card?nP.createElement("span",{className:"t--word-break"},nP.createElement("strong",null,t.card.name||t.card.serialNumber),null!==t.card.name&&""!==t.card.name&&nP.createElement("span",{className:"t--small"},nP.createElement("br",null),t.cardSerial)):nP.createElement("span",{className:"t--strong"},t.cardSerial)),nP.createElement("div",{className:"p--regular"},nP.createElement("button",{onClick:function(){return n(t.cardSerial)},className:"button-rounded t--brand"},r("toEdit"))))}function cY(e){var t=e.transaction,n=e.onEditRavKav;return nP.createElement(nP.Fragment,null,nP.createElement(cz,{transaction:t}),nP.createElement(cK,{transaction:t}),nP.createElement(cW,{created:t.created}),void 0!==n&&nP.createElement(cG,{transaction:t,onEditRavKav:n}))}var cQ='<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x=6 y=14 width=12 height=8></rect></svg>',cJ=iz(cQ),cZ=function(e,t,n,r){var a,i;switch(e.billingStatus){case eu.charged:a=t.getPurchaseApprovalPrintJob(e.uid),i="purchase-approval";break;case eu.refunded:a=t.getRefundApprovalPrintJob(e.uid),i="refund-approval";break;default:throw Error("Received transaction in unexpected state ".concat(e.billingStatus))}a.then(function(e){n.print(e).then(function(){r.trackEvent("print",i,"0",1)}).catch(function(e){r.trackEvent("print",i,e.error,1)})}).catch(function(e){})};function cX(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f=e.userAccount,h=e.initialQuery,v=e.showFilter,g=e.listItemBaseUrl,y=sa(),b=(t=10,n={dateFilter:nF,groupTransactionBy:"day",showRavKav:!1,showPaymentMethod:!0,onTransactionSelected:function(e){return y.push("".concat(g,"/transaction-history/").concat(e.uid))}},void 0===t&&(t=20),r={filterMode:"short",canClearFilter:!1},a=rU().t,i=aB(),o=sk(),c=(s=cy(cj(h,t,i),h,nP.createElement(cV,{title:a("resultsNotFoundFilter")}),function(e){return nP.createElement(cq,eI({transactions:e},n))})).state,l=s.loadNextPage,u=s.stateMarkup,d=function(e){var n=c.query.replace(e);l(cj(n,t,i),n)},cM(function(){switch(c.status){case"initial":case"fetch_failed":break;case"fetching":case"fetched":o.trackEvent("transaction-history","seen-transactions",c.items.length.toString(),1);break;default:te(c)}}),p=f.hasBalance?["balance","creditcard"]:[],m=nP.createElement(cU,{initialQuery:h,paymentMethodChoices:p,filterMode:r.filterMode,canClearFilter:r.canClearFilter,onSubmit:function(e){d(e)}}),{query:c.query,transactionsList:u,queryModal:m,onQueryChanged:d,paymentMethodChoices:p}),_=b.transactionsList,E=b.queryModal;return nP.createElement(nP.Fragment,null,_,v&&E)}function c0(e){var t=e.announcements,n=e.lastSeen;return nP.createElement(nP.Fragment,null,t.map(function(e,t){return nP.createElement("article",{key:"".concat(e.published_at,"-").concat(t),className:tr("bg--light","p--regular","b--all","t--initial",{"m--top":0!==t,"c--notification":null===n||new Date(e.published_at)>n})},nP.createElement("header",{className:"t--strong t--muted t--small"},nO(new Date(e.published_at))),nP.createElement("span",{dangerouslySetInnerHTML:{__html:e.html}}))}))}function c1(e){var t=e.theme,n=rU().t,r=nR(aG);return cy(r.list(),null,nP.createElement("h2",{className:"p--regular t--center"},n("announcements.noNew")),function(e){return nP.createElement(c0,{announcements:e,lastSeen:r.getLastSeenDate()})},t).stateMarkup}var c2={".vo.il":".co.il",".vom":".com",".con":".com",".xom":".com",".co":".com"},c3={gmail:"gmail.com","gamil.com":"gmail.com","gmil.com":"gmail.com","gmai.com":"gmail.com","gmsil.com":"gmail.com","gnail.com":"gmail.com","gmeil.com":"gmail.com","gmaol.com":"gmail.com","gmaul.com":"gmail.com","gmal.com":"gmail.com","gmail.co.il":"gmail.com","gmail.de":"gmail.com","gmail.ru":"gmail.com","gimail.com":"gmail.com",gmailcom:"gmail.com",icloud:"icloud.com"};function c4(e){var t=e.email,n=e.onSuggestionAccepted,r=rU().t,a=t0(null),i=a[0],o=a[1],s=t5(function(){return cS(function(e){var t=function(e){var t=e.indexOf("@");if(t<0)return e;var n=e.slice(0,t),r=e.slice(t+1);if(!n||!r)return e;for(var a=0,i=Object.keys(c2);a<i.length;a++){var o=i[a];if(r.slice(-o.length)===o)return"".concat(n,"@").concat(r.slice(0,-o.length)).concat(c2[o])}for(var s=0,c=Object.keys(c3);s<c.length;s++){var o=c[s];if(r===o)return"".concat(n,"@").concat(c3[o])}return e}(e);t&&t!==e?o(t):o(null)},500)},[]);if(t2(function(){s(t)},[t,s]),null===i)return nP.createElement(nP.Fragment,null);var c=nP.createElement("span",{className:"email-auto-correct__suggested"},i);return nP.createElement("button",{type:"button",onClick:function(){n(i)},role:"alert",className:"email-auto-correct"},r("didYouMean")," ",c,"?")}function c5(e){var t=e.label,n=e.prefilledUsername,r=e.onSuccess,a=e.isEmailOnly,i=void 0===a||a,o=e.submitButtonClassName,s=rU().t,c=nR(ia),l=t0(null),u=l[0],d=l[1],p=t0(!1),m=p[0],f=p[1],h=ca(),v=cn(),g=cr(),y=s6({username:n},{username:[h,co(150),i?v:g]},function(e){var t=e.username;m||(f(!0),c.requestResetPassword(t).then(function(){r(t)},function(e){d(e)}).finally(function(){f(!1)}))}),b=y.values,_=y.errors,E=y.touched,w=y.handleChange,S=y.handleBlur,C=y.handleSubmit,k=y.setFieldValue;return nP.createElement(s8,{onSubmit:C},nP.createElement(s7,null,nP.createElement("label",{htmlFor:"username"},t),nP.createElement("input",{id:"username",name:"username",type:i?"email":"text",dir:"ltr",value:b.username,onChange:w,onBlur:S,disabled:m,autoFocus:!0,autoComplete:i?"email":void 0}),E.username&&_.username&&nP.createElement(s9,{message:_.username}),nP.createElement(c4,{email:b.username,onSuggestionAccepted:function(e){k("username",e)}})),u&&nP.createElement(s7,null,nP.createElement(s9,{message:s("registration.unexpectedError")})),nP.createElement("button",{disabled:m,type:"submit",className:o},m?nP.createElement(iJ,null):s("registration.actionReset")))}var c6=iz('<svg width=1em height=1em viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>');function c8(e){var t,n=e.error,r=rU().t;switch(n){case"required":t=r("messages.required");break;case"card_expired":t=r("buyaHostedFields.cardExpired");break;default:t=r("messages.invalid")}return nP.createElement("div",{role:"alert",className:"p--small bg--danger t--light t--strong"},t)}function c7(e){var t,n,r=e.elementRef,a=e.field,i=e.label,o=e.tooltipText;t=void 0!==o?nP.createElement("span",{className:"tooltip",tabIndex:0},nP.createElement("span",{className:"tooltip__contents"},o)):nP.createElement(nP.Fragment,null);var s=["input"];return null===a?(n=nP.createElement(nP.Fragment,null),s.push("input--loading")):(a.focused&&s.push("input--focus"),n=a.touched&&a.error?nP.createElement(c8,{error:a.error}):nP.createElement(nP.Fragment,null)),nP.createElement("label",null,i,"\xa0",t,nP.createElement("div",{ref:r,className:s.join(" ")}),n)}function c9(e,t){switch(t.type){case"hosted_fields_initialized":if("pristine"===e.status)return{status:"ready",hostedFields:t.hostedFields,hostedFieldsState:t.hostedFieldsState,formState:{status:"waiting_for_input",numberOfPayments:t.numberOfPayments,reusable:t.reusable,autoSubmit:t.autoSubmit,error:null},finalizeActionState:{status:"pristine"}};break;case"hosted_fields_state_changed":if("ready"===e.status)return eI(eI({},e),{hostedFieldsState:t.hostedFieldsState});break;case"issued_auto_submit":if("ready"===e.status&&"waiting_for_input"===e.formState.status&&"when-valid"===e.formState.autoSubmit)return eI(eI({},e),{formState:eI(eI({},e.formState),{autoSubmit:"disabled"})});break;case"number_of_payments_changed":if("ready"===e.status&&"waiting_for_input"===e.formState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{numberOfPayments:t.numberOfPayments})});break;case"reusable_changed":if("ready"===e.status&&"waiting_for_input"===e.formState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{reusable:t.reusable})});break;case"session_update_started":if("ready"===e.status&&"waiting_for_input"===e.formState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{status:"updating_session"})});break;case"session_update_failed":if("ready"===e.status&&"updating_session"===e.formState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{status:"waiting_for_input",autoSubmit:"disabled"})});break;case"finalize_started":if("ready"===e.status&&"updating_session"===e.formState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{status:"finalizing",error:null})});break;case"finalize_succeeded":if("ready"===e.status&&"finalizing"===e.formState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{status:"finalized"})});break;case"finalize_failed":if("ready"===e.status&&"finalizing"===e.formState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{status:"finalization_failed",error:t.error})});break;case"finalize_required_action":if("ready"===e.status&&"finalizing"===e.formState.status&&"pristine"===e.finalizeActionState.status)return eI(eI({},e),{finalizeActionState:{status:"waiting_for_action",action:t.action}});break;case"finalize_action_failed":if("ready"===e.status&&"finalizing"===e.formState.status&&"waiting_for_action"===e.finalizeActionState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{status:"finalization_failed",error:t.error}),finalizeActionState:{status:"failed",error:t.error}});break;case"finalize_action_completed":if("ready"===e.status&&"finalizing"===e.formState.status&&"waiting_for_action"===e.finalizeActionState.status)return eI(eI({},e),{formState:eI(eI({},e.formState),{status:"finalized"}),finalizeActionState:{status:"completed"}});break;default:te(t)}return e}function le(e){var t,n=e.action,r=e.sessionId,a=e.onCompleted,i=e.onError,o=e.$log,s=rU().t,c=nR(aL);switch(t2(function(){var e=c.payments().handleAction(n),t=e.promise,o=e.cancel;return t.then(function(){},function(){}).finally(function(){c.actionFinished(r).then(function(e){var t;switch(e.status){case"success":a();break;case"error":i(null!==(t=e.user_message)&&void 0!==t?t:s("payment.unexpectedError"));break;default:te(e)}},function(){i("payment.unexpectedError")})}),function(){o()}},[o,n,c,a,i,r,s]),n.type){case"three_d_s":t=nP.createElement("div",{className:"flex"},nP.createElement(c6,{size:3}),nP.createElement("p",{className:"t--pre-line"},s("buyaHostedFields.threeDSExplanation")));break;case"pass_to_device":throw Error("Unexpected pass_to_device action");default:te(n)}return t}function lt(e){switch(e){case"optional":case"required":return!0;case"hidden":return!1;default:te(e)}}function ln(e){for(var t,n,r=e.sessionId,a=e.maxPayments,i=e.paymentDetailsStyle,o=e.personalIdMode,s=e.canSaveCreditCards,c=e.initialReusable,l=e.onSuccess,u=e.onError,d=e.onLoad,p=rU(),m=p.t,f=p.i18n,h=nR(aL),v=nD(),g=t1(c9,{status:"pristine"}),y=g[0],b=g[1],_=[],E=0;E<a;E++)_.push(E+1);var w=t4(null),S=t4(null),C=t4(null),k=t4(null),$=t4(null);t2(function(){var e,t=e4(),n=h.hostedFields();switch(i){case"details":e={pan:{element:w.current},exp:{element:S.current},cvv:{element:C.current,config:{placeholder:""}}},lt(o)&&(e=eI(eI({},e),{personal_id:{element:k.current,config:{required:"required"===o,placeholder:"en"===f.language?m("buyaHostedFields.leaveBlank"):""}}}));break;case"track2":e={track2:{element:$.current}};break;default:te(i)}return n.init({sessionId:r,styles:{fontSize:"16px"},fields:e}).then(function(e){switch(d(t()),b({type:"hosted_fields_initialized",hostedFields:n,hostedFieldsState:e,numberOfPayments:1,reusable:c,autoSubmit:1===a&&"track2"===i?"when-valid":"disabled"}),i){case"details":n.focusInput("pan");break;case"track2":n.focusInput("track2");break;default:te(i)}},function(e){var n=t();v.warn({message:"Buya init failed",data:{error:e,elapsed:n}}),u(m("buyaHostedFields.initFailedUserError"))}),function(){n.teardown()}},[d,u,v,m,r,h,i,a,o,c,f]);var A=t6(function(e,t){b({type:"finalize_started"}),h.finalizePayment(r,e,t,null,null).then(function(e){switch(e.status){case"success":b({type:"finalize_succeeded"}),l();break;case"requires_action":b({type:"finalize_required_action",action:e.action,sessionId:r});break;case"error":b({type:"finalize_failed",error:e.user_message}),u(e.user_message||void 0);break;default:te(e)}},function(e){b({type:"finalize_failed",error:null}),u(void 0)})},[h,u,l,r]),x=t6(function(e,t,n){b({type:"session_update_started"}),e.updateSession().then(function(){A(t,n)},function(){b({type:"session_update_failed"})})},[A]);t2(function(){if("ready"===y.status)return y.hostedFields.onStateChange(function(e){if(b({type:"hosted_fields_state_changed",hostedFieldsState:e}),null!==e.error&&"session_expired"===e.error.code){u(m("payment.inactive"));return}var t="waiting_for_input"===y.formState.status&&e.submitRequested,n="waiting_for_input"===y.formState.status&&"when-valid"===y.formState.autoSubmit&&e.valid;t?x(y.hostedFields,y.formState.numberOfPayments,y.formState.reusable):n&&(b({type:"issued_auto_submit"}),x(y.hostedFields,y.formState.numberOfPayments,y.formState.reusable))})},[y,u,m,x]);var T=function(){return"ready"!==y.status||"waiting_for_input"!==y.formState.status};switch(i){case"details":n=nP.createElement(nP.Fragment,null,nP.createElement(c7,{elementRef:w,label:m("buyaHostedFields.panLabel"),field:"ready"!==y.status?null:y.hostedFieldsState.fields.pan}),nP.createElement("div",{className:"flex m--top"},nP.createElement("div",{className:"col--grow"},nP.createElement(c7,{elementRef:S,label:m("buyaHostedFields.expLabel"),field:"ready"!==y.status?null:y.hostedFieldsState.fields.exp})),nP.createElement("span",{className:"p--small"}),nP.createElement("div",{className:"col--grow"},nP.createElement(c7,{elementRef:C,label:"CVV",field:"ready"!==y.status?null:y.hostedFieldsState.fields.cvv,tooltipText:m("buyaHostedFields.cvvTooltip")}))),lt(o)&&nP.createElement("div",{className:"m--top"},nP.createElement(c7,{elementRef:k,label:m("buyaHostedFields.personalIdLabel"),field:"ready"!==y.status?null:y.hostedFieldsState.fields.personal_id,tooltipText:m("buyaHostedFields.personalIdTooltip")})));break;case"track2":n=nP.createElement(c7,{elementRef:$,label:m("buyaHostedFields.track2Label"),field:"ready"!==y.status?null:y.hostedFieldsState.fields.track2});break;default:te(i)}return"ready"===y.status&&"waiting_for_action"===y.finalizeActionState.status?nP.createElement(le,{action:y.finalizeActionState.action,sessionId:r,onCompleted:function(){b({type:"finalize_action_completed"}),l()},onError:function(e){b({type:"finalize_action_failed",error:e}),u(e)},$log:v}):nP.createElement("form",{onSubmit:function(e){e.preventDefault(),"ready"===y.status&&"waiting_for_input"===y.formState.status&&x(y.hostedFields,y.formState.numberOfPayments,y.formState.reusable)},className:"buya-hosted-fields-payment"},n,_.length>1&&nP.createElement("label",{className:"m--top"},m("buyaHostedFields.numberOfPaymentsLabel"),nP.createElement("select",{name:"numberOfPayments",onChange:function(e){e.preventDefault(),"ready"===y.status&&b({type:"number_of_payments_changed",numberOfPayments:parseInt(e.target.value,10)})},disabled:T()},_.map(function(e){return nP.createElement("option",{key:e,value:e,selected:"ready"===y.status&&e===y.formState.numberOfPayments},e)}))),s&&nP.createElement("div",{className:"checkbox m--top"},nP.createElement("input",{type:"checkbox",disabled:T(),checked:"ready"===y.status&&y.formState.reusable,onChange:function(e){if(e.preventDefault(),"ready"===y.status){var t=e.target.checked;(s||!t)&&b({type:"reusable_changed",reusable:t})}},id:"reusableId"}),nP.createElement("label",{htmlFor:"reusableId"},m("buyaHostedFields.reusableLabel"))),"ready"===y.status&&null!==y.hostedFieldsState.error&&nP.createElement("div",{className:"m--top"},nP.createElement(s9,{message:m("validation"===(t=y.hostedFieldsState.error).category||"client"===t.category&&"form_invalid"===t.code?"payment.makeSureValuesCorrect":"client"===t.category&&"connection_failed"===t.code?"payment.connectionFailed":"merchant"===t.category&&"session_expired"===t.code?"payment.inactive":"transient"===t.category&&"session_in_use"===t.code?"payment.sessionInUse":(v.warn({message:"Could not match error details to translation code, fallback to unexpected.",data:{error:t}}),"payment.unexpectedError"))})),nP.createElement("button",{type:"submit",disabled:T(),className:"buya-hosted-fields-payment__submit-button"},"ready"===y.status&&("updating_session"===y.formState.status||"finalizing"===y.formState.status)?nP.createElement(iJ,null):m("buyaHostedFields.pay")))}function lr(e){var t,n=e.onClose,r=e.show,a=e.headerTitle,i=e.headerText,o=e.theme,s=e.hidePopupOnBackdropClick,c=void 0===s||s,l=e.children;return nP.createPortal(nP.createElement("div",null,nP.createElement("div",{onClick:function(){c&&n()},className:tr("pctr-backdrop",{"pctr-backdrop--active":r})}),nP.createElement("section",{className:tr("pctr-popup",((t={"pctr-popup--active":r})["pctr-popup--".concat(o)]=void 0!==o,t))},nP.createElement("div",{className:"pctr-popup__container"},nP.createElement("header",{className:"pctr-popup__header"},nP.createElement("h1",{className:"pctr-popup__header-title"},a),void 0!==i&&nP.createElement("p",{className:"pctr-popup__header-text"},i)),r&&nP.createElement("main",{className:"pctr-popup__body"},l)))),document.body)}var la='<svg viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=1.5><circle cx=12 cy=12 r=10></circle><line x1=2 y1=12 x2=22 y2=12></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>',li=iz(la),lo=[{label:"",value:"he"},{label:"",value:"ar"},{label:"English",value:"en"},{label:"",value:"ru"}];function ls(e){var t=e.onLanguagePicked,n=e.selectedLanguage,r=e.openPickerButtonClass,a=rU(),i=a.t,o=a.i18n,s=t0(!1),c=s[0],l=s[1],u=function(e){t(e),l(!1)};return nP.createElement(nP.Fragment,null,nP.createElement("button",{onClick:function(){return l(!0)},className:r},nP.createElement("div",{className:"t--uppercase flex flex--justify-center flex--align-center"},n,"\xa0",nP.createElement(li,null))),nP.createElement(lr,{headerTitle:i("languagePicker.chooseLanguage"),show:c,onClose:function(){return l(!1)}},lo.filter(function(e){return o.availableLanguages.indexOf(e.value)>-1}).map(function(e,t){return nP.createElement("button",{key:e.value,onClick:function(){return u(e.value)},className:tr("button","p--small","w--100","t--center","t--strong","t--brand","b--all","b--brand-dark",n===e.value?"button-positive c--active":"bg--light",{"m--top--small":t>0})},e.label)})))}function lc(e){var t,n,r=e.response,a=e.defaultMessage,i=e.onSelectRelatedContract,o=rU().t,s=rK();switch(r.cause){case 10:t=o("cause.10Title");break;case 11:t=o("cause.11Title"),n=o("cause.11Body");break;case 12:t=o("cause.12Title"),n=o("cause.12Body",{id:s(r.cause_args[0])});break;case 13:t=o("cause.13Title");break;case 14:t=o("cause.14Title");break;case 15:t=o("cause.15Title"),n=o("cause.15Body");break;case 16:t=o("cause.16Title");break;case 17:t=o("cause.17Title"),n=void 0!==i&&nP.createElement("a",{onClick:function(){return i(r.cause_args[0])}},o("cause.17Body"));break;case 18:t=o("cause.18Title"),n=o("cause.18Body");break;case 103:t=o("cause.103Title"),n=o("cause.103Body");break;case 104:t=o("cause.104Title"),n=o("cause.104Body");break;case 105:t=o("cause.105Title"),n=o("cause.105Body");break;case 30:t=o("cause.30Title");break;case 31:t=o("cause.31Title"),n=o("cause.31Body");break;case 32:t=o("cause.32Title"),n=o("cause.32Body");break;case 41:t=o("cause.41Title");break;case 43:t=o("cause.43Title"),n=o("cause.43Body");break;case 44:t=o("cause.44Title"),n=o("cause.44Body");break;case 40:t=o("cause.40Title"),n=o("cause.40Body");break;case 50:t=o("cause.50Title"),n=o("cause.50Body");break;case 102:t=o("cause.102Title"),n=o("cause.102Body");break;case 107:t=o("cause.107Title"),n=o("cause.107Body");break;case 609:t=o("cause.609Title"),n=o("cause.609Body");break;case 610:t=o("cause.610Title"),n=o("cause.610Body");break;case 611:t=o("cause.611Title"),n=o("cause.611Body");break;case 612:t=o("cause.612Title"),n=o("cause.612Body");break;case 100:t=o("cause.100Title");break;case 101:t=o("cause.101Title"),n=o("cause.101Body");break;case 106:t=o("cause.106Title"),n=o("cause.106Body");break;case 108:t=o("cause.108Title");break;case 110:t=o("cause.110Title"),n=o("cause.110Body",{profile:s(r.cause_args[0]),endDate:nO(new Date(r.cause_args[1]))});break;case 111:t=o("cause.111Title"),n=o("cause.111Body");break;case 112:t=o("cause.112Title"),n=o("cause.112Body");break;case 20:case 21:t=o("cause.20Title"),n=o("cause.20Body");break;case 22:t=o("cause.22Title"),n=o("cause.22Body");break;case 23:t=o("cause.23Title"),n=o("cause.23Body");break;case 800:t=o("cause.800Title"),n=o("cause.800Body");break;case 801:t=o("cause.801Title"),n=o("cause.801Body");break;case 850:t=o("cause.850Title"),n=o("cause.850Body");break;case 851:t=o("cause.851Title"),n=o("cause.851Body");break;case 71:t=o("cause.71Title"),n=o("cause.71Body");break;case 70:case 72:t=o("cause.70Title");break;case 1011:t=o("cause.1011Title"),n=o("cause.1011Body");break;case 1012:t=o("cause.1012Title"),n=o("cause.1012Body");break;case 1013:t=o("cause.1013Title"),n=o("cause.1013Body");break;case 1014:t=o("cause.1014Title"),n=o("cause.1014Body");break;case 1033:case 1070:t=o("cause.1070Title"),n=o("cause.1070Body");break;case 1071:t=o("cause.1071Title"),n=o("cause.1071Body");break;case 1080:t=o("cause.1080Title");break;case 1081:break;default:t=void 0===a?o("cause.default"):a}return nP.createElement("div",null,nP.createElement("span",{className:"rmtkts-cause__title"},t),n)}function ll(e){var t,n,r=e.tag,a=rU().t;switch(r){case"blindness_certificate":t="document.blindness_certificate",n="document.blindness_certificate_body";break;case"disability_certificate":t="document.disability_certificate",n="document.disability_certificate_body";break;case"headshot":t="document.headshot",n="document.headshot_body";break;case"national_insurance_certificate":t="document.national_insurance_certificate",n="document.national_insurance_certificate_body";break;case"national_service_certificate":t="document.national_service_certificate",n="document.national_service_certificate_body";break;case"personal_id":t="document.personal_id",n="document.personal_id_body";break;case"pupil_permit":t="document.pupil_permit",n="document.pupil_permit_body";break;case"ravkav":t="document.ravkav",n="document.ravkav_body";break;case"student_id":t="document.student_id",n="document.student_id_body";break;case"student_permit":t="document.student_permit",n=null;break;case"ministry_of_defence_approval":t="document.ministry_of_defence_approval",n="document.ministry_of_defence_approval_body";break;case"paid_to_personal_id":t="document.personal_id",n=null;break;case"unknown":t="document.unknown",n=null;break;default:te(r)}return nP.createElement("div",null,nP.createElement("div",{className:"t--strong"},a(t)),null!==n&&nP.createElement("span",{className:"t--small"},a(n)))}function lu(e){var t=e.document;return nP.createElement("div",null,nP.createElement("span",{className:"t--word-break",dir:"ltr"},t.name),nP.createElement("br",null),nP.createElement("span",{className:"t--muted"},nq(t.created)))}var ld=iz('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/><polyline points="13 2 13 9 20 9"/></svg>');function lp(e){var t,n,r,a,i,o,s,c,l,u=e.documents,d=e.maxUnknownDocuments,p=e.requiredDocumentTags,m=e.onDocumentUpload,f=e.onDocumentDelete,h=rU().t,v=sg().getClientPreferences(),g=(n=(t={documents:u,maxUnknownDocuments:d,requiredDocumentTags:p}).documents,r=t.maxUnknownDocuments,a=t.requiredDocumentTags,o=(i=t0([]))[0],s=i[1],c=o.length<a.length+r,t3(function(){s(function(e,t){for(var n=[],r=function(t){var r=e6(e,function(e){return e.tag===t});n.push({tag:t,document:null!=r?r:null})},a=0;a<t.length;a++)r(t[a]);for(var i=0;i<e.length;i++){var o=e[i];o.tag===i2&&n.push({document:o,tag:i2})}return n}(n,a))},[n,r,a]),[o,c,function(){s(eF(eF([],o,!0),[{document:null,tag:i2}],!1))}]),y=g[0],b=g[1],_=g[2];switch(v.allowUploadingFilesFromFileSystem){case eb.Yes:l=!0;break;case eb.No:case eb.Unset:l=!1;break;default:te(v.allowUploadingFilesFromFileSystem)}return nP.createElement("div",null,y.map(function(e,t){var n=e.document,r=e.tag;return nP.createElement("div",{className:"file-upload-container",key:t},nP.createElement("div",{className:"file-upload-container__label"},nP.createElement(ll,{tag:r}),null!==n&&nP.createElement("div",{className:"m--top--small t--small"},nP.createElement(lu,{document:n}))),nP.createElement("div",{className:"file-upload-container__divider"}),null===n?nP.createElement("div",{className:"file-upload-container__actions"},l&&nP.createElement(nP.Fragment,null,nP.createElement("label",{className:"file-upload-container__action"},nP.createElement(ld,null),nP.createElement(iW,{onChange:function(e){return m(e,r)}})),nP.createElement("div",{className:"file-upload-container__divider"})),nP.createElement(i1,{docIndex:t,onFileChanged:function(e){return m(e,r)}})):nP.createElement("button",{type:"button",onClick:function(){return f(n)},className:"file-upload-container__action"},nP.createElement(iQ,null)))}),b&&nP.createElement("button",{onClick:_,className:"c--clear"},h("profileLoading.addDocument")))}function lm(e,t){if(0===e.length)return null;for(var n=0;n<t.length;n++){var r=t[n],a=e.indexOf(r);if(a>-1)return e[a]}var i=Math.floor(Math.random()*e.length);return e[i]}function lf(e){var t=e.ravkavStoredValueConversion,n=rU().t,r=rK();return nP.createElement("div",{className:"stored-value-conversion-explained"},nP.createElement("ul",null,t.from.map(function(e){var a;return a=e.accessible?e.profile===t.to?n("svcExplained.accessibleSame",{before:ar(e.before),profile:r(e.profile)}):n("svcExplained.accessibleDifferent",{before:ar(e.before),from:r(e.profile),after:ar(e.after),to:r(t.to)}):n("svcExplained.inaccessible",{before:ar(e.before),from:r(e.profile),after:ar(e.after),to:r(t.to)}),nP.createElement("li",{key:s4(e)},a)}),nP.createElement("li",null,nP.createElement("strong",null,n("svcExplained.after",{after:ar(t.getTotalAfterConversion()),to:r(t.to)})))))}function lh(e){var t=e.availableContracts,n=e.selectedContract,r=e.onContractSelected,a=rj();return nP.createElement("select",{onChange:function(e){return function(e){var n=parseInt(e,10),a=e6(t,function(e){return e.id===n});if(void 0===a)throw Error("Contract not found in the available contracts. Received contract id: ".concat(e,". AvailableContracts: ").concat(JSON.stringify(t)));r(a)}(e.currentTarget.value)},className:"contract-operator-picker"},t.map(function(e){var t;return nP.createElement("option",{key:e.id,value:e.id,selected:(t=e.operator,null!==n&&n.operator===t)},a(e.operator))}))}function lv(e){var t=e.profileLoadingType,n=e.profileLoading,r=rU().t,a=rK(),i=function(e,t,n){switch(e){case Z.Fixed:if(null===t)throw Error('Profile end-date type is "Fixed" but profile end-date value is null');return nP.createElement("span",null,r("profileLoading.endDateTypeFixed",{date:nO(new Date(t))}));case Z.EndOfCard:return nP.createElement("span",null,r("profileLoading.endDateTypeEndOfCard"));case Z.FarFuture:return nP.createElement("span",null,r("profileLoading.endDateTypeFarFuture"));case Z.Age18:return nP.createElement("span",null,r("profileLoading.endDateTypeAge18"));case Z.Manual:if(null!=n)return nP.createElement("span",null,r("profileLoading.endDateTypeFixed",{date:nO(n.toLocal())}));return nP.createElement("span",null,r("profileLoading.endDateTypeManual"));default:te(e)}};return nP.createElement(nP.Fragment,null,nP.createElement("span",null,r("profileLoading.customerProfile",{id:a(t.primary_profile_id)}),"\xa0",i(t.primary_profile_end_date_type,t.primary_profile_fixed_end_date,null==n?void 0:n.primaryProfileManualEndDate)),t.secondary_profile_id&&null!==t.secondary_profile_end_date_type&&nP.createElement(nP.Fragment,null,nP.createElement("br",null),nP.createElement("span",null,r("profileLoading.customerProfile",{id:a(t.secondary_profile_id)}),"\xa0",i(t.secondary_profile_end_date_type,t.secondary_profile_fixed_end_date,null==n?void 0:n.secondaryProfileManualEndDate))))}function lg(e){var t,n=e.profileEligibility,r=e.satisfiedEligibilityConditions,a=rU().t,i=(t=rU().t,function(e){return t(function(e){switch(e){case Q.Personalized:return"eligibilityCondition.personalized";case Q.CurrentStudent:return"eligibilityCondition.current_student";case Q.ActiveStudent:return"eligibilityCondition.active_student";case Q.Under18:return"eligibilityCondition.under18";case Q.Over65:return"eligibilityCondition.over65";case Q.Over60:return"eligibilityCondition.over60";case Q.Over62:return"eligibilityCondition.over62";case Q.Over67:return"eligibilityCondition.over67";case Q.Over75:return"eligibilityCondition.over75";case Q.CurrentSeniorCitizen75Plus:return"eligibilityCondition.current_senior_citizen_75_plus";default:te(e)}}(e))});switch(n.status){case J.NotEligible:return nP.createElement("div",null,a("profileLoading.notEligibleConditions"),"\xa0",nP.createElement("ul",{className:"l--comma-delimited t--strong"},n.type.required_eligibility_conditions.filter(function(e){return -1===r.indexOf(e)}).map(function(e){return nP.createElement("li",{key:e},i(e))})));case J.ProfileCutOffByExpiration:return nP.createElement("p",{className:"m--clear"},a("profileLoading.notEligibleProfileCutOffByExpiration"));case J.ProfilesAlreadyExist:return nP.createElement("p",{className:"m--clear"},a("profileLoading.notEligibleProfilesAlreadyExist"));case J.NoSpaceForProfiles:return nP.createElement("p",{className:"m--clear"},a("profileLoading.notEligibleNoSpaceForProfiles"));case J.Eligible:return nP.createElement(nP.Fragment,null);default:te(n.status)}}var ly=function(e){return e.filter(function(e){return e.status!==J.Eligible})};function lb(e){var t=e.headerText,n=e.primaryActionText,r=e.onPrimaryAction,a=e.primaryActionEnabled,i=e.children;return nP.createElement(nP.Fragment,null,nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light t--strong"},t),nP.createElement("div",{className:"p--regular"},i)),nP.createElement("footer",null,nP.createElement("button",{onClick:r,disabled:!(void 0===a||a),className:"c--positive"},n)))}var l_=function(e,t){return e.filter(function(e){return e.status===J.Eligible&&(!!e.type.auto_approve||!!t.willCreateProfileLoadingWithAutoApprove)&&(e.type.primary_profile_end_date_type!==Z.Manual&&e.type.secondary_profile_end_date_type!==Z.Manual||!!t.canAutoApproveProfileLoadingWithManualEndDate)}).map(function(e){return e.type})};function lE(e,t){switch(t.type){case"issuing_started":if("pristine"===e.status)return{status:"issuing"};break;case"issuing_failed":if("issuing"===e.status)return{status:"issue_failed",error:t.error};break;case"issuing_succeeded":if("issuing"===e.status)return{status:"issue_succeeded",transactionUid:t.transactionUid,executeEndpoint:t.executeEndpoint};break;default:te(t)}return e}function lw(e,t){t.abort(e).catch(function(){})}function lS(e,t,n,r,a,i,o,s,c,l){r({type:"execute_requested"});var u=n.convertStoredValue(e,a.token),d=u[0],p=u[1];d.then(function(){return r({type:"execute_started"})}),p.then(function(e){r({type:"execute_succeeded"}),i.trackEvent("scan","stored_value_conversion","0",1),n.clear(),l.push({pathname:c,state:{contractNumber:e6(e.result.operations,function(e){return"convert-stored-value"===e.type}).new_contract_number,cardSerialNumber:s,uid:t}})},function(e){r({type:"execute_failed",error:e}),a.token.requested&&e.retry_enabled&&lw(t,o),i.trackEvent("scan","stored_value_conversion",e?e.cause:-1,1)})}function lC(e){var t,n,r,a,i,o,s,c,l=e.executeEndpoint,u=e.transactionUid,d=e.cardSerialNumber,p=e.successStatePathname,m=rU().t,f=(n=(t=t1(sW,{status:"pristine"}))[0],r=t[1],a=t4(new sK),i=sa(),o=aC(),t2(function(){lS(l,u,o,r,a.current,s,c,d,p,i);var e=a.current;return function(){e.cancel()}},[s=sk(),d,o,l,i,c=nR(aU),p,u]),t2(function(){var e=a.current;return function(){if(e.token.requested){switch(n.status){case"executing":case"success":return;case"pristine":case"waiting_for_card":break;case"error":if(!n.error.retry_enabled)return;break;default:te(n)}lw(u,c)}}},[n,c,u]),{state:n,retry:function(){lS(l,u,o,r,a.current,s,c,d,p,i)}}),h=f.state,v=f.retry;switch(h.status){case"pristine":case"waiting_for_card":return nP.createElement("section",null,m("scanCard"),nP.createElement("br",null),m("cardLoader.waitOperationComplete"));case"executing":return nP.createElement("section",null,m("svc.converts"),nP.createElement("br",null),m("pleaseWait"));case"success":return nP.createElement("section",{className:"p--small c--success"},m("svc.convertedSuccess"));case"error":var g=h.error.retry_enabled?nP.createElement("button",{onClick:v},m("tryAgain")):nP.createElement(si,{to:"/scan"},m("back"));return nP.createElement("section",{className:"p--small c--danger"},nP.createElement(lc,{response:h.error,defaultMessage:m("svc.notConverted")}),nP.createElement("footer",null,g));default:te(h)}}function lk(e,t){return e.isFlexibleStoredValue()?t:e.counter?e.counter.value:null}function l$(e){var t=e.modesOfTransport,n=rU().t;return nP.createElement("ul",{className:"l--clear flex flex--wrap"},Object.keys(G).map(function(e){return G[e]}).map(function(e){var r,a;return t.indexOf(e)>-1?(r="t--success-dark",a=nP.createElement(iG,null)):(r="t--danger",a=nP.createElement(iQ,null)),nP.createElement("li",{key:e,className:"inline-flex flex--align-center ".concat(r)},a,nP.createElement("span",{className:"t--initial"},n(function(e){switch(e){case G.Bus:return"modeOfTransport.bus";case G.Rail:return"modeOfTransport.rail";case G.LightRail:return"modeOfTransport.light_rail";case G.CableCar:return"modeOfTransport.cable_car";default:te(e)}}(e))),"\xa0")}))}function lA(e){var t,n,r,a,i,o,s,c=e.contractGroup,l=e.contracts,u=e.allowedOperators,d=e.contractPreselectOperator,p=e.contractPreselectStartDate,m=e.card,f=l;null!==u&&(f=f.filter(function(e){return u.indexOf(e.operator)>-1}));var h=(t=f.map(function(e){return e.operator}),n=null!==(s=null==m?void 0:m.getPreferredOperators())&&void 0!==s?s:null,r=[],d&&r.push(d),n&&r.push.apply(r,n),lm(t,r));return{selectedContract:(a=f,i=null,(null!==h&&(i=c.getContractOfOperator(h)),null!==i)?i:0===a.length?null:a[0]),initialOperator:h,selectedStartDate:(o=null!=p?p:null,c.isFlexible()?null!=o?o:null:c.validity_start_date),availableContracts:f}}function lx(e,t,n){return"MONTHLY_FLEXIBLE"===n?function(e){var t,n=e.year,r=e.month,a=e.day;r+1<=12?r+=1:(n+=1,r=1);for(var i=0;;){try{t=new nI(n,r,a)}catch(e){a-=1,i+=1;continue}break}return t.addDays(i-1)}(e):e.addDays(t-1)}function lT(e){var t=e.etta,n=e.counterValue,r=e.validityStartDate,a=e.validityDurationDays,i=e.validityPeriodType,o=e.counterMode,s=e.displayMode,c=rU().t,l="Unexpected param combination for selected etta: "+JSON.stringify({etta:t,counterValue:n,validityStartDate:r,validityDurationDays:a,validityPeriodType:i,counterMode:o});switch(t){case 1:case 7:if(null==n)throw Error(l);return nP.createElement(nP.Fragment,null,c("contractCounter.rides",{count:n}));case 2:case 4:if(i===H.Flexible&&"abstract"===s){if(null===a){if(4===t)return nP.createElement(nP.Fragment,null,c("contractCounter.unlimited"));throw Error(l)}return nP.createElement(nP.Fragment,null,c("contractCounter.days",{count:a}))}if(i===H.MonthlyFlexible&&"abstract"===s)return nP.createElement(nP.Fragment,null,c("contractCounter.monthlyFlexible"));if(null===r)return nP.createElement(nP.Fragment,null);var u=nO(r.toLocal());if(null===a||1===a)return nP.createElement(nP.Fragment,null,u);var d=lx(r,a,i);return nP.createElement(nP.Fragment,null,"".concat(u," - ").concat(nO(d.toLocal())));case 6:if(o===z.Flexible)return nP.createElement(nP.Fragment,null,c("contractCounter.storedValueFlexible"));if(null==n)throw Error(l);return nP.createElement(nP.Fragment,null,c("contractCounter.storedValueFixed",{amount:ar(n)}));default:return nP.createElement(nP.Fragment,null,c("contractCounter.unknownContract"))}}function lN(e){switch(e.error){case"unknown":return"organizationsErrors.unknown";case"unavailable":return"organizationsErrors.unavailable";case"not_found":return"organizationsErrors.not_found";case"bad_request":return"organizationsErrors.bad_request";case"organization_misconfigured":return"organizationsErrors.organization_misconfigured";case"no_remaining_allowance":return"organizationsErrors.no_remaining_allowance";default:return"organizationsErrors.unexpected"}}function lP(e,t){var n=e;switch(t.type){case"allowance/got_availability_which_cannot_be_claimed":"pristine"===e.status&&(n={status:"cant_claim",availability:t.availability});break;case"contract_group/fetch_started":"pristine"===e.status&&(n={status:"fetching_contract_group"});break;case"contract_group/fetch_failed":"fetching_contract_group"===e.status&&(n={status:"contract_group_fetch_failed"});break;case"contract_group/fetch_succeeded":"fetching_contract_group"===e.status&&(n={status:"waiting_for_user_action",availability:t.availability,contractGroup:t.contractGroup,startDate:t.startDate,contract:t.contract,forCustomerProfileIds:t.forCustomerProfileIds,counterValue:t.counterValue});break;case"claim/requested_automatically":"pristine"===e.status&&(n={status:"claiming"});break;case"claim/requested_by_user":"waiting_for_user_action"===e.status&&(n={status:"claiming"});break;case"claim/failed":"claiming"===e.status&&(n={status:"claim_failed",error:t.error});break;default:te(t)}return n}function lR(e){var t,n,r=e.organizationMembership,a=e.state,i=e.today,o=e.i18n,s=e.ettFilter,c=e.customerProfileFilter,l=o.t,u=r.getAllowanceData();if(null===r.active_period)return[{date:i,content:l("membershipPage.timelineInactiveMembership"),status:"error"}];var d=[];switch(u.allowance_display){case X.Show:d.push({date:nI.fromIso(r.active_period[0]),content:l("membershipPage.timelineGotAllowance",{allowance:ar(u.allowance)}),status:"neutral"});break;case X.Hide:break;default:te(u)}switch(a.status){case"waiting_for_user_action":if("can_claim"!==r.allowance_availability.status)throw Error('unexepcted allowance availability status "'.concat(r.allowance_availability.status,'", expected "can_claim".'));var p=void 0;switch(r.allowed_ett){case 65:if(null===r.allowance_availability.max_stored_value_price)throw Error('unexepcted max_stored_value_price "'.concat(r.allowance_availability.max_stored_value_price,'", expected a number.'));if(null===r.allowance_availability.best_stored_value_multiplier)throw Error('unexepcted best_stored_value_multiplier "'.concat(r.allowance_availability.best_stored_value_multiplier,'", expected a number.'));var m=void 0;100===r.allowance_availability.best_stored_value_multiplier?m=l("membershipPage.timelineCanLoadStoredValueWithoutDiscount",{price:ar(r.allowance_availability.max_stored_value_price)}):(null===a.counterValue&&ta('No counter value for stored value contract for member from "'.concat(r.organization.name,'" organization'),{organization:r.organization.uid,member:r.member}),m=l("membershipPage.timelineCanLoadStoredValueWithDiscount",{counterValue:ar(a.counterValue),price:ar(r.allowance_availability.max_stored_value_price),profile:c(a.contractGroup.customer_profile)}));var f=function(e){var t=e.storedValueCap,n=e.allowanceData,r=e.maxStoredValuePrice;switch(n.allowance_display){case X.Show:break;case X.Hide:return!1;default:te(n)}return null!==t&&!(n.remaining_allowance<=r)}({storedValueCap:r.stored_value_cap,allowanceData:u,maxStoredValuePrice:r.allowance_availability.max_stored_value_price});p=nP.createElement("p",{className:"m--clear"},nP.createElement("strong",null,m),f&&nP.createElement(nP.Fragment,null,nP.createElement("br",null),l("allowanceAvailabilityCannotClaimReason.maxedStoredValueCap",{cap:ar(r.stored_value_cap),currentStoredValue:ar(r.current_stored_value_counter)})));break;case 20:case 22:p=nP.createElement("p",{className:"m--clear"},l("membershipPage.timelineCanLoadContract",{contractName:a.contractGroup.display_name}),"\xa0",nP.createElement(lT,{etta:a.contractGroup.etta,counterValue:null!==(n=null===(t=a.contractGroup.counter)||void 0===t?void 0:t.value)&&void 0!==n?n:null,validityPeriodType:a.contractGroup.validity_period_type,validityStartDate:a.startDate,validityDurationDays:a.contractGroup.validity_duration_days,counterMode:a.contractGroup.counterMode,displayMode:"concrete"}));break;default:te(r.allowed_ett)}d.push({date:i,status:"active",content:p});break;case"cant_claim":d.push({date:i,content:nP.createElement("p",{className:"m--clear"},nP.createElement("strong",null,l("membershipPage.timelineCantLoadContract",{contractName:function(e,t){switch(e.allowed_ett){case 65:return e.allowed_predefined_contract.name;case 20:case 22:return"".concat(t(e.allowed_ett),", ").concat(e.allowed_predefined_contract.name);default:te(e.allowed_ett)}}(r,s)})),nP.createElement("br",null),function(e,t,n){var r=n.t;switch(e){case ee.MembershipNotActiveYet:if(null===t.next_period)throw Error("No next period for member with future membership.");return r("allowanceAvailabilityCannotClaimReason.membershipNotActiveYet",{date:nI.fromIso(t.next_period[0])});case ee.MembershipInactive:return r("allowanceAvailabilityCannotClaimReason.membershipInactive");case ee.InsufficientAllowanceForContract:return r("allowanceAvailabilityCannotClaimReason.insufficientAllowanceForContract");case ee.MaxedStoredValueCap:return r("allowanceAvailabilityCannotClaimReason.maxedStoredValueCap",{cap:ar(t.stored_value_cap),currentStoredValue:ar(t.current_stored_value_counter)});case ee.ExceededStoredValueLimitOnCard:return r("allowanceAvailabilityCannotClaimReason.exceededStoredValueLimitOnCard");case ee.NoRemainingAllowance:var a=[r("allowanceAvailabilityCannotClaimReason.noRemainingAllowance1")];return null!==t.next_period&&a.push(r("allowanceAvailabilityCannotClaimReason.noRemainingAllowance2",{date:nI.fromIso(t.next_period[0])})),a.join(" ");case ee.OverlappingExistingContract:return r("allowanceAvailabilityCannotClaimReason.overlappingExistingContract");case ee.NoMatchingContractToClaim:return r("allowanceAvailabilityCannotClaimReason.noMatchingContractToClaim");case ee.NoMatchingContractForAnonymousCard:return r("allowanceAvailabilityCannotClaimReason.noMatchingContractForAnonymousCard");default:te(e)}}(a.availability.reason,r,o)),status:"warning"});break;default:te(a)}var h=function(e,t,n,r){switch(t.allowance_display){case X.Hide:return null;case X.Show:break;default:te(t)}var a=r.t,i=nI.fromIso(n[1]).addDays(-1),o=t.remaining_allowance;switch(e.status){case"waiting_for_user_action":var s=void 0;if(null!==e.counterValue)s=o-e.counterValue;else if(null!==e.startDate){if(null===e.contractGroup.price)throw Error("No price found for seasonal contract.");s=o-e.contractGroup.price}else throw Error("Unhandled contract in membership page.");if(s>0)return{date:i,content:a("membershipPage.timelineWillHaveLeft",{remainingAllowance:ar(s)}),status:"neutral"};break;case"cant_claim":if(o>0)return{date:i,content:a("membershipPage.timelineHaveLeft",{remainingAllowance:ar(o)}),status:"neutral"};break;default:te(e)}return null}(a,u,r.active_period,o);return null!==h&&d.push(h),null!==r.next_period&&d.push({date:nI.fromIso(r.next_period[0]),content:l("membershipPage.timelineAllowanceWillBeRenewed"),status:"neutral"}),d}function lL(e,t,n,r,a,i){n({type:"execute_requested"});var o=t.doExecute(e,r.token),s=o[0],c=o[1];s.then(function(){return n({type:"execute_started"})}),c.then(function(){n({type:"execute_succeeded"}),a.trackEvent("scan","organizations_enroll","0",1),t.clear(),i()},function(e){n({type:"execute_failed",error:e}),a.trackEvent("scan","organizations_enroll",e?e.cause:-1,1)})}function lD(e){var t=e.contract,n=e.eligibility,r=e.onCancellationRequest,a=rU().t,i=t0({status:"getting_display_name"}),o=i[0],s=i[1];switch(t2(function(){t.getIdentifyData().then(function(e){return s({status:"ready",displayName:e.display_name})},function(){return s({status:"ready",displayName:null})})},[t]),o.status){case"getting_display_name":return nP.createElement(nP.Fragment,null);case"ready":return nP.createElement("div",{className:"notification"},null===o.displayName?a("cardNotification.entitledCancellationRequestForContractOnCard"):nP.createElement(nP.Fragment,null,a("cardNotification.entitledCancellationRequest"),"\xa0",o.displayName,"\xa0",nP.createElement(lT,{etta:t.etta,counterValue:t.counter?t.counter.value:null,validityStartDate:t.validityStartDate,validityDurationDays:t.validityDurationDays,displayMode:"concrete"})),nP.createElement("div",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return r(n)}},a("cardNotification.issueCancellationRequest"))));default:te(o)}}function lI(e,t,n){return e.filter(function(e){if(n.isDismissed(e))return!1;switch(e.type){case et.EntitledProfileLoadingTypes:return t.hasFeature("can_request_profile_loading");case et.InaccessibleStoredValue:case et.PreferredStoredValue:return t.hasFeature("can_convert_stored_value");case et.CardValidityExtension:return t.hasFeature("can_extend_card_validity");case et.OrganizationsCanRequestEnrollment:return t.hasFeature("can_enroll_member_to_organization");case et.OrganizationsEnrolled:return t.hasFeature("can_claim_organization_member_allowance");case et.EntitledCancellationRequest:return t.hasFeature("can_issue_cancellation_request");default:return!0}})}function lO(e){var t=e.onCancelTransaction,n=e.onProfileLoading,r=e.onContinueProfileLoading,a=e.onReservedTransaction,i=e.onStoredValueConversion,o=e.onCardValidityExtension,s=e.onRequestEnrollment,c=e.onClaimAllowance,l=e.onCancellationRequest,u=e.onContinueCancellationRequest,d=e.allowExternalLinks,p=e.features,m=e.notifications,f=e.canDismissNotification,h=void 0===f||f,v=rU().t,g=nR(oD),y=rK(),b=t0(lI(m,p,g)),_=b[0],E=b[1],w=rH(),S=function(e){if(!h)throw Error("Can't dismiss notification: \"".concat(e.type,'"'));g.isDismissed(e)||g.dismiss(e),E(m.filter(function(t){return t.id!==e.id}))},C=function(e){return h&&nP.createElement("a",{onClick:function(){return S(e)},role:"button"},v("cardNotification.thanksNotInterested"))};return nP.createElement(nP.Fragment,null,_.map(function(e){var p=e.type,m=e.data;switch(p){case et.CancellableTransaction:if(void 0===t)return nP.createElement(nP.Fragment,null);if(null===m.event.contract)throw Error("Unexpected cancellable-transaction with no contract: ".concat(m.transactionUid));return nP.createElement("div",{className:"notification"},nP.createElement("p",null,null!==m.profile_loading_primary_profile?v("cardNotification.cancellableProfile",{profile:y(m.profile_loading_primary_profile),timestamp:nq(m.event.timestamp)}):v("cardNotification.cancellableTransaction",{ett:w(m.event.contract.ett),timestamp:nq(m.event.timestamp)})),nP.createElement("div",{className:"notification-actions"},d&&nP.createElement(sU,{to:"/faq#reloading-cancellation"},v("cardNotification.moreInfo")),nP.createElement("button",{onClick:function(){return t(m.transactionUid)}},v("cardNotification.cancelLoading"))));case et.EntitledProfileLoadingTypes:if(void 0===n)return nP.createElement(nP.Fragment,null);return nP.createElement("div",{className:"notification"},v("cardNotification.canLoadProfileImmediately"),"\xa0",nP.createElement("ul",{className:"l--clear l--comma-delimited t--strong"},m.map(function(e){return nP.createElement("li",{key:e},y(e))})),nP.createElement("div",{className:"notification-actions"},C(e),nP.createElement("button",{onClick:n},v("cardNotification.loadAProfile"))));case et.ActiveProfileLoading:if(void 0===r)return nP.createElement(nP.Fragment,null);return nP.createElement("div",{className:"notification"},nP.createElement("p",null,v("cardNotification.existingProfileLoadingFound",{dateTime:nq(new Date(m.created))})),nP.createElement("div",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return r(m.uid)}},v("cardNotification.continueProfileLoading"))));case et.ReservedTransaction:if(void 0===a)return nP.createElement(nP.Fragment,null);return nP.createElement("div",{className:"notification"},nP.createElement("p",null,v("cardNotification.reservedTransaction",{contract:m.contractDisplayName,by:m.createdBy.full_name,at:nq(m.created)})),nP.createElement("div",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return a(m.uid)}},v("cardNotification.loadTheContract"))));case et.InaccessibleStoredValue:if(void 0===i)return nP.createElement(nP.Fragment,null);return nP.createElement("div",{className:"notification"},nP.createElement("p",null,v("cardNotification.unusableStoredValueFound",{profile:y(m.storedValueConversion.to)})),nP.createElement("div",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return i(m.contractGroup)}},v("cardNotification.convertAStoredValue"))));case et.PreferredStoredValue:if(void 0===i)return nP.createElement(nP.Fragment,null);return nP.createElement("div",{className:"notification"},nP.createElement("p",null,v("cardNotification.convertibleStoredValueFound",{profile:y(m.storedValueConversion.to)})),nP.createElement("div",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return i(m.contractGroup)}},v("cardNotification.convertAStoredValue"))));case et.CardValidityExtension:if(void 0===o)return nP.createElement(nP.Fragment,null);return nP.createElement("div",{className:"notification"},nP.createElement("p",null,v("cardNotification.cardValidityExtension",{until:nO(m.canExtendUntil.toLocal()),endDate:nO(new Date(m.endDate))})),nP.createElement("div",{className:"notification-actions"},C(e),nP.createElement("button",{onClick:function(){return o()}},v("cardNotification.extendCardValidity"))));case et.OrganizationsCanRequestEnrollment:if(void 0===s)return nP.createElement(nP.Fragment,null);return nP.createElement("div",{className:"notification"},nP.createElement("p",null,v("cardNotification.invitationFromOrganization",{organization:e.data.enrollmentStatusCanRequestEnrollment.organization.name})),nP.createElement("div",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return s(e.data.enrollmentStatusCanRequestEnrollment,e.data.ravkavSerial)}},v("cardNotification.joinOrganization"))));case et.OrganizationsEnrolled:if(void 0===c)return nP.createElement(nP.Fragment,null);var f=e.data.enrollmentStatusEnrolled.getAllowanceData(),h=void 0;switch(f.allowance_display){case X.Show:h=v("cardNotification.gotAllowance",{organization:e.data.enrollmentStatusEnrolled.organization.name,remainingAllowance:ar(f.remaining_allowance)});break;case X.Hide:h=v("cardNotification.gotAllowanceRedacted",{organization:e.data.enrollmentStatusEnrolled.organization.name});break;default:te(f)}return nP.createElement("div",{className:"notification"},nP.createElement("p",null,h),nP.createElement("div",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return c(e.data.enrollmentStatusEnrolled.member)}},v("cardNotification.load"))));case et.EntitledCancellationRequest:if(void 0===l)return nP.createElement(nP.Fragment,null);return nP.createElement(lD,{contract:m.contract,eligibility:m.eligibility,onCancellationRequest:l});case et.ActiveCancellationRequest:if(void 0===u)return nP.createElement(nP.Fragment,null);return nP.createElement("div",{className:"notification"},nP.createElement("p",null,v("cardNotification.existingCancellationRequestFound",{createdAt:nq(new Date(m.created))})),nP.createElement("div",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return u(m.uid)}},v("cardNotification.continueCancellationRequest"))));default:return nP.createElement(nP.Fragment,null)}}))}function lF(e){var t=e.checkForAdditionalActions,n=e.cardNotificationsProps,r=e.allowedCardNotificationTypes,a=rU().t,i=r4(),o=aC(),s=i.getFeatures(),c=nR(oD),l=aB(),u=t4(new sK),d=t0({status:"checking_for_additional_actions"}),p=d[0],m=d[1];t2(function(){if(!t){m({status:"no_additional_actions"});return}l.getSession().then(function(e){o.clear(),o.readCard(e.dump_url,u.current.token,!0)[1].then(function(){o.getNotifications(null!==i.getUserAccount()).then(function(e){var t=lI(e,s,c).filter(function(e){return -1!==r.indexOf(e.type)});t.length>0?m({status:"ready",cardNotifications:t}):m({status:"no_additional_actions"})},function(){return m({status:"no_additional_actions"})})},function(){return m({status:"no_additional_actions"})})},function(){return m({status:"no_additional_actions"})})},[r,o,t,s,c,l,i]);var f=function(){return m({status:"no_additional_actions"})};return{popupMarkup:"ready"===p.status?nP.createElement(lr,{show:!0,headerTitle:a("additionalActions"),onClose:f},nP.createElement(lO,eI({},n,{allowExternalLinks:!1,canDismissNotification:!1,notifications:p.cardNotifications,features:s})),nP.createElement("button",{onClick:f,className:"b--clear m--top--small p--small t--center w--100"},a("cardNotification.thanksNotInterested"))):nP.createElement(nP.Fragment,null),state:p}}function lq(e){var t,n,r,a,i,o,s=e.executeEndpoint,c=e.onSuccess,l=rU().t,u=(n=(t=t1(sW,{status:"pristine"}))[0],r=t[1],a=t4(new sK),i=aC(),t2(function(){lL(s,i,r,a.current,o,c);var e=a.current;return function(){e.cancel()}},[o=sk(),i,s,c]),{state:n,retry:function(){lL(s,i,r,a.current,o,c)}}),d=u.state,p=u.retry;switch(d.status){case"pristine":case"waiting_for_card":return nP.createElement("section",null,l("scanCard"),nP.createElement("br",null),l("cardLoader.waitOperationComplete"));case"executing":return nP.createElement("section",null,l("enrollmentRequest.executing"),nP.createElement("br",null),l("pleaseWait"));case"success":return nP.createElement("section",{className:"p--small c--success"},l("enrollmentRequest.success"));case"error":var m=d.error.retry_enabled?nP.createElement("button",{onClick:p},l("tryAgain")):nP.createElement(si,{to:"/scan"},l("back"));return nP.createElement("section",{className:"p--small c--danger"},nP.createElement(lc,{response:d.error,defaultMessage:l("enrollmentRequest.error")}),nP.createElement("footer",null,m));default:te(d)}}var lM=[et.OrganizationsEnrolled];function lB(e){var t=e.waitForAdditionalActions,n=rU().t,r=sa(),a=t6(function(e){return r.push({pathname:"/app/organizations/membership/".concat(e),state:{autoClaim:t}})},[r,t]),i=t0(t),o=i[0],s=i[1],c=lF({checkForAdditionalActions:!0,cardNotificationsProps:{onClaimAllowance:a},allowedCardNotificationTypes:lM}),l=c.popupMarkup,u=c.state;return(t2(function(){switch(u.status){case"checking_for_additional_actions":break;case"ready":for(var e=0,t=u.cardNotifications;e<t.length;e++){var n=t[e];if(n.type===et.OrganizationsEnrolled){a(n.data.enrollmentStatusEnrolled.member);return}}s(!1);break;case"no_additional_actions":s(!1);break;default:te(u)}},[u,a]),o)?nP.createElement("article",{className:"t--center p--regular"},n("pleaseWait")):nP.createElement(nP.Fragment,null,nP.createElement("article",{className:"t--center p--regular"},nP.createElement("h1",{className:"p--small c--success"},n("enrollmentRequest.successTitle"))),l,nP.createElement("footer",{className:"t--center"},nP.createElement("button",{onClick:function(){r.push("scan")}},n("enrollmentRequest.successActionLabel"))))}function lV(e){var t=e.enrollment,n=e.onEnroll,r=rU().t;return t2(function(){n(t)},[n,t]),nP.createElement("article",{className:"t--center p--regular"},r("pleaseWait"))}function lU(e){var t=e.enrollment,n=e.onEnroll,r=e.autoSubmit,a=rU().t;return r?nP.createElement(lV,{enrollment:t,onEnroll:n}):nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--regular"},a("enrollmentRequest.title"))),nP.createElement("p",{className:"p--regular"},a("enrollmentRequest.requestedExplanation",{organization:t.enrollment.organization.name})),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return n(t)}},a("enrollmentRequest.continue"))))}function lj(e){var t=e.content,n=nR(sN).baseUrl,r="".concat(n,"/qr?content=").concat(encodeURIComponent(t));return nP.createElement("img",{src:r,className:"qr"})}var lH=function(e,t,n,r,a){t(function(e){return eI(eI({},e),{printState:"printing"})}),n.print(e).then(function(){r.trackEvent("print",a,"0",1),t(function(e){return eI(eI({},e),{printState:"printed"})})},function(e){r.trackEvent("print",a,e.error,1),t(function(e){return eI(eI({},e),{printState:"print_failed"})})})},lz=function(e,t,n,r,a,i){e({status:"fetching_approval"}),t().then(function(t){e({status:"fetched_approval",printJob:t,approvalLink:e6(t.items,function(e){return"qr"===e.type}).content,printState:"ready"}),n&&lH(t,e,r,a,i)},function(){e({status:"fetching_approval_failed"})})};function lK(e){var t=e.fetchApprovalPrintJob,n=e.printMode,r=e.showQr,a=e.analyticsAction,i=e.showQrWithLink,o=rU().t,s=nR(or),c=sk(),l=t0({status:"waiting"}),u=l[0],d=l[1],p=s.hasPrinter&&n!==eh.Disabled,m=s.hasPrinter&&n===eh.Automatic;switch(t2(function(){m||r?setTimeout(function(){lz(d,t,m,s,c,a)},2e3):d({status:"ready_to_fetch_approval"})},[a,c,m,t,s,r]),u.status){case"waiting":case"fetching_approval":return nP.createElement("div",null,o("pleaseWait"));case"ready_to_fetch_approval":return p?nP.createElement("button",{onClick:function(){return lz(d,t,!0,s,c,a)},className:"c--active p--small"},o("ok")):nP.createElement(nP.Fragment,null);case"fetching_approval_failed":return nP.createElement("div",null,o("posCardOperationApproval.actionNotApprovedYet"),nP.createElement("br",null),nP.createElement("button",{onClick:function(){return lz(d,t,m,s,c,a)},className:"c--active p--small m--top"},o("tryAgain")));case"fetched_approval":return nP.createElement("div",null,p&&nP.createElement("button",{onClick:function(){return lH(u.printJob,d,s,c,a)},disabled:"printing"===u.printState,className:"bg--stable b--all p--small"},o(function(e){switch(e){case"ready":return"posCardOperationApproval.print";case"printing":return"posCardOperationApproval.printing";case"printed":return"posCardOperationApproval.printCopy";case"print_failed":return"posCardOperationApproval.printFailed";default:te(e)}}(u.printState))),r&&nP.createElement("div",{className:"m--top"},nP.createElement("p",{className:"t--small m--bottom--small"},o("posCardOperationApproval.scanQr"),":"),nP.createElement(lj,{content:u.approvalLink}),void 0!==i&&i&&nP.createElement("a",{target:"_blank",href:u.approvalLink,className:"block m--top b--clear t--underline",rel:"noreferrer"},o("posCardOperationApproval.viewApproval"))));default:te(u)}}function lW(e){var t=e.pageTitle,n=e.fetchApprovalPrintJob,r=e.analyticsAction,a=rU().t,i=sg(),o=nR(oY),s=sa(),c=i.getClientPreferences(),l=c.printMode,u=c.showQr!==ev.No,d=c.showQr===ev.ShowWithLink;return t2(function(){var e=o.createWatch(6e4);return e.getPromise().then(function(){s.push("/scan",!0)}).catch(function(){}),function(){e.cancel()}},[s,o]),nP.createElement(nP.Fragment,null,nP.createElement("article",{className:"t--center p--regular"},nP.createElement("h1",{className:"p--small c--success m--bottom"},t),nP.createElement(lK,{fetchApprovalPrintJob:n,printMode:l,showQr:u,showQrWithLink:d,analyticsAction:r})),nP.createElement("footer",null,nP.createElement(si,{to:"/app/scan",replace:!0},a("additionalActions"))))}var lG=[et.InaccessibleStoredValue,et.PreferredStoredValue,et.OrganizationsEnrolled,et.EntitledCancellationRequest];function lY(e,t,n){var r=e.isFlexible()?t:e.validity_start_date;return function(e,t,n){if(0===e.predefined_contract.id||null===t||null===e.validity_duration_days)return 0;for(var r=lx(t,e.validity_duration_days,e.validity_period_type),a=0,i=0;i<n.length;i++){var o=n[i];o.is_obsolete||o.etta!==e.etta||o.predefined_contract!==e.predefined_contract.id||null===o.validityStartDate||null===o.validityEndDate||(a=Math.max(a,function(e,t){var n=nI.max(e[0],t[0]),r=nI.min(e[1],t[1]);return Math.max(0,nI.daysDiff(r,n)+1)}([t,r],[o.validityStartDate,o.validityEndDate])))}return a}(e,r,n)}function lQ(e){var t,n=e.transaction,r=e.onAbortSucceeded,a=e.userAccount,i=rU().t,o=aB(),s=aC(),c=t0("initial"),l=c[0],u=c[1];if(!(null===n.reloading&&n.createdBy.uid===a.uid))return nP.createElement(nP.Fragment,null);switch(l){case"initial":t=null;break;case"confirming_abort":case"aborting":var d="aborting"===l;t=nP.createElement(nP.Fragment,null,nP.createElement("p",{className:"m--clear"},i("reservation.cancelConfirm")),nP.createElement("div",{className:"flex m--top"},nP.createElement("button",{disabled:d,onClick:function(){u("initial")},className:"button-rounded t--brand w--100"},i("no")),"\xa0",nP.createElement("button",{onClick:function(){u("aborting"),o.abort(n.uid).then(function(){s.clearReservedTransactions(),u("abort_succeeded")},function(){u("abort_failed")})},disabled:d,className:"bg--brand button button-positive button-rounded t--light w--100"},i("yes"),d&&nP.createElement(nP.Fragment,null,"\xa0",nP.createElement(iJ,null)))));break;case"abort_failed":t=nP.createElement(nP.Fragment,null,nP.createElement("p",{className:"m--clear"},i("reservation.cancelError")),nP.createElement("button",{onClick:function(){u("initial")},className:"bg--brand button button-positive button-rounded t--light w--100 m--top"},i("ok")));break;case"abort_succeeded":t=nP.createElement(nP.Fragment,null,nP.createElement("p",{className:"m--clear"},i("reservation.cancelled")),nP.createElement("button",{onClick:r,className:"bg--brand button button-positive button-rounded t--light w--100 m--top"},i("ok")));break;default:te(l)}var p=nP.createElement(lr,{show:null!==t,headerTitle:i("reservation.cancel"),onClose:function(){return u("initial")}},t);return nP.createElement(nP.Fragment,null,nP.createElement("button",{onClick:function(){return u("confirming_abort")},className:"button-rounded t--brand t--no-wrap"},i("reservation.cancelReservation")),p)}function lJ(e,t){if(void 0===t&&(t=1),isNaN(e)||!isFinite(e))return"-";var n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(n))).toFixed(t)+["bytes","kB","MB","GB","TB","PB"][n]}function lZ(e){var t,n,r,a,i,o,s,c,l=rU().t,u=(t=e.asof,n=e.leeway,r=e.selectedDate,a=e.onSelect,i=e.allowEmptySelection,o=rU().t,t2(function(){var e=!1;if(null!==r)for(var t=0,n=s.current;t<n.length;t++){var o=n[t];if(nI.isSameDay(o.date,r)){e=!0;break}}e||a(i?null:s.current[0].date)},[a,i,s=t4(nI.range(nI.fromLocal(t),n).map(function(e){return{date:e,label:"".concat(nO(e.toLocal())," ").concat(o(function(e){var t=nI.fromLocal(new Date);switch(nI.daysDiff(e,t)){case 0:return"times.today";case 1:return"times.tomorrow";case 2:return"times.dayAfterTomorrow";default:return"days.".concat(e.weekDay+1)}}(e)))}})),r]),{dates:s,onSelect:a,selectedDate:r,allowEmptySelection:i}),d=u.dates,p=u.onSelect,m=u.selectedDate,f=u.allowEmptySelection;return nP.createElement("select",{onChange:function(e){var t=e.currentTarget.value;""===t?p(null):p(nI.fromIso(t))},value:null!==(c=null==m?void 0:m.toIso())&&void 0!==c?c:"",className:"start-date-picker"},f&&nP.createElement("option",{value:""},l("fromLoadingDate")),d.current.map(function(e){return nP.createElement("option",{key:e.label,value:e.date.toIso()},e.label)}))}function lX(e,t){switch(t.type){case"issuing_started":if("pristine"===e.status)return{status:"issuing"};break;case"issuing_failed":if("issuing"===e.status)return{status:"issue_failed",error:t.error};break;case"issuing_succeeded":if("issuing"===e.status)return{status:"issue_succeeded",transactionUid:t.transactionUid,executeEndpoint:t.executeEndpoint};break;default:te(t)}return e}function l0(e,t){t.abort(e).catch(function(){})}function l1(e,t,n,r,a,i,o,s,c,l){r({type:"execute_requested"});var u=n.extendCardValidity(e,a.token),d=u[0],p=u[1];d.then(function(){return r({type:"execute_started"})}),p.then(function(e){r({type:"execute_succeeded"}),i.trackEvent("scan","card_validity_extension","0",1),n.clear(),l.push({pathname:c,state:{contractNumber:e6(e.result.operations,function(e){return"extend-card-validity"===e.type}),cardSerialNumber:s,uid:t}},!0)},function(e){r({type:"execute_failed",error:e}),a.token.requested&&e.retry_enabled&&l0(t,o),i.trackEvent("scan","card_validity_extension",e?e.cause:-1,1)})}function l2(e){var t,n,r,a,i,o,s,c,l=e.executeEndpoint,u=e.transactionUid,d=e.cardSerialNumber,p=e.successStatePathname,m=rU().t,f=(n=(t=t1(sW,{status:"pristine"}))[0],r=t[1],a=t4(new sK),i=sa(),o=aC(),t2(function(){l1(l,u,o,r,a.current,s,c,d,p,i);var e=a.current;return function(){e.cancel()}},[s=sk(),d,o,l,i,c=nR(oh),p,u]),t2(function(){var e=a.current;return function(){if(e.token.requested){switch(n.status){case"executing":case"success":return;case"pristine":case"waiting_for_card":break;case"error":if(!n.error.retry_enabled)return;break;default:te(n)}l0(u,c)}}},[n,c,u]),{state:n,retry:function(){l1(l,u,o,r,a.current,s,c,d,p,i)}}),h=f.state,v=f.retry;switch(h.status){case"pristine":case"waiting_for_card":return nP.createElement("section",null,m("scanCard"),nP.createElement("br",null),m("cardLoader.waitOperationComplete"));case"executing":return nP.createElement("section",null,m("cve.executing"),nP.createElement("br",null),m("pleaseWait"));case"success":return nP.createElement("section",{className:"p--small c--success"},m("cve.extendedSuccess"));case"error":var g=h.error.retry_enabled?nP.createElement("button",{onClick:v},m("tryAgain")):nP.createElement(si,{to:"/scan"},m("back"));return nP.createElement("section",{className:"p--small c--danger"},nP.createElement(lc,{response:h.error,defaultMessage:m("cve.notExtended")}),nP.createElement("footer",null,g));default:te(h)}}function l3(e){if(null!==e.ride&&2===e.operator)return{ett:nz(iS.etts),originStation:e.ride.origin,destinationStation:e.ride.destination};switch(e.ett){case 20:return{ett:nz(ih.etts),vpt:ih.validityPeriodType};case 22:return{ett:nz(iv.etts),vpt:iv.validityPeriodType};default:return null}}function l4(e){var t,n,r,a,i,o,s,c,l,u,d=e.contract,p=e.onSelect,m=rU().t,f=sa(),h=rH(),v=rG(),g=(n=(t={contract:d,onSelect:p}).contract,r=t.onSelect,a=rU().t,o=(i=t0({status:"initial"}))[0],s=i[1],c="fetch_succeeded"===o.status&&"identified"===o.result.type&&o.result.data.can_be_sold,t2(function(){s({status:"fetching"}),n.getIdentifyData().then(function(e){if(e instanceof nM){s({status:"fetch_succeeded",result:{type:"identified",data:e}});return}s({status:"fetch_succeeded",result:{type:"unidentified",data:e}})})},[n]),{state:o,contractCanBeSold:c,getRenewPriceDescription:function(){if("fetch_succeeded"!==o.status||"unidentified"===o.result.type)return null;if(o.result.data.isFlexibleStoredValue())return a("renewContractStartingAtPrice",{price:ar(3e3)});if(o.result.data.origin_destination_mode===K.Train)return a("renewContract");if(null===o.result.data.price)throw Error("Contract price is null");return a("renewContractAtPrice",{price:ar(o.result.data.price)})},select:function(){"fetch_succeeded"===o.status&&r(n,"identified"===o.result.type?o.result.data:null)}}),y=g.state,b=g.contractCanBeSold,_=g.getRenewPriceDescription,E=g.select;switch(y.status){case"initial":case"fetching":l=nP.createElement(nP.Fragment,null,m("pleaseWait"));break;case"fetch_succeeded":switch(y.result.type){case"identified":if(!b){l=nP.createElement("div",{className:"t--small"},m("contractNotSoldNow"));break}u=E,l=nP.createElement("div",{className:"t--small t--strong t--align-end t--pre-line"},_());break;case"unidentified":var w=l3(d);if(null===w){l=nP.createElement(nP.Fragment,null);break}u=function(){return f.push({pathname:"/app/search",state:w})},l=nP.createElement("div",{className:"t--small t--strong t--align-end t--pre-line"},m("similarContract"));break;default:te(y.result)}break;default:te(y)}return nP.createElement("button",{onClick:u,className:tr("p--small","flex","flex--rows","flex--space-between",b||null!==l3(d)?"c--active":"c--inactive")},nP.createElement("div",{className:"col--grow"},"fetch_succeeded"===y.status&&nP.createElement("div",{className:"t--strong"},y.result.data.display_name),null!==d.ride&&2===d.operator&&nP.createElement("div",null,v(d.ride.origin)," "," ",v(d.ride.destination)),!d.isStoredValue()&&nP.createElement("div",null,h(d.ett)),nP.createElement(lT,{etta:d.etta,counterValue:d.counter?d.counter.value:null,validityStartDate:d.validityStartDate,validityDurationDays:d.validityDurationDays,displayMode:"concrete"})),l)}function l5(e,t){switch(e){case"rate_limited":return"login.tooManyAttempts";case"invalid_credentials":switch(t){case"email":return"messages.invalid_credentials";case"username":return"messagesUsername.invalid_credentials";default:return te(t)}case"inactive_user":return"messages.inactive_user";case"invalid_software":return"messages.invalid_software";case"restricted_software":return"messages.restricted_software";case"invalid_device":return"messages.invalid_device";case"incorrect_token":return"login.incorrectVerificationCode";case"stale_token":return"login.codeExpired";case"out_of_attempts_token":return"login.tooManyAttempts";default:return"messages.login_unknown_error"}}function l6(e){var t=e.isLoading,n=e.placeholder,r=e.verificationCodeLength,a=e.numberOfVerificationCodeIssuingAttempts,i=e.variant,o=e.onIssueVerificationCode,s=e.onSubmit,c=e.error,l=rU().t,u=s6({code:""},{code:[ca(),cc(),ci(r),co(r)]},function(e){s(e.code)}),d=u.values,p=u.touched,m=u.handleChange,f=u.handleSubmit,h=u.errors,v=a<2?nP.createElement("p",{className:"m--top--small"},l("login.codeNotSent"),"\xa0",nP.createElement("a",{className:"t--strong t--underline",onClick:function(){return o(a)}},l("login.resend"))):nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"notification m--top--small"},l("login.codeResent")),nP.createElement(sU,{to:"/contact",className:"t--underline"},l("contact")));return nP.createElement(nP.Fragment,null,nP.createElement("p",{className:"t--pre-line"},l("login.verificationCodeSent")),nP.createElement(s8,{noValidate:!0,autoCapitalize:"off",onSubmit:f,className:"m--top"},nP.createElement(s7,null,nP.createElement("input",{autoFocus:!0,name:"code",type:"tel",dir:"ltr",autoComplete:"off",required:!0,placeholder:n,value:d.code,maxLength:r,onChange:m}),p.code&&null!==h.code&&nP.createElement(s9,{message:h.code})),void 0!==c&&nP.createElement(s7,null,nP.createElement(s9,{message:l(l5(c,i))})),t?nP.createElement("button",{type:"submit",className:"pctr-login__submit-button",disabled:!0},nP.createElement(iJ,null)):nP.createElement(nP.Fragment,null,nP.createElement("button",{type:"submit",className:"pctr-login__submit-button",disabled:t},l("registration.doLogin")),v)))}function l8(e){var t,n,r=e.variant,a=e.onSuccess,i=e.onError,o=e.onForgotPassword,s=e.onRegister,c=e.includeRememberMeOption,l=rU().t,u=r4(),d=t0({status:"awaiting_credentials"}),p=d[0],m=d[1],f=ca(),h=cr(),v=cn(),g=ci(6),y=co(128),b=function(e,t,n){m({status:"issuing_verification_code"}),u.issueVerificationCode(e,t).then(function(e){return m({status:"awaiting_verification_code",verificationCodeLength:e.length,numberOfVerificationCodeIssuingAttempts:n+1})},function(e){return m({status:"login_failed",error:e.message})})};switch(r){case"username":t=l("registrationUsername.username"),n=h;break;case"email":t=l("registration.email"),n=v;break;default:te(r)}var _=s6({username:"",password:"",remember:!0},{username:[f,n],password:[f,g,y],remember:[]},function(e){var t=e.username,n=e.password,r=e.remember;m({status:"logging_in"}),u.login(t,n,null,r).then(function(){m({status:"login_succeeded"}),a()},function(e){var r,a,o,s=null!==(o=null===(a=null===(r=e.data)||void 0===r?void 0:r.data)||void 0===a?void 0:a.detail)&&void 0!==o?o:"login_unknown_error";switch(s){case"verification_required":b(t,n,0);break;case"rate_limited":m({status:"login_failed",error:s});break;default:m({status:"awaiting_credentials",error:s})}void 0!==i&&i(s)})});switch(p.status){case"logging_in":case"awaiting_credentials":var E=_.values,w=_.touched,S=_.handleBlur,C=_.handleChange,k=_.handleSubmit,$=_.errors,A=_.setFieldValue;return nP.createElement(nP.Fragment,null,nP.createElement(s8,{noValidate:!0,autoCapitalize:"off",onSubmit:k},nP.createElement(s7,null,nP.createElement("label",null,t,nP.createElement("input",{name:"username",type:"email",dir:"ltr",autoComplete:"email",autoFocus:!0,value:E.username,onChange:C,onBlur:S}),w.username&&null!==$.username&&nP.createElement(s9,{message:$.username})),nP.createElement(c4,{email:E.username,onSuggestionAccepted:function(e){return A("username",e)}})),nP.createElement(s7,null,nP.createElement("label",null,l("registration.password"),nP.createElement("input",{name:"password",type:"password",dir:"ltr",autoComplete:"current-password",value:E.password,onChange:C,onBlur:S}),w.password&&null!==$.password&&nP.createElement(s9,{message:$.password})),nP.createElement("div",{className:"flex flex--space-between m--top--small"},void 0!==c&&c&&nP.createElement("label",{className:"flex flex--align-center col--grow w--auto"},nP.createElement("input",{name:"remember",type:"checkbox",checked:E.remember,onChange:C,onBlur:S}),"\xa0",l("registration.rememberMe")),void 0!==o&&nP.createElement("button",{type:"button",onClick:function(){return o(E.username)},className:"pctr-login__additional-action-button"},l("registration.forgotPassword")))),"awaiting_credentials"===p.status&&void 0!==p.error&&nP.createElement(s7,null,nP.createElement(s9,{message:l(l5(p.error,r))})),nP.createElement("button",{type:"submit",className:"pctr-login__submit-button",disabled:"logging_in"===p.status},l("registration.doLogin"),"logging_in"===p.status&&nP.createElement(nP.Fragment,null,"\xa0",nP.createElement(iJ,null)))),void 0!==s&&nP.createElement("p",null,l("registration.firstTime"),"\xa0",nP.createElement("button",{onClick:s,className:"pctr-login__additional-action-button"},l("registration.register"))));case"issuing_verification_code":return nP.createElement("div",{className:"flex flex--justify-center p--regular"},nP.createElement(iJ,{size:2}));case"verifying_verification_code":case"awaiting_verification_code":return nP.createElement(l6,{error:p.error,isLoading:"verifying_verification_code"===p.status,placeholder:function(e,t){for(var n="",r=0;r<t;r++)n+="0";return n}(0,p.verificationCodeLength),verificationCodeLength:p.verificationCodeLength,numberOfVerificationCodeIssuingAttempts:p.numberOfVerificationCodeIssuingAttempts,variant:r,onIssueVerificationCode:function(e){var t=_.values;b(t.username,t.password,e)},onSubmit:function(e){if("awaiting_verification_code"===p.status){m(eI(eI({},p),{status:"verifying_verification_code"}));var t=_.values,n=t.username,r=t.password,o=t.remember;u.login(n,r,e,o).then(function(){m({status:"login_succeeded"}),a()},function(e){var t,n,r,a=null!==(r=null===(n=null===(t=e.data)||void 0===t?void 0:t.data)||void 0===n?void 0:n.detail)&&void 0!==r?r:"login_unknown_error";switch(a){case"rate_limited":case"stale_token":case"out_of_attempts_token":m({status:"login_failed",error:a});break;default:m(eI(eI({},p),{status:"awaiting_verification_code",error:a}))}void 0!==i&&i(a)})}}});case"login_succeeded":return nP.createElement(nP.Fragment,null);case"login_failed":switch(p.error){case"rate_limited":case"out_of_attempts_token":return nP.createElement("div",{role:"alert",className:"bg--danger t--light p--small t--strong"},l("login.tooManyAttempts"),".",nP.createElement("br",null),l("login.waitFewMinutes",{minutes:15}));case"stale_token":return nP.createElement(nP.Fragment,null,nP.createElement("div",{role:"alert",className:"bg--danger t--light p--small t--strong"},l("login.codeExpired"),nP.createElement("br",null),l("login.tooMuchTimePassedReLogin"),"\xa0",nP.createElement("button",{className:"bg--transparent b--clear t--light t--underline p--clear t--strong",onClick:function(){return m({status:"awaiting_credentials"})}},l("tryAgain"))));default:return nP.createElement("div",{role:"alert",className:"bg--danger t--light p--small"},l("messages.login_unknown_error"),"\xa0",nP.createElement("button",{className:"button-clear t--light t--underline p--clear t--strong",onClick:function(){return m({status:"awaiting_credentials"})}},l("tryAgain")))}default:te(p)}}function l7(){var e,t=nR(sN).softwareVersion,n=nR(sP),r=t0({deviceSerial:null===(e=sE())||void 0===e?void 0:e.serial,dialogStatus:"closed"}),a=r[0],i=r[1];return t2(function(){n.getVersions().then(function(e){i(function(t){return eI(eI({},t),{appVersion:e.appVersion})})})},[n]),nP.createElement(nP.Fragment,null,nP.createElement("button",{onClick:function(){i(function(e){return eI(eI({},e),{dialogStatus:"open"})})},className:"t--small t--muted bg--transparent b--clear p--small"},[a.appVersion,t,a.deviceSerial].filter(function(e){return!!e}).join(" | ")),"open"===a.dialogStatus&&void 0!==a.deviceSerial&&nP.createElement("div",{onClick:function(){i(function(e){return eI(eI({},e),{dialogStatus:"closed"})})},className:"pctr-dialog"},nP.createElement("div",{className:"pctr-dialog__content"},nP.createElement(lj,{content:a.deviceSerial}))))}var l9='<svg xmlns=http://www.w3.org/2000/svg id=ravkav-logo viewBox="0 0 453.55 35.79"><title>Rav-Kav Online</title><g id=ravkav-logo-ravkav fill=#FFFFFF><polygon points="238.97 0.24 221.53 25.36 222.75 0.24 211.18 0.24 210.86 35.32 224.78 35.32 250.42 0.24 238.97 0.24"/><path d=M62.66.24,37,35.32H48.47l3.76-5.57H65l-.32,5.57H76.27L76.59.24Zm4,7.79-1.1,12.55h-7.1Z /><path d=M158.28,17.9l4.46,17.43h-11l-3.26-13.51h-5l-2.19,6-2.78,7.55H127.29l9.58-25.92,1.67-4.82a5.55,5.55,0,0,0,.2-.93,9.61,9.61,0,0,0-.41-3.43h13.11l-4.3,11.61-.65,1.75h4.37L163.23.24h11.34Z /><polygon points="118.15 14.79 129.37 14.79 123.75 22.27 112.72 22.27 118.15 14.79"/><polygon points="111.15 0.24 93.71 25.36 94.92 0.24 83.35 0.24 83.03 35.32 96.96 35.32 122.59 0.24 111.15 0.24"/><path d=M190.28.24,164.65,35.32h11.44l3.74-5.57h12.83l-.34,5.57h11.56L204.2.24Zm4,7.79-1.1,12.55h-7.1Z /><path d=M42.14,2A8.41,8.41,0,0,0,36.69.26L24.81.24H15.25L3.66,31.56,2.27,35.32H13.43v0l4.49-12.06h4.26l1.5,12.08H35L32.65,21.9c3.64-.13,5.83-1,7-2.91C40.38,16.87,43,9.68,43,9.68a14.41,14.41,0,0,0,.64-2.36Q44.26,3.78,42.14,2Zm-11,8.71a24.39,24.39,0,0,1-2.08,4.71c-.77.61-2.17.54-3.85.54H20.59l2.75-7.53h5A3.59,3.59,0,0,1,30.72,9,1.73,1.73,0,0,1,31.18,10.72Z /></g><g id=ravkav-logo-online fill=#8CE95D><path d=M434.54,8.7l-1.93,5h13.62c-1,2.65-2,5.43-3.08,8.22h-13.6l-1.91,5.2H441.2c-1.12,3-2.22,5.85-3.22,8.52H413L425.1,3.39C426.18.46,429.74.22,429.74.22l21.54,0c-.82,2.16-1.92,5.12-3.2,8.52Z /><polygon points="320.27 0.24 313.04 19.79 305.25 0.24 296.39 0.24 283.41 35.32 294.58 35.32 301.82 15.77 309.6 35.32 318.46 35.32 331.44 0.24 320.27 0.24"/><path d=M380.32.25l-4.4,11.87-5.79,15.67-2.78,7.54H356.19L365.56,10l1.86-5.37s.62-1.32-.21-4.36Z /><path d=M353.86,27.11l-3.06,8.22H335c-.34,0-.68,0-1,0a9,9,0,0,1-5.46-1.75c-1.41-1.18-1.9-2.95-1.49-5.31a13.26,13.26,0,0,1,.65-2.36l5.65-15.28,2.07-6s.63-1.32-.21-4.36h13.12l-4.29,11.61S339.21,25,339.17,25.27a1.29,1.29,0,0,0,.48,1.41,3.25,3.25,0,0,0,1.9.43Z /><polygon points="409.47 0.24 402.23 19.79 394.45 0.24 385.58 0.24 372.61 35.32 383.78 35.32 391.02 15.77 398.8 35.32 407.65 35.32 420.63 0.24 409.47 0.24"/><path d=M287,2.3A9,9,0,0,0,281.51.55c-.33,0-17.14,0-17.14,0-4.36.14-6.65,1.27-7.56,4,0,0,0,0,0,0S249,26.16,249,26.16a13.37,13.37,0,0,0-.65,2.37c-.41,2.36.08,4.12,1.49,5.3a8.93,8.93,0,0,0,5.46,1.75c.33,0,13.66,0,13.66,0h3.41c4.39-.14,6.72-1.29,7.62-4.06L287.81,10a13.48,13.48,0,0,0,.64-2.36C288.87,5.24,288.37,3.48,287,2.3Zm-10.6,8.27c0,.26-4.9,13.42-4.9,13.42l-1.26,3.4h-7.38a3.34,3.34,0,0,1-1.9-.42,1.29,1.29,0,0,1-.48-1.41c0-.26,4.89-13.42,4.89-13.42l1.26-3.4H274a3.38,3.38,0,0,1,1.91.42A1.29,1.29,0,0,1,276.36,10.57Z /></g></svg>',ue='<svg version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink id=ravkav-logo viewbox="0 0 443 60" xml:space=preserve aria-labelledby=title><title>- </title><g id=ravkav-logo-ravkav fill=#FFFFFF><path d="M403.6,9.9h31.8c0,0,7.2,0.7,7.5,8.7c0,0-0.1,3.4-1.6,6.9c-1.5,3.6-9.8,24.2-9.8,24.2h-18.3\n			c0,0,10.3-24.7,10.9-26.3c0.6-1.4,0.6-3.5-2.2-3.5c-2.7,0-21.9,0.1-21.9,0.1L403.6,9.9z"/><path d="M387.6,39.2c2.3-6,4.8-11.9,5.6-13.7c1.5-3.6,1.6-6.8,1.6-6.8c-0.2-7.9-7.5-8.5-7.5-8.5h-31.8l-3.6,9.9\n			c0,0,19.2-0.1,21.9-0.1c2.7,0,2.7,2.1,2.2,3.5c-0.3,0.8-3.6,8.7-6.5,15.7h-22.7l-4.5,10h22.8h18.3h11.2l4.8-10H387.6z"/><polygon points="330,22.8 347.4,22.8 342.9,34.4 325.8,34.4 			"/><path d="M317.8,10.2h-33.5l-3.6,9.9c0,0,21-0.1,23.7-0.1c2.7,0,2.7,2,2.2,3.4c-0.3,0.8-3,7.2-5.6,13.5\n			c-0.5,1.1-1.7,3.3-4.6,3.3h-6.5l4.9-13H274c1,3,0.3,5.3,0.3,5.3l-9.5,27.7h18l3.7-11h9.3c0,0,8.3,0.3,13.7,0.2\n			c2.1,0,4.8-0.7,6.5-4.9c2.6-6.3,6.8-16.7,7.8-19.1c1.5-3.6,1.6-6.7,1.6-6.7C325.1,10.8,317.8,10.2,317.8,10.2z"/><path d=M252.9,9.9h21.6L260,49.7h-18.3l11.6-33.5C253.3,16.2,254.1,14.3,252.9,9.9z /></g><g id=ravkav-logo-online fill=#8CE95D><path d=M171.8,9.8h20.4l-14.6,39.8h-17.1l11.6-33.5C172.1,16.1,173,14.2,171.8,9.8z /><path d=M39.7,9.8h20.4L52.9,28H35.8l4.3-12C40.1,16.1,41,14.2,39.7,9.8z /><path d=M64.2,9.8h20.4L77.3,28H60.2l4.3-12C64.5,16.1,65.4,14.2,64.2,9.8z /><path d=M15.2,9.8h20.4L17.1,59.6H0l15.5-43.5C15.5,16.1,16.4,14.2,15.2,9.8z /><path d="M163.5,10.2h-6.9h0h-17.5l-4.2,11h10.8l-6,17h-10.8l-4.2,11h10.8h0h17.1c0,0,11.7-32.4,13.2-35.5\n			C167.3,10.7,163.5,10.2,163.5,10.2z"/><path d="M227,10.2l-5.7,15.4l-5.7-15.4h-16.3l4.7,12.5c-0.8,0-1.6-0.1-2.2-0.1c-6.6,0-10.1,6.8-10.1,6.8l-7.5,19.8\n			h17.6l6-16.2l6,16.2h16.4l-6.7-18c1.9,0,4,0.2,5.4,0.2c6.6,0,10.1-8,10.1-8l5-13.3H227z"/><path d="M129.2,10.2H126h0h-19.6l3.8-10H90.9c1.2,4,0.3,6.1,0.3,6.1L86,21.2h2.2h13.7h8.8l-14.3,28h17.1\n			c0,0,16.5-32.4,18.1-35.5C133,10.7,129.2,10.2,129.2,10.2z"/></g></svg>',ut='<svg xmlns=http://www.w3.org/2000/svg id=ravkav-logo viewBox="0 0 746.39 126.87"><title>- </title><g id=ravkav-logo-ravkav fill=#FFFFFF><path d=M405.29,37.16a50.86,50.86,0,0,0-12.54,1.4,29.9,29.9,0,0,0-9.5,4.14,23.42,23.42,0,0,0-6.63,6.75,31.12,31.12,0,0,0-4,9.27,46.3,46.3,0,0,0-1.33,6.93,58.52,58.52,0,0,0-.21,7H345a23.1,23.1,0,0,1,.19-4.78A54.64,54.64,0,0,1,346.43,62,46.72,46.72,0,0,1,349,54.64a73.92,73.92,0,0,1,4-7.58l-15.3-2.79a106.87,106.87,0,0,0-5.48,11.53,98.38,98.38,0,0,0-3.91,11.89c-1.54,6-2.16,10.89-1.83,14.73s1.63,6.68,3.94,8.51,5.56,2.74,9.8,2.74h75.43l13.41-51.85a40,40,0,0,0-10.56-3.61A71.54,71.54,0,0,0,405.29,37.16Zm.27,31.11a6.62,6.62,0,0,1-1.79,3.49,5.22,5.22,0,0,1-3.41.94H386.73l2.5-9.67a6.66,6.66,0,0,1,1.79-3.5,5.28,5.28,0,0,1,3.41-.93h13.63Z /><polygon points="422.31 15.61 415.19 6.36 403.82 15.61 410.94 24.86 422.31 15.61"/><path d=M527.54,42.17q-4-2.1-12-2.09H492.13a40.53,40.53,0,0,1,3.58-6q2.4-3.43,5.43-7.11t6-6.82a54.2,54.2,0,0,1,5.35-5l-11.13-8a79,79,0,0,0-8.77,8.56,102.22,102.22,0,0,0-7.88,10.13,90.78,90.78,0,0,0-6.19,10.49A49.68,49.68,0,0,0,474.78,46q-1.87,7.21.4,11.12c1.51,2.61,4.28,3.9,8.3,3.9h30.8l-3,11.66h-59l13.57-52.43H446.93a15.63,15.63,0,0,1,.65,6.23L430.2,93.67h92.28l7.84-30.29q2.32-9,1.76-14A8.59,8.59,0,0,0,527.54,42.17Z /><path d=M655.08,37.16a50.83,50.83,0,0,0-12.53,1.4,29.9,29.9,0,0,0-9.5,4.14,23.58,23.58,0,0,0-6.64,6.75,31.37,31.37,0,0,0-3.95,9.27,46.3,46.3,0,0,0-1.33,6.93,58.52,58.52,0,0,0-.21,7H594.81a23.1,23.1,0,0,1,.19-4.78A52.34,52.34,0,0,1,596.23,62a46.72,46.72,0,0,1,2.57-7.34,73.92,73.92,0,0,1,4-7.58l-15.3-2.79A106.87,106.87,0,0,0,582,55.8a98.38,98.38,0,0,0-3.91,11.89c-1.54,6-2.16,10.89-1.83,14.73s1.63,6.68,3.94,8.51,5.56,2.74,9.8,2.74h75.43l13.41-51.85a40,40,0,0,0-10.56-3.61A71.58,71.58,0,0,0,655.08,37.16Zm.28,31.11a6.62,6.62,0,0,1-1.79,3.49,5.22,5.22,0,0,1-3.41.94H636.53L639,63a6.66,6.66,0,0,1,1.79-3.5,5.28,5.28,0,0,1,3.41-.93h13.63Z /><polygon points="674.1 15.61 666.97 6.36 655.6 15.61 662.73 24.86 674.1 15.61"/><path d=M713.92,20.27H696.69a14.52,14.52,0,0,1,.58,6.65l-.15.57c0,.13-.07.2-.07.2h0L680,93.67h16.65l19-73.4Z /><path d=M729.75,38.91,716.42,90.4a56.44,56.44,0,0,1-3.34,9.91,15.77,15.77,0,0,1-4.34,5.7,31.5,31.5,0,0,1-7.29,4.08l1.69,16.78a53.06,53.06,0,0,0,14.06-8.1,40,40,0,0,0,9.5-11.59,71.89,71.89,0,0,0,6.37-16.78l13.32-51.49Z /><polygon points="538.39 70.56 564.73 70.56 571.66 52.7 544.86 52.7 538.39 70.56"/></g><g id=ravkav-logo-online fill=#8CE95D><path d=M59.77,93.67H97.22l14.17-54.76H94.74L86,72.7H65.2L62.57,82.83,73.94,38.91H57.29L42.94,94.36a6.82,6.82,0,0,1-3.83,5,19.56,19.56,0,0,1-7.54,1.22H17.94a33.56,33.56,0,0,1,.58-5.07Q19,92.74,20,89.12a101.73,101.73,0,0,1,3.48-10.83q2.07-5.36,4.89-11.07l-15.09-2.8c-1.54,3-3,6.1-4.35,9.21S6.31,79.86,5.25,83s-2,6.35-2.85,9.62A67.37,67.37,0,0,0,0,106.89c-.11,3.76.64,6.72,2.23,8.85s4.14,3.65,7.62,4.55a57.35,57.35,0,0,0,13.75,1.33,72.68,72.68,0,0,0,15.23-1.33,22.77,22.77,0,0,0,9.93-4.61,25.16,25.16,0,0,0,6.46-8.91A85.25,85.25,0,0,0,60,92.63Z /><path d=M198.36,72.7h-20.8l13.56-52.43H172.18a14.54,14.54,0,0,1,.59,6.58l-.18.7-.05.14h0l-11.65,45H143.44l7.67-42.53H134.46L126.7,72.7H112l-5.42,21h103l14.16-54.76H207.11Z /><path d=M263.74,37.16a44.84,44.84,0,0,0-12.54,1.63,27.87,27.87,0,0,0-9.71,5,29.43,29.43,0,0,0-7.09,8.51,50.32,50.32,0,0,0-4.8,12.29,56.88,56.88,0,0,0-2,13.11,19,19,0,0,0,1.75,9.08A11.28,11.28,0,0,0,235.1,92,25.15,25.15,0,0,0,245,93.67h7.81l-.27.4a92.71,92.71,0,0,1-8.24,10.14,77.85,77.85,0,0,1-9.58,8.68l7.68,13.74A123.26,123.26,0,0,0,255,114.75a121.08,121.08,0,0,0,10.75-13.4,109.57,109.57,0,0,0,8.38-14.27,77.52,77.52,0,0,0,5.39-14.38l8-30.88a35.58,35.58,0,0,0-10.25-3.61A73.55,73.55,0,0,0,263.74,37.16ZM247.8,62.56a5.49,5.49,0,0,1,2.21-3.5,10.32,10.32,0,0,1,5.08-.93h11.55L264,68.27a6.69,6.69,0,0,1-1.78,3.49,5.25,5.25,0,0,1-3.42.94H245.18Z /><path d=M317.66,19.16c-.43-.35-.49-1.1-.19-2.27L318.73,12q2.64-.93,4.65-1.46A38.09,38.09,0,0,1,328,9.67L330.47,0a39,39,0,0,0-10.29,2.39,20.3,20.3,0,0,0-7.84,5.36,22.42,22.42,0,0,0-4.77,9.61,27.57,27.57,0,0,0-.63,3,22.06,22.06,0,0,0-.2,2.56l-4,1.16-2.17,8.39L327,25.16l2.2-8.5-8.75,2.44C319,19.5,318.09,19.51,317.66,19.16Z /><polygon points="230.73 15.61 223.6 6.36 212.23 15.61 219.35 24.86 230.73 15.61"/><polygon points="60.31 15.61 53.18 6.36 41.81 15.61 48.94 24.86 60.31 15.61"/><polygon points="58.86 112.19 65.98 121.44 77.35 112.19 70.23 102.94 58.86 112.19"/><polygon points="79.97 112.19 87.1 121.44 98.47 112.19 91.34 102.94 79.97 112.19"/><path d=M302.82,38.91h-2.29a14.74,14.74,0,0,1,.59,6.59l-.18.68a.72.72,0,0,1-.06.15h0L288.66,93.67H305.3l14.17-54.76H302.82Z /></g></svg>',un='<svg xmlns=http://www.w3.org/2000/svg id=ravkav-logo viewBox="0 0 796.38 80.89"><title>- </title><g id=ravkav-logo-ravkav fill=#FFFFFF><path d=M49.78,79H69.29l6.4-9.48H97.42L96.87,79h19.72l.55-59.69H93.44ZM98.37,53.88H86.29l13.95-21.35Z /><path d=M283.84,19.27H264.55L243.5,42.05h-7.43l1.1-3,7.32-19.76H222.18a16.27,16.27,0,0,1,.7,5.84,9.68,9.68,0,0,1-.34,1.58l-2.84,8.2L203.4,79h19.09l4.73-12.84L231,56h8.5L245,79h18.71l-7.58-29.65Z /><polygon points="189.85 44.03 180.61 56.75 199.38 56.75 208.94 44.03 189.85 44.03"/><path d=M267,79h19.47l6.36-9.48h21.83L314,79h19.67l.55-59.69H310.57Zm48.55-25.08H303.43l13.95-21.35Z /><path d=M63.6,51.17c1.24-3.6,5.7-15.84,5.7-15.84a25.28,25.28,0,0,0,1.09-4q1-6-2.55-9a14.32,14.32,0,0,0-9.28-3l-20.21,0H22.08L2.36,72.56,0,79H19l7.64-20.52h7.25L50.8,58.3A16,16,0,0,0,63.6,51.17ZM49.19,37.1h-.07a41.46,41.46,0,0,1-3.54,8c-1.31,1-3.69.92-6.55.92H31.17l4.68-12.81h8.51a6.11,6.11,0,0,1,4,1A2.93,2.93,0,0,1,49.19,37.1Z /><path d=M398.37,28.35a10.31,10.31,0,0,0-3.08-4.82,15.61,15.61,0,0,0-5.88-3.11,29.07,29.07,0,0,0-8.4-1.09H353.13a16.43,16.43,0,0,1,.7,5.53L337.58,79.13h23.48A48.07,48.07,0,0,0,371.63,78a33.48,33.48,0,0,0,8.9-3.26,22.75,22.75,0,0,0,6.66-5.37A19,19,0,0,0,391,62a13.67,13.67,0,0,0,.41-5.89,10,10,0,0,0-2.08-4.63,12.17,12.17,0,0,0-4-3.18c-.4-.2-.82-.39-1.24-.57,2.52-1.07,6.71-2.43,8.54-4a18.78,18.78,0,0,0,5.69-9.41A11,11,0,0,0,398.37,28.35ZM374.84,60.22a7.19,7.19,0,0,1-2.94,4c-1.57,1.14-3.95,1.72-7.09,1.72h-4.26l3.84-10.66H368c2.78,0,4.79.47,6,1.4C374.64,57.16,375.42,58.06,374.84,60.22Zm6.23-23.6a6.38,6.38,0,0,1-3,4,10.89,10.89,0,0,1-5.77,1.49h-3.4l3.54-9.55h3.79c2,0,3.5.39,4.33,1.15C381,34.09,381.54,34.85,381.07,36.62Z /><path d=M181.6,28.35a10.25,10.25,0,0,0-3.09-4.82,15.53,15.53,0,0,0-5.88-3.11,29,29,0,0,0-8.39-1.09H136.35a16.19,16.19,0,0,1,.71,5.53L120.8,79.13h23.48A48.1,48.1,0,0,0,154.86,78a33.74,33.74,0,0,0,8.9-3.26,23,23,0,0,0,6.66-5.37A19.26,19.26,0,0,0,174.23,62a13.65,13.65,0,0,0,.4-5.89,10.08,10.08,0,0,0-2.07-4.63,12.11,12.11,0,0,0-4-3.18c-.4-.2-.81-.39-1.24-.57,2.53-1.07,6.72-2.43,8.54-4a18.78,18.78,0,0,0,5.69-9.41A11.11,11.11,0,0,0,181.6,28.35ZM158.07,60.22a7.21,7.21,0,0,1-2.95,4c-1.57,1.14-4,1.72-7.08,1.72h-4.26l3.83-10.66h3.62c2.78,0,4.8.47,6,1.4C157.87,57.16,158.64,58.06,158.07,60.22Zm6.22-23.6a6.37,6.37,0,0,1-3,4,10.94,10.94,0,0,1-5.77,1.49h-3.4l3.54-9.55h3.79c2,0,3.5.39,4.32,1.15C164.22,34.09,164.76,34.85,164.29,36.62Z /></g><g id=ravkav-logo-online fill=#8CE95D><polygon points="524.09 19.8 515.79 42.25 499.62 42.25 507.91 19.8 488.98 19.8 466.82 79.75 485.76 79.75 494.38 56.43 510.55 56.43 501.93 79.75 520.86 79.75 543.02 19.8 524.09 19.8"/><path d=M562.1,19.8h-3.75c1.16,4.19.68,6.46.45,7.17L552.49,40.7a130.07,130.07,0,0,1-6,11.76,64.28,64.28,0,0,1-5.44,8,26.52,26.52,0,0,1-5,4.84,16.51,16.51,0,0,1-4.79,2.39l-1,.29,1.41,12.91,1.39-.11a21.57,21.57,0,0,0,7.36-2.15,30.85,30.85,0,0,0,8.1-6A69.39,69.39,0,0,0,557.18,62a135.21,135.21,0,0,0,9.15-16.3l5.84-12.07h8.75l-17,46.12h17.94L604,19.8Z /><path d=M708.91,17.91a26.82,26.82,0,0,0,12.73-3.21,27.19,27.19,0,0,0,10.08-9.53l.95-1.48-12-3.53-.54.8a13.72,13.72,0,0,1-3.54,3.65,7.17,7.17,0,0,1-4.2,1.28c-1,0-2.34-.16-2.87-.94a5,5,0,0,1-.66-3.17L709,0,694.88,3.39l-.09.94c-.44,4.45.68,7.88,3.32,10.2S704.3,17.91,708.91,17.91Z /><polygon points="717.46 19.8 686.27 51.93 698.15 19.8 681.21 19.8 659.06 79.75 675.63 79.75 707.06 46.94 694.94 79.75 711.87 79.75 734.03 19.8 717.46 19.8"/><path d=M476.6,31.86c.71-4.08-.14-7.08-2.47-9.08a15.28,15.28,0,0,0-9.34-3H435.63c-7.42.24-11.32,2.16-12.86,6.8L409.48,63.37a23.6,23.6,0,0,0-1.11,4c-.7,4,.14,7,2.54,9a15.14,15.14,0,0,0,9.29,3h29c7.47-.24,11.43-2.2,13-6.91l13.31-36.61A23.43,23.43,0,0,0,476.6,31.86Zm-20.5,5c0,.44-8.34,22.83-8.34,22.83l-2.14,5.78H433.06a5.67,5.67,0,0,1-3.23-.71,2.2,2.2,0,0,1-.82-2.4c0-.44,8.32-22.83,8.32-22.83l2.14-5.79H452a5.76,5.76,0,0,1,3.25.72,2.2,2.2,0,0,1,.77,2.4Z /><path d=M588.08,79.48h19.47L613.91,70h21.83l-.58,9.47h19.67l.54-59.68H631.69ZM636.63,54.4H624.55l14-21.35Z /><polygon points="777.45 19.8 769.15 42.25 752.98 42.25 761.28 19.8 742.34 19.8 720.19 79.75 739.12 79.75 747.74 56.43 763.91 56.43 755.3 79.75 774.23 79.75 796.38 19.8 777.45 19.8"/></g></svg>';function ur(){var e;switch(rU().i18n.language){case"en":e=l9;break;case"ar":e=ut;break;case"ru":e=un;break;default:e=ue}return nP.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}function ua(e){var t=e.asof,n=e.contractGroup,r=e.existingContracts,a=e.selectedStartDate,i=rU().t,o=!!a&&22===n.ett&&t.getHours()>=19&&nI.isSameDay(nI.fromLocal(t),a),s=null===r?null:lY(n,null!=a?a:null,r);return nP.createElement(nP.Fragment,null,o&&nP.createElement("div",{role:"alert",className:"contract-group-details-warning"},nP.createElement("strong",null,i("note!"))," ",i("onlyFewHoursRemaining")),null!==s&&s>0&&nP.createElement("div",{role:"alert",className:"contract-group-details-warning"},nP.createElement("strong",null,i("note!"))," ",i("contractOverlapsWithExisting",{count:s})))}function ui(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g,y,b,_=rU().t,E=(t=e.multiplier,n=e.minPrice,r=e.maxStoredValue,a=e.preselectedPrice,i=e.onChange,o=e.onError,s=rU().t,c=aa(r,t),u=(l=t0({price:a<n?n:a>c?c:a,errorMessage:null}))[0],d=l[1],p=t5(function(){return cS(function(e,t){i(e,t)},200)},[i]),t2(function(){if(n<=u.price&&u.price<=c)d(function(e){return eI(eI({},e),{errorMessage:null})}),p(ai(u.price,t),u.price);else{var e;e=c<=n?s("cantLoadMoreStoredValue"):s("minMaxPrice",{minPrice:ar(n),maxPrice:ar(c)}),d(function(t){return eI(eI({},t),{errorMessage:e})}),o()}},[u.price,p,t,s,n,c,o]),m=function(e){var t=parseFloat(e);isNaN(t)||d(function(e){return eI(eI({},e),{price:an(t)})})},f=function(e){var n=parseFloat(e);isNaN(n)||d(function(e){return eI(eI({},e),{price:aa(an(n),t)})})},h=function(e){var t=parseFloat(e);isNaN(t)||d(function(e){return eI(eI({},e),{price:t})})},v=nP.createElement("input",{type:"number",step:.01,min:at(n),max:at(c),value:at(u.price),onChange:function(e){m(e.currentTarget.value)},onFocus:function(e){e.currentTarget.select()},className:"flexible-stored-value-picker__input"}),g=nP.createElement("input",{type:"number",step:.01,min:at(ai(n,t)),max:at(r),value:at(ai(u.price,t)),onChange:function(e){f(e.currentTarget.value)},onFocus:function(e){e.currentTarget.select()},className:"flexible-stored-value-picker__input"}),y=nP.createElement("input",{autoFocus:!0,type:"range",value:u.price,onChange:function(e){h(e.currentTarget.value)},min:n,max:c,step:100}),b=u.errorMessage&&nP.createElement("div",{role:"alert",className:"flexible-stored-value-picker__error-message"},u.errorMessage),{priceInput:v,storedValueInput:g,rangePriceInput:y,increment:function(){d(function(e){return eI(eI({},e),{price:e.price+100})})},decrement:function(){d(function(e){return eI(eI({},e),{price:e.price-100})})},canIncrement:u.price+100<=c,canDecrement:u.price-100>=n,storedValue:ai(u.price,t),error:b}),w=E.priceInput,S=E.increment,C=E.decrement,k=E.canIncrement,$=E.canDecrement,A=E.error,x=E.storedValue;return nP.createElement("form",null,nP.createElement("div",{className:"flex flex--justify-center m--top"},nP.createElement("button",{onClick:C,disabled:!$,type:"button",className:"c--active t--large p--regular"},"-"),nP.createElement("label",{className:"w--50 flex"},w),nP.createElement("button",{onClick:S,disabled:!k,type:"button",className:"c--active t--large p--regular"},"+")),nP.createElement("div",{className:"t--center p--small"},_("ettChoice.storedValue")," ",x/100),A)}var uo="active";function us(e){var t,n=e.activeReformAreaIds;switch(e.metropolin){case 1:t='<svg version=1.1 id=metropolin-tlv class=reform-map xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px viewbox="0 0 540 665" xml:space=preserve aria-labelledby=title><title>Gush Dan</title><path data-id=101 class="reform-area reform-area-1" d="M261.5,219v7c0,1.4-1.2,2.6-2.6,2.6h-11.8c-1.4,0-2.6,1.2-2.6,2.6        v25.3c0,1.4-1.2,2.6-2.6,2.6h-23.6c-1.4,0-2.6,1.2-2.6,2.6l0,9c0,1.4,1,3.1,2.3,3.7l24.1,12.1c1.3,0.6,2.3,2.3,2.3,3.7v31.7        c0,0.7-0.2,1.5-0.5,2.3c-0.3,0.8-0.8,1.5-1.3,2l-6.7,6.7c-0.6,0.6-1.6,1-2.6,1c-0.5,0-1.1-0.1-1.5-0.3l-91.3-46.6        c12.6-33.2,25.6-70.1,38.5-111l51.9,17.4c1.3,0.4,3.6,0.8,5,0.8h15.4v9.7c0,1.4,0.8,3.4,1.8,4.4l6.4,6.4        C260.6,215.6,261.5,217.6,261.5,219"/><path data-id=121 class="reform-area reform-area-2" d="M326.1,137.7l0,42.1h-32.9c-1.4,0-2.6,1.2-2.6,2.6v9.3        c0,1.4-1.2,2.6-2.6,2.6h-36.5H236c-1.4,0-3.7-0.4-5-0.8l-51.9-17.4c5.9-18.7,11.8-38.3,17.7-58.7l75.2,22.2        c1.4,0.4,2.5,1.9,2.5,3.3v11.9c0,1.4,1.2,2.6,2.6,2.6h9.2c1.4,0,3.6-0.5,4.9-1.1l30.3-13.7c1.3-0.6,3-2,3.7-3.2L326.1,137.7z"/><path data-id=122 class="reform-area reform-area-2" d="M254.2,314.7l-9.6,9.6l-0.5-0.2c0.3-0.8,0.5-1.6,0.5-2.3v-31.7        c0-1.4-1-3.1-2.3-3.7l-24.1-12.1c-1.3-0.6-2.3-2.3-2.3-3.7l0-9c0-1.4,1.2-2.6,2.6-2.6H242c1.4,0,2.6-1.2,2.6-2.6v-25.3        c0-1.4,1.2-2.6,2.6-2.6h11.8c1.4,0,2.6-1.2,2.6-2.6v-7c0-1.4-0.8-3.4-1.8-4.4l-6.4-6.4c-1-1-1.8-3-1.8-4.4v-9.7H288        c1.4,0,2.6-1.2,2.6-2.6v-9.3c0-1.4,1.2-2.6,2.6-2.6H326l0,53.1c0,1.4,1.2,2.6,2.6,2.6h5.7V285c0,0.7,0.3,1.4,0.7,2l-0.7,0.6        H320c-1.4,0-2.6,1.2-2.6,2.6v14.3c0,1.4-1.1,2.5-2.5,2.6c0,0-0.1,0-0.1,0h-11.7c-1.4,0-3.4-0.8-4.4-1.8l-7.9-7.9        c-1-1-3-1.8-4.4-1.8h-10.5c-1.4,0-3.4,0.8-4.4,1.8L254.2,314.7z"/><path data-id=123 class="reform-area reform-area-2" d="M233.5,333.8l0.8,0.8L220.1,368c-0.6,1.3-2.2,2.4-3.6,2.4h-13.8        c-1.4,0-3.4,0.8-4.4,1.8l-8.8,8.8c-1,1-2.6,1-3.6,0l-10.1-10.1c-1-1-3-1.8-4.4-1.8H147c-1.4,0-3.6-0.6-4.8-1.3        c0,0-14.6-8.3-28-15.6c8.5-19.9,17.4-41.6,26.4-65.3l91.3,46.6C232.4,333.7,233,333.8,233.5,333.8"/><path data-id=131 class="reform-area reform-area-3" d="M315.1,29.1l4.4,1.9c1.3,0.6,3.5,1,4.9,1h13.7l0.8-0.8        c0.5,0.5,1.1,0.8,1.8,0.8h21.1c3.5,0,8.4,2,10.9,4.5l25.3,25.3c0.5,0.5,1,0.9,1.7,1.4l-26.3,37.7c-0.8,1.2-2.6,2.4-3.9,2.8        l-23.4,6.4c-1.4,0.4-3.1,1.6-3.9,2.8l-16.1,24.9l-0.9,1.5c-0.8,1.2-2.4,2.6-3.7,3.2l-30.3,13.7c-1.3,0.6-3.5,1.1-4.9,1.1H277        c-1.4,0-2.6-1.2-2.6-2.6v-11.9c0-1.4-1.1-2.9-2.5-3.3l-75.2-22.2C207,81.7,217,43.6,226.8,2.8h24.1c1.4,0,3.6,0.5,4.9,1        L315.1,29.1z"/><path data-id=132 class="reform-area reform-area-3" d="M333.7,309.5v6.6c0,1.4-0.8,3.4-1.8,4.4l-12.6,12.6        c-1,1-1.8,3-1.8,4.4v24.7c0,1.4-1.2,2.6-2.6,2.6h-25.5h-8.2c-0.6,0-1.2-0.2-1.7-0.5c0,0,0,0,0,0c-0.8-0.4-1.6-1.1-1.9-1.8        l-23.3-47.7l17.5-17.5c1-1,3-1.8,4.4-1.8h10.5c1.4,0,3.4,0.8,4.4,1.8l7.9,7.9c1,1,3,1.8,4.4,1.8h11.7c0,0,0.1,0,0.1,0h16.2        C332.6,306.9,333.7,308.1,333.7,309.5"/><path data-id=133 class="reform-area reform-area-3" d="M178.2,414c0,1.4-1.1,3-2.4,3.5l-45.6,18.6        c-1.3,0.5-3.4,0.5-4.7-0.1c0,0-24.5-11.2-41.2-18.7c9.4-19,19.4-40.7,30-65.2c13.4,7.3,28,15.6,28,15.6        c1.2,0.7,3.4,1.3,4.8,1.3h24.4c1.4,0,3.4,0.8,4.4,1.8l10.1,10.1c1,1,2.6,1,3.6,0l8.8-8.8c1-1,3-1.8,4.4-1.8h13.8        c1.4,0,3-1.1,3.6-2.4l14.2-33.4l-0.8-0.8c1,0,1.9-0.3,2.6-1l6.6-6.7c0.5-0.5,1-1.2,1.3-2l0.5,0.2l9.6-9.6l23.3,47.7        c0.4,0.8,1.1,1.4,1.9,1.8l-30,15.6c-1.3,0.6-2.3,2.3-2.3,3.7v12.2c0,1.4-1.2,2.6-2.6,2.6h-36.4h-27.4c-1.4,0-2.6,1.2-2.6,2.6        V414z"/><path data-id=134 class="reform-area reform-area-3" d="M528.8,179.8L528.8,179.8l-24.7,0c-1.4,0-3,1.1-3.5,2.4l-11.4,30.9        c-0.5,1.3-2,2.4-3.5,2.4l-34,0c-1.4,0-3.6,0.5-4.9,1l-40.2,17.8c-1.3,0.6-3.5,1-4.9,1h-67.4h-5.7c-1.4,0-2.6-1.2-2.6-2.6        l0-53.1l0-42.1l16.1-24.9c0.8-1.2,2.5-2.5,3.9-2.8l23.4-6.4c1.4-0.4,3.1-1.6,3.9-2.8l26.3-37.7c2.7,1.8,6.4,3.2,9.3,3.2h49.6        c3.5,0,8.4,2,10.9,4.5l48.3,48.3c2.5,2.5,4.5,7.4,4.5,10.9v43.3C522.4,176.9,525.3,179.8,528.8,179.8"/><path data-id=802 class="reform-area reform-area-8" d="M110.3,519.4c0-1.4,0.9-3.2,2.1-4.1l48.6-35.2        c1.1-0.8,3.2-1.5,4.6-1.5h60.1v12.3c0,1.4,0.8,3.4,1.8,4.4l37.2,37.2c0.5,0.5,1.2,0.7,1.8,0.7v1.1v56c0,0.7,0.3,1.3,0.8,1.8        l-0.8,0.8L246,634h-18.9c-1.4,0-2.6,1.2-2.6,2.6v12c0,1.4-1.2,2.6-2.6,2.6h-6.2c-1.4,0-3.4-0.8-4.4-1.8l-42.3-42.3        c-1-1-3-1.8-4.4-1.8h-11.3c-0.7,0-1.3,0.3-1.8,0.8l-0.7-0.8v-40.2c0-1.4-1.2-2.6-2.6-2.6h-35.5c-1.4,0-2.6-1.2-2.6-2.6v-14.5        V519.4z"/><path data-id=801 class="reform-area reform-area-8" d="M112.4,515.3c-1.1,0.8-2.1,2.7-2.1,4.1v26.1c0-1.4-1.2-2.6-2.6-2.6        H46.9v13.2L23,533.9c-2.6-2.4-2.9-6.6-0.8-9.4c0,0,25.7-33.2,62.1-107.1c16.8,7.5,41.2,18.7,41.2,18.7        c1.3,0.6,3.4,0.6,4.7,0.1l45.6-18.6c1.3-0.5,2.4-2.1,2.4-3.5v-13c0-1.4,1.2-2.6,2.6-2.6h27.4v27.8c0,1.4,1.2,2.6,2.6,2.6h12.5        c1.4,0,2.6,1.2,2.6,2.6v35.5v5.1v6.7h-60.1c-1.4,0-3.5,0.7-4.6,1.5L112.4,515.3z"/></svg>';break;case 4:t='<svg version=1.1 class=reform-map id=mtropolin-brs xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px viewbox="0 0 579.3 707" xml:space=preserve aria-labelledby=title><title>Beer Sheva</title><path data-id=401 class="reform-area reform-area-1" d="M267.6,289.5v7.2c0,1.2-0.9,2.1-2.1,2.1h-2.6c-1.2,0-2.1,0.9-2.1,2.1v7.9c0,1.2-0.9,2.1-2.1,2.1H253h-4.1\n		c-1.2,0-2.1-0.9-2.1-2s-0.9-2-2.1-2h-21.3c-1.2,0-2.1-0.9-2.1-2.1v-24.2c0-0.6,0.2-1.2,0.5-1.9c0.3-0.6,0.7-1.2,1.2-1.5l14-10.6\n		c0.9-0.7,1.7-2.2,1.7-3.4v-4.4c0-1.2,0.9-2.1,2.1-2.1h6.6c1.2,0,2.8,0.7,3.6,1.5l8.3,8.3c0.4,0.4,0.8,1,1,1.7\n		c0.3,0.7,0.4,1.3,0.4,1.9v15.1c0,1.2,0.9,2.1,2.1,2.1h2.6C266.6,287.4,267.6,288.4,267.6,289.5"/><path data-id=421 class="reform-area reform-area-2" d="M304.1,234.5l-0.2,0.5l-19.5,26.2c-0.7,0.9-2.2,1.7-3.4,1.7h-6.1c-1.2,0-2.8,0.7-3.6,1.5l-2.3,2.3\n		c-0.8,0.8-2.4,1.5-3.6,1.5h-4.7l-0.4,0.2c-0.3-0.7-0.6-1.3-1.1-1.7l-8.3-8.3c-0.8-0.8-2.4-1.5-3.6-1.5h-6.6c-1.2,0-2.1,1-2.1,2.1\n		v4.4c0,1.2-0.8,2.7-1.7,3.4l-14,10.6c-0.5,0.3-0.9,0.9-1.2,1.5l-0.5-0.2L192,215.6l-0.9-0.2c0.9-0.3,1.7-0.8,2.2-1.5l24.6-31.9\n		c0.7-0.9,1.3-2.6,1.3-3.8V171c0-0.6,0.2-1.1,0.6-1.5c0.4-0.4,0.9-0.6,1.5-0.6h9.3c1.2,0,2.8,0.7,3.6,1.5l34.7,34.7\n		c0.8,0.8,2.4,1.5,3.6,1.5h5.1c1.2,0,2.1-1,2.1-2.1v-9.8c0-1.2,0.9-2.1,2.1-2.1h15.5l-11,22c-0.5,1-0.3,2.6,0.5,3.4l15.6,15.6\n		C302.9,233.9,303.5,234.2,304.1,234.5"/><path data-id=422 class="reform-area reform-area-2" d="M252.9,353.4v2.1h-78.8c-0.6,0-1.3-0.2-1.9-0.4c-0.7-0.3-1.3-0.6-1.7-1.1l-43.8-43.8\n		c-0.8-0.8-1.5-2.4-1.5-3.6V255c0-1.2,0.7-2.8,1.5-3.6l34.4-34.4c0.8-0.8,2.4-1.5,3.6-1.5H190c0.4,0,0.8-0.1,1.2-0.2l0.9,0.2\n		l29.2,63.1l0.5,0.2c-0.3,0.6-0.5,1.3-0.5,1.9v24.2c0,1.2,0.9,2.1,2.1,2.1h21.3c1.2,0,2.1,0.9,2.1,2s0.9,2,2.1,2h4.1v42.4H252.9z"/><path data-id=423 class="reform-area reform-area-2" d="M339.2,285.5c0.5,1,0.3,2.6-0.5,3.5l-57.4,64.9c-0.8,0.9-2.3,1.6-3.5,1.6h-24.9v-2.1V311h5.7\n		c1.2,0,2.1-0.9,2.1-2.1V301c0-1.2,0.9-2.1,2.1-2.1h2.6c1.2,0,2.1-0.9,2.1-2.1v-7.2c0-1.2-0.9-2.1-2.1-2.1h-2.6\n		c-1.2,0-2.1-0.9-2.1-2.1v-15.1c0-0.6-0.2-1.3-0.4-1.9l0.4-0.2h4.7c1.2,0,2.8-0.7,3.6-1.5l2.3-2.3c0.8-0.8,2.4-1.5,3.6-1.5h6.1\n		c1.2,0,2.7-0.8,3.4-1.7l19.5-26.2l0.2-0.5c0.7,0.2,1.3,0.3,1.9,0.3l7.3-0.8L339.2,285.5z"/><path data-id=431 class="reform-area reform-area-3" d="M219.2,168.9l0.6,0.6c-0.4,0.4-0.6,0.9-0.6,1.5v7.2c0,1.2-0.6,2.9-1.3,3.8l-24.5,31.8\n		c-0.5,0.6-1.4,1.2-2.2,1.5c-0.4,0.1-0.8,0.2-1.2,0.2h-25.2c-1.2,0-2.8,0.7-3.6,1.5l-34.4,34.4c-0.8,0.8-1.5,2.4-1.5,3.6v51.6\n		c0,1.2,0.7,2.8,1.5,3.6l43.8,43.8c0.4,0.4,1,0.8,1.7,1l-0.2,0.4l-9.9,8.2c-0.9,0.7-2.6,1.3-3.7,1.3H116c-1.2,0-3,0.3-4.1,0.7\n		l-82.1,28.2l-27-86.7c-0.9-2.8,0.4-6.3,2.8-7.9l42.6-28.4c2.4-1.6,4.4-5.3,4.4-8.2v-31.8c0-2.9,1.7-6.9,3.8-8.9l82.8-81.2\n		c2.1-2,2-5.3-0.1-7.3l-5.2-4.9v-10.8h49.9c1.2,0,2.1,0.9,2.1,2.1v11.9c0,1.2,0.9,2.1,2.1,2.1h29.2c1.2,0,2.1,0.9,2.1,2.1v33H219.2\n		z"/><path data-id=432 class="reform-area reform-area-3" d="M367.2,444.9l29.9,24.3c-2.2-1.3-5.2-1.8-7.4-1.2L87.5,561.8c-2.8,0.9-5.7-0.7-6.6-3.5L29.7,393.9l82.1-28.2\n		c1.1-0.4,2.9-0.7,4.1-0.7h42.5c1.2,0,2.8-0.6,3.7-1.3l9.9-8.2l0.2-0.4c0.7,0.3,1.3,0.4,1.9,0.4h78.8v2.1V369c0,1.2,1,2.1,2.1,2.1\n		h50.5c1.2,0,2.8,0.7,3.6,1.5l23.3,23.3c0.8,0.8,2.4,1.5,3.6,1.5h27.7c1.2,0,2.1,0.9,2.1,2.1l-0.2,42.1\n		C365.6,442.6,366.3,444.2,367.2,444.9"/><path data-id=433 class="reform-area reform-area-3" d="M530,250.7c0.6,2.8,0.5,7.4-0.2,10.2l-8.6,31.6c-0.8,2.8-3.7,5.1-6.6,5.1h-6.7c-2.9,0-5.3,2.4-5.3,5.3v27.7\n		c0,2.9,1.4,7.1,3.2,9.4l9.2,12.1c1.8,2.3,3.2,6.5,3.2,9.4v18.6c0,2.9-1.2,7.3-2.8,9.7l-10.1,16.4c-1.5,2.5-2.8,6.8-2.8,9.7V435\n		c0,2.9,2.4,5.3,5.3,5.3h13.7c2.9,0,5.3,2.4,5.3,5.3v13.7c0,2.9-1.7,6.9-3.8,8.9l-61.3,57.9c-2.1,2-5.5,1.9-7.6-0.1l-55.8-55.8\n		c-0.4-0.4-0.8-0.7-1.3-1l-29.9-24.3c-0.9-0.7-1.6-2.3-1.6-3.4l0.2-42.1c0-1.2-0.9-2.1-2.1-2.1h-27.7c-1.2,0-2.8-0.7-3.6-1.5\n		L309,372.5c-0.8-0.8-2.4-1.5-3.6-1.5H255c-1.2,0-2.1-0.9-2.1-2.1v-11.4v-2.1h24.9c1.2,0,2.7-0.7,3.5-1.6l57.4-64.9\n		c0.8-0.9,1-2.4,0.5-3.5l-25.9-51.6L458.1,218l0.6-0.6c0.4,0.4,0.9,0.6,1.5,0.6H522l0.6-0.1L530,250.7z"/><path data-id=434 class="reform-area reform-area-3" d="M458.7,217.5l-0.6,0.6l-144.8,15.8l-7.3,0.8c-0.6,0.1-1.3,0-1.9-0.3c-0.6-0.2-1.3-0.6-1.7-1l-15.6-15.6\n		c-0.8-0.8-1.1-2.3-0.5-3.4l11-22l17.2-34.5c0.4,0.4,1.2,0.7,1.8,0.7H456c1.2,0,2.1-0.9,2.1-2.1v59.4\n		C458.1,216.6,458.3,217.1,458.7,217.5"/><path data-id=802 class="reform-area reform-area-8" d="M185.9,99.1c0-1.2,0.8-2.6,1.7-3.3L227.4,67c0.9-0.7,2.6-1.2,3.8-1.2h49.2v10.1c0,1.2,0.7,2.8,1.5,3.6\n		l30.4,30.4c0.4,0.4,0.9,0.6,1.5,0.6v0.9V157c0,0.6,0.1,0.5,0.7,0.9l-0.7,1.2l-16.5,33.5h-15.5c-1.2,0-2.4,1.1-2.4,2.2v9.8\n		c0,1.1-0.9,2.1-2.1,2.1h-5.1c-1.2,0-2.8-0.7-3.6-1.5l-34.6-34.5c-0.8-0.8-2.4-1.5-3.6-1.5h-9.2c-0.6,0-1.1,0.2-1.5,0.6l-0.6-0.6\n		v-32.8c0-1.2-0.9-2.1-2.1-2.1H188c-1.2,0-2.1-0.9-2.1-2.1v-11.9V99.1z"/><path data-id=811 class="reform-area reform-area-8" d="M464,523.9c-1.3,1.2-3.5,2.6-5,3.1s-5.8-2.1-7-3.3l-51.3-51.3c-1.2-1.2-2.6-2.6-3-2.9l-0.5-0.3\n		c-2.2-1.3-4.3-1.3-4.3-1.3c-1.7,0.1-4.5,0.5-6.2,1L90.5,560.8c-1.7,0.5-4.1,0.9-5.4,0.8c-1.3-0.1-3.5-1.5-3.3-0.9\n		c0.2,0.7,1.8,1.2,3.5,1.2l91.7,0.3c1.7,0,3.9,1.2,4.7,2.8l49.2,86.4c0.9,1.5,3,2.7,4.7,2.7h19.9c1.7,0,4.1-1.1,5.3-2.3l29.3-32.7\n		c1.2-1.3,3.5-2.4,5.3-2.4h157.8c1.7,0,3.7-1.3,4.4-2.9l33.8-79.1c0.7-1.6,0.2-3.9-1-5.1l-13.7-13.4c-1.2-1.2-3.3-1.2-4.6,0\n		L464,523.9z"/><path data-id=801 class="reform-area reform-area-8" d="M187.7,95.6c-0.9,0.7-1.8,1.9-1.8,3.1v21.1c0-1.1-0.9-2.1-2.1-2.1h-49.7v10.7l-19.6-17.9\n		c-2.1-1.9-2.4-5.4-0.6-7.6c0,0,21-26.8,50.8-86.5c13.7,6.1,33.7,15.1,33.7,15.1c1,0.5,2.8,0.5,3.8,0.1l37.3-15\n		c1.1-0.4,1.9-1.7,1.9-2.9V3.1c0-1.1,0.9-2.1,2.1-2.1H266v22.5c0,1.1,0.9,2.1,2.1,2.1h10.2c1.1,0,2.1,0.9,2.1,2.1v28.6v4.1v5.4\n		h-49.2c-1.2,0-2.9,0.5-3.8,1.2L187.7,95.6z"/><path data-id=901 class="reform-area reform-area-8" d="M504.9,648.9c0.4,1.2,0.7,3.1,0.7,4.3v17.3c0,1.3,0.2,3.2,0.5,4.3l7.1,29.7c0.3,1.2,1.3,1.4,2.1,0.6\n			l11.3-11.3c0.9-0.9,2.6-1.5,3.8-1.5h7.4c1.3,0,2.2-1,2.2-2.2v-17.4c0-1.3,0.7-2.9,1.5-3.8l8.2-8.2c0.9-0.9,1.7-2.5,2-3.8l8.2-37.8\n			h-64.6L504.9,648.9z"/><path data-id=902 class="reform-area reform-area-8" d="M99.3,609.2l32.8,94.3c0.1,0.4,0.3,0.9,0.4,1.4h281l11.1-22.2l2.2-4.4l28.6-57.4c0.8-1.5,0-2.9-1.8-2.9H295.9\n		c-1.8,0-4.1,1.1-5.2,2.3L261.3,653c-1.1,1.2-3.6,2.3-5.2,2.3h-19.8c-1.8,0-3.9-1.2-4.7-2.8l-49.3-86.5c-0.8-1.5-3-2.8-4.7-2.8\n		l-53.6-0.1l-40.9-0.1l15,43.1L99.3,609.2z"/></svg>';break;case 5:t='<svg version=1.1 class=reform-map id=metropolin-ha xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px viewbox="0 0 585 818.2" xml:space=preserve aria-labelledby=title><title>Haifa</title><path data-id=501 class="reform-area reform-area-1" d="M176,362.2l-4.4,13.3c-0.5,1.4-0.8,3.8-0.8,5.3l0,16.6c0,1.5-1.1,3.3-2.4,3.9l-24.2,12.3   c-1.3,0.7-2.4,2.4-2.4,3.9V445c0,1.5-1.2,2.7-2.7,2.7h-28.9c-1.5,0-3.4-1-4.3-2.2l-31.4-44.6c-0.9-1.2-2.8-2.2-4.3-2.2H56   l4.5-55.4c0-3.7,3-6.8,6.8-6.8h11.1c3.7,0,8.9,2.2,11.5,4.8l8.3,8.3c2.6,2.6,7.7,4.8,11.4,4.8c3.6,0,7.6-2.9,8.9-6.4l13.1-36.5   l18,0c1.5,0,2.7,1.2,2.7,2.7v10.5c0,1.5,1.2,2.7,2.7,2.7h10.8c1.5,0,3.6,0.9,4.6,1.9l10.5,10.5c1,1.1,1.5,3.1,1.1,4.5L176,362.2   z"/><path data-id=521 class="reform-area reform-area-2" d="M235.2,304.2v5.7c0,1.5-1.2,2.7-2.7,2.7h-6.1c-1.5,0-2.7,1.2-2.7,2.7v32c0,1.5-1.2,2.7-2.7,2.7h-5.3   c-1.5,0-2.7,1.2-2.7,2.7v7.4c0,1.5,1.2,2.7,2.7,2.7h5.3c1.5,0,2.7,1.2,2.7,2.7v4.7v4.9c0,1.5-1.2,2.7-2.7,2.7H208l0,0   c-0.4-0.5-0.9-0.9-1.4-1.2L176,362.2l5.9-17.9c0.5-1.4,0-3.4-1.1-4.5l-10.5-10.5c-1-1.1-3.1-1.9-4.6-1.9h-10.8   c-1.5,0-2.7-1.2-2.7-2.7v-10.5c0-1.5-1.2-2.7-2.7-2.7l-18,0l7-19.6c1.3-3.5-0.4-6.4-3.8-6.4c-3.3,0-5.6-3-5.1-6.7l3.3-22.3h19.2   c1.5,0,3.6-0.9,4.6-1.9l8.8-8.8c1.1-1,3.1-1.9,4.6-1.9h40.2c1.5,0,3.6,0.9,4.6,1.9l9.6,9.6c0.5,0.5,1.3,1,2.1,1.4l-0.2,0.6v20.8   c0,1.5-1.2,2.7-2.7,2.7h-24.9c-1.5,0-2.7,1.2-2.7,2.7v2.5c0,1.5,1.2,3.1,2.6,3.6l33.7,11.1C234,301.1,235.2,302.7,235.2,304.2"/><path data-id=522 class="reform-area reform-area-2" d="M209,380.6v61.7c0,1.5-1.2,2.7-2.7,2.7l-40.3-0.2c-1.5,0-2.7,1.2-2.7,2.7V467c0,0.7-0.3,1.5-0.7,2.2   c-0.5,0.7-1.1,1.2-1.8,1.5L128.2,483c-1.4,0.5-3.8,1-5.2,1H44.8l7.7-43.7c0.6-3.7,1.2-9.7,1.2-13.4l2.3-28.1h14.2   c1.5,0,3.4,1,4.3,2.2l31.4,44.6c0.9,1.2,2.8,2.2,4.3,2.2H139c1.5,0,2.7-1.2,2.7-2.7v-27.4c0-1.5,1.1-3.3,2.4-3.9l24.2-12.3   c1.3-0.7,2.4-2.4,2.4-3.9l0-16.6c0-1.5,0.4-3.9,0.8-5.3l4.4-13.3l30.6,14.5c0.5,0.2,1,0.7,1.4,1.2   C208.6,378.7,209,379.7,209,380.6"/><path data-id=531 class="reform-area reform-area-3" d="M299.1,192.1l24.1,65.2h-93.8c-0.7,0-1.6-0.2-2.5-0.6c-0.8-0.3-1.6-0.8-2.1-1.4l-9.6-9.6   c-1-1.1-3.1-1.9-4.6-1.9h-40.2c-1.5,0-3.6,0.9-4.6,1.9l-8.8,8.8c-1.1,1.1-3.1,1.9-4.6,1.9h-19.2l13.1-87.4   c0.5-3.7,4-6.7,7.8-6.7h131.5c1.5,0,3.1,1.1,3.6,2.5L299.1,192.1z"/><path data-id=532 class="reform-area reform-area-3" d="M341.5,305.2L341.5,305.2l-12.1,37.3c-0.1,0.2-0.1,0.4-0.2,0.6l-0.7-0.1h-23.8c-1.5,0-3.9,0.4-5.3,0.9   l-75.8,26.4v-4.7c0-1.5-1.2-2.7-2.7-2.7h-5.3c-1.5,0-2.7-1.2-2.7-2.7v-7.4c0-1.5,1.2-2.7,2.7-2.7h5.3c1.5,0,2.7-1.2,2.7-2.7v-32   c0-1.5,1.2-2.7,2.7-2.7h6.1c1.5,0,2.7-1.2,2.7-2.7v-5.7c0-1.5-1.2-3.1-2.6-3.6l-33.7-11.1c-1.4-0.5-2.6-2.1-2.6-3.6v-2.5   c0-1.5,1.2-2.7,2.7-2.7H224c1.5,0,2.7-1.2,2.7-2.7v-20.8l0.2-0.6c0.8,0.3,1.7,0.6,2.5,0.6h93.8l17.1,46.2   C340.5,304.2,340.9,304.7,341.5,305.2"/><path data-id=533 class="reform-area reform-area-3" d="M328.5,343l0.7,0.1c-0.4,1.4-0.7,3.4-0.7,4.7v40.1c0,1.5-1.2,2.7-2.7,2.7h-21.1c-1.5,0-2.7,1.2-2.7,2.7   v12c0,1.5,1.1,3.2,2.5,3.7l6.7,2.8l-15.9,42.3c-0.7,1.7-1.9,2.4-3.7,2.5h-24.2c-1.5,0-3.7,0.6-5,1.4l-73.6,44.2l-0.1-0.1   l-25.5-32.7l-0.6-0.2c0.5-0.7,0.7-1.4,0.7-2.2v-19.6c0-1.5,1.2-2.7,2.7-2.7l40.3,0.2c1.5,0,2.7-1.2,2.7-2.7v-61.7   c0-0.9-0.4-1.9-1-2.7l0,0h12.9c1.5,0,2.7-1.2,2.7-2.7v-4.9l75.8-26.4c1.4-0.5,3.8-0.9,5.3-0.9H328.5z"/><path data-id=534 class="reform-area reform-area-3" d="M176.3,509.7l-35.1,21c-0.3,0.2-0.5,0.3-0.9,0.4c-1.3,0.4-2.9,0.5-4,0.1l-28.1-9.5   c-1.4-0.5-3.8-0.9-5.3-0.9H84.7c-1.5,0-3.6,0.9-4.6,1.9l-3.3,3.3c-1.1,1.1-3.1,1.9-4.6,1.9H36.3c2.1-10.4,4.2-21,6.3-31.7   l2.2-12.4H123c1.5,0,3.8-0.4,5.2-1l32.6-12.3c0.7-0.3,1.3-0.8,1.8-1.5l0.6,0.2l25.5,32.7l0.1,0.1L176.3,509.7z"/><path data-id=1601 class="reform-area reform-area-8" d="M206.4,544.1h1.4c1.9,0,4.5-1.1,5.9-2.4l7.3-7.3c1.3-1.3,3.5-1.3,4.9,0l5.8,5.8l20.5,20.5   c1.3,1.3,4,2.4,5.9,2.4h76.9c1.9,0,3.9-1.5,4.4-3.3l33.7-122.2l-61.4-25.5l-16.2,43c-0.5,1.4-2.6,2.2-4.1,2.2l-22.3,0   c-3.3-0.4-5.6,1-6.9,1.8L179,508.6l22,32.7C202.1,542.8,204.5,544.1,206.4,544.1"/><path data-id=1602 class="reform-area reform-area-8" d="M423.4,818.2c2.7,0,4.8-2.2,4.8-4.8l3.7-332.9c0-2.7,2.2-4.8,4.8-4.8h2.9c2.7,0,4.8-2.2,4.8-4.9l-0.3-3.7   l-71.2-29.5l-33.7,122.2c-0.5,1.8-2.5,3.3-4.4,3.3H258c-1.9,0-4.5-1.1-5.9-2.4l-20.5-20.5l-29.4,47c-1,1.6-1.8,4.5-1.8,6.4v16.9   c0,1.9,1.1,4.5,2.4,5.9l8.5,8.5c1.3,1.3,2.4,4,2.4,5.9v65.9h48.8c3.8,0,9.1,2.2,11.7,4.9l51.8,51.8c2.7,2.7,4.9,8,4.9,11.7v46.4   c0,3.8,3.1,6.9,6.9,6.9H423.4z"/><path data-id=701 class="reform-area reform-area-8" d="M112.4,550.3c0,0,31-19.8,30.7-19.6c-2.4,1.5-5.1,2.1-7.8,1.2l-26.5-9.2c-1.4-0.5-3.8-0.9-5.4-0.9H85   c-1.5,0-3.6,0.9-4.7,1.9l-3.3,3.3c-1.1,1.1-3.2,1.9-4.7,1.9H35.8c1.7-8.2-22.5,101.7-21.9,99.3h25.8c1.5,0,3.9,0.5,5.3,1.1   l63.7,27.1l0.8,0.3V555.5C109.5,553.7,110.8,551.3,112.4,550.3"/><path data-id=1701 class="reform-area reform-area-8" d="M211.3,624.8l-8.5-8.5c-1.3-1.3-2.4-4-2.4-5.9v-16.9c0-1.9,0.8-4.7,1.8-6.4l29.4-47l-5.8-5.8   c-1.3-1.3-3.5-1.3-4.9,0l-7.3,7.3c-1.3,1.3-4,2.4-5.9,2.4h-1.4c-1.9,0-4.3-1.3-5.4-2.8l-22-32.7l-66.9,40.7c-1.6,1-2.6,4.4-2.6,6.3   v101.4l3.9,1.7c1.4,0.6,3.8,1.1,5.3,1.1h40c3.8,0,9.1,2.2,11.7,4.9l27.1,27.2c0.5,0.5,1.1,1,1.8,1.5c2.9,2,6.9,3.4,9.9,3.4h4.4   v-65.9C213.8,628.7,212.7,626.1,211.3,624.8"/><path data-id=1501 class="reform-area reform-area-8" d="M445.6,287.7l5-14.7c0.7-2.1,3.1-4.3,5.2-5l19.4-5.6c2.1-0.6,5.5-0.3,7.5,0.8l37.4,19.8   c2,1,5.4,1.6,7.6,1.3L585,275v-54.7v-43.9c0-3.7-2.2-8.9-4.8-11.5l-20.5-20.5c-2.6-2.6-4.8-7.8-4.8-11.6V6.8   c0-3.7-3-6.8-6.8-6.8h-40.3c-3.7,0-8.9,2.2-11.6,4.8l-33.9,29.1c-2.6,2.6-7.8,4.8-11.5,4.8h-49.1c-3.7,0-6.8,3-6.8,6.8v86.9   c0,3.7-2.2,8.9-4.8,11.5l-48.9,43.5c-2.6,2.6-7.8,4.8-11.6,4.8h-30.6l24.1,65.2l17.1,46.2c0.2,0.6,0.7,1.2,1.2,1.6l0,0l-0.4,1.3   l99.2-14.4C442.5,291.8,444.9,289.8,445.6,287.7"/><path data-id=1502 class="reform-area reform-area-8" d="M527.7,284.2c-2.2,0.4-5.6-0.2-7.6-1.3l-37.4-19.8c-2-1-5.3-1.4-7.5-0.8l-19.4,5.6   c-2.1,0.6-4.5,2.9-5.2,5l-5,14.7c-0.7,2.1-3.1,4.1-5.3,4.4l-99.2,14.4l-11.7,36c-0.1,0.2-0.1,0.4-0.2,0.6   c-0.4,1.4-0.7,3.4-0.7,4.7v40.1c0,1.5-1.2,2.7-2.7,2.7h-21.1c-1.5,0-2.7,1.2-2.7,2.7v12c0,1.5,1.1,3.2,2.5,3.7l6.7,2.8l55.4,23   l77.6,32.2l135.9-135.9c2.6-2.6,4.8-7.8,4.8-11.6V275L527.7,284.2z"/></svg>';break;case 6:t='<svg version=1.1 class=reform-map id=metropolin-jr xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px xml:space=preserve viewbox="0 0 520.4 645.1" aria-labelledby=title><title>Jerusalem</title><path class="reform-area reform-area-1" data-id=601 d="M379.7,282v16.6c0,1.9-1.1,4.4-2.4,5.8l-13.9,13.9l-20.1,20.1    c-1.3,1.3-3.9,2.4-5.8,2.4h-32.3c-1.9,0-3.4,1.5-3.4,3.4V365c0,1.9-1.5,3.4-3.4,3.4h-63.8c-1.9,0-3.4-1.5-3.4-3.4v-11.3    c0-1.9-1.5-3.4-3.4-3.4h-11.7c-0.9,0-1.8,0.4-2.4,1l-1-1v-22.4c0-1.9,1.1-4.4,2.4-5.8l2.6-2.6c1.3-1.3,2.4-3.9,2.4-5.8l0-5    c0-1.9-1.5-3.4-3.4-3.4h-8c-1.9,0-3.4-1.5-3.4-3.4v-13.1c0-1.9,1.5-3.4,3.4-3.4h11.9c1.9,0,3.4-1.5,3.4-3.4V236    c0-1.9,1.5-3.4,3.4-3.4h34.4h2.3c1.9,0,4.7-0.8,6.2-1.8l22.2-13.7c1.6-1,3.9-0.7,5.3,0.6l37.9,37.9c1.3,1.3,2.4,3.9,2.4,5.8v13.9    c0,1.9,1.5,3.4,3.4,3.4h34.9C378.2,278.6,379.7,280.2,379.7,282"/><path class="reform-area reform-area-2" data-id=621 d="M261.8,169.3v63.3h-34.4c-1.9,0-3.4,1.5-3.4,3.4v46.2    c0,1.9-1.5,3.4-3.4,3.4h-11.9c-1.9,0-3.4,1.5-3.4,3.4v13.1c0,1.9,1.5,3.4,3.4,3.4h8c1.9,0,3.4,1.5,3.4,3.4l0,5    c0,1.9-1.1,4.4-2.4,5.8l-2.6,2.6c-1.3,1.3-2.4,3.9-2.4,5.8v22.4l1,1c-0.6,0.6-1,1.5-1,2.4v23.2c0,1.9-1.3,4.1-2.9,5.1l-29.1,11.1    c-0.8,0.5-1.8,0.9-2.9,1.2v-2.8v-19.7c0-1.9-1.5-3.4-3.4-3.4h-11.6c-1.9,0-3.8-1.5-4.3-3.2l-19.4-65.5c-0.5-1.8,0.1-4.3,1.4-5.6    l6-6c0.7-0.7,1-1.5,1-2.4h1.4l110.4-117.2c0.6-0.6,1.1-0.8,1.5-0.8C261.4,167.6,261.8,168.2,261.8,169.3"/><path class="reform-area reform-area-2" data-id=622 d="M261.8,169.3c0-1.1-0.3-1.6-0.9-1.7l0-0.1l9.6,2.4    c1.8,0.4,4.4-0.3,5.7-1.6l12.1-12.1c1.3-1.3,3.9-2.4,5.8-2.4h31.6c1.9,0,3.4,1.5,3.4,3.4v27.5c0,1.9,1.1,4.4,2.5,5.6l79.8,69.4    c1.4,1.2,4.1,2.2,5.9,2.2h0.1v42.4c0,1.9-1.1,4.5-2.4,5.8l-8.2,8.2h-43.4l13.9-13.9c1.3-1.3,2.4-3.9,2.4-5.8V282    c0-1.9-1.5-3.4-3.4-3.4h-34.9c-1.9,0-3.4-1.5-3.4-3.4v-13.9c0-1.9-1.1-4.5-2.4-5.8l-37.9-37.9c-1.3-1.3-3.7-1.6-5.3-0.6    l-22.2,13.7c-1.6,1-4.4,1.8-6.2,1.8h-2.3V169.3z"/><path class="reform-area reform-area-2" data-id=623 d="M364.7,360.4l-69.8,69.8c-1.3,1.3-3.9,2.4-5.8,2.4h-77.8    c-1.9,0-4.4-1.1-5.8-2.4l-25.2-15.1c-1.3-1.3-2.4-3.9-2.4-5.8v-11.2v-3.9c1.1-0.3,2.1-0.7,2.9-1.2l29.1-11.1    c1.6-0.9,2.9-3.2,2.9-5.1v-23.2c0-0.9,0.4-1.8,1-2.4c0.6-0.6,1.5-1,2.4-1H228c1.9,0,3.4,1.5,3.4,3.4V365c0,1.9,1.5,3.4,3.4,3.4    h63.8c1.9,0,3.4-1.5,3.4-3.4v-20.8c0-1.9,1.5-3.4,3.4-3.4h32.3c1.9,0,4.4-1.1,5.8-2.4l20.1-20.1h43.4L364.7,360.4z"/><path class="reform-area reform-area-3" data-id=631 d="M57.3,266.4l39.5-20.5c0,0,0,0,0,0c0.7,0.4,1.5,0.6,2.3,0.6h10.8    l36.7,36.7c0.7,0.7,1,1.5,1,2.4c0,0.9-0.3,1.7-1,2.4l-6,6c-1.3,1.3-2,3.8-1.4,5.6l19.4,65.5c0.5,1.8,2.5,3.2,4.3,3.2h11.6    c1.9,0,3.4,1.5,3.4,3.4v19.7v2.8c-1.2,0.3-2.4,0.5-3.4,0.5h-16.3c-1.9,0-4.5,1.1-5.8,2.4l-70.2,70.2c-0.7,0.7-1.5,1-2.4,1    c-0.9,0-1.7-0.3-2.4-1l-49-49c-1.3-1.3-2.4-3.9-2.4-5.8v-16.2v-8.8v-6.8v-46.7c0-1.9-1.5-3.4-3.4-3.4H6.4c-1.9,0-3.4-1.5-3.4-3.4    v-36.6h48c1.9,0,3.4-1.5,3.4-3.4v-16.1C54.3,269.4,55.7,267.2,57.3,266.4"/><path class="reform-area reform-area-3" data-id=632 d="M172.3,145.6c-0.9-0.2-1.7-0.8-2.3-1.6l-1,0.8h-18.8    c-1.9,0-3.4,1.5-3.4,3.4V167c0,1.8-1.5,3.3-3.3,3.4c0,0-0.1,0-0.1,0h-15.4c-1.9,0-4.4-1.1-5.8-2.4l-10.4-10.4    c-1.3-1.3-3.9-2.4-5.8-2.4H92.4c-1.9,0-4.4,1.1-5.8,2.4l-23.1,23.1l30.7,62.9c0.5,1,1.5,1.9,2.6,2.4c0,0,0,0,0,0    c0.7,0.4,1.5,0.6,2.3,0.6h10.8l36.7,36.7c0.7,0.7,1,1.5,1,2.4h1.4l110.4-117.2c0.6-0.6,1.1-0.8,1.5-0.8l0-0.1L172.3,145.6z"/><path class="reform-area reform-area-3" data-id=633 d="M517.4,262v54.1c0,4.6-3.8,8.4-8.4,8.4h-8.5c-4.6,0-10,3.4-12,7.7    L413.2,495c-1.9,4.2-3.5,11.5-3.5,16.1V614c0,4.6,0.8,12.1,1.9,16.7l2.5,11.3l-0.9,0.2h-99.1c-0.9,0-1.8-0.4-2.4-1    c-0.6-0.6-1-1.5-1-2.4v-95.2v-2.2V478c0-1.9,1-4.5,2.3-5.8l49.3-52.5c1.3-1.4,2.3-4,2.3-5.8v-53.3l42.1-42.1l8.2-8.2    c1.3-1.3,2.4-3.9,2.4-5.8V262H517.4z"/><path class="reform-area reform-area-3" data-id=634 d="M364.7,360.4v53.3c0,1.9-1,4.5-2.3,5.8L313,472.1c-1.3,1.4-2.3,4-2.3,5.8    v63.4v2.2c0,1.9-1.5,3.4-3.4,3.4h-224c-0.9,0-1.8-0.4-2.4-1c-0.6-0.6-1-1.5-1-2.4v-73.8v-1.4c0.9,0,1.7-0.3,2.4-1l70.2-70.2    c1.3-1.3,3.9-2.4,5.8-2.4h16.3c1,0,2.2-0.2,3.4-0.5v3.9v11.2c0,1.9,1.1,4.4,2.4,5.8l25.2,15.1c1.3,1.3,3.9,2.4,5.8,2.4h77.8    c1.9,0,4.4-1.1,5.8-2.4L364.7,360.4z"/><path class="reform-area reform-area-3" data-id=635 d="M260.9,167.5l-88.6-21.9c-0.9-0.2-1.7-0.8-2.3-1.6c-0.6-0.8-1-1.7-1-2.6    V76.3h88.7c1.9,0,4.8-0.6,6.5-1.4l53-23.4c1.7-0.8,4.6-1.4,6.5-1.4l44.8,0c1.9,0,3.9-1.4,4.5-3.2L388,6.2c0.6-1.7,2.7-3.2,4.5-3.2    h32.6v0H509c4.6,0,8.4,3.8,8.4,8.4V262H417.3h-0.1c-1.9,0-4.5-1-5.9-2.2l-79.8-69.4c-1.4-1.2-2.5-3.7-2.5-5.6v-27.5    c0-1.9-1.5-3.4-3.4-3.4H294c-1.9,0-4.4,1.1-5.8,2.4l-12.1,12.1c-1.3,1.3-3.9,2-5.7,1.6L260.9,167.5z"/></svg>';break;default:t=""}var r=t4(null);return t2(function(){if(null===r.current)throw Error("Can't find div element for metropolin");for(var e,t=r.current.querySelectorAll(".reform-area"),a=0;a<t.length;a++){var i=t[a],o=i.getAttribute("data-id"),s=null!==(e=i.getAttribute("class"))&&void 0!==e?e:"",c=void 0;c=null!==o&&-1!==n.indexOf(+o)?"".concat(s," ").concat(uo):s.replace(uo,""),i.setAttribute("class",c)}},[n]),nP.createElement("div",{ref:r,dangerouslySetInnerHTML:{__html:t}})}function uc(e){var t=e.reformArea,n=n6(),r=t.settlements.map(function(e){return n.Settlement[e].name}).sort();return nP.createElement("div",{className:"reform-catalog-settlement"},nP.createElement("span",{className:"reform-catalog-settlement-code-wrap active reform-area-".concat(t.code[0])},nP.createElement("span",{className:"reform-catalog-settlement-code"},t.code)),nP.createElement("span",{className:"reform-catalog-settlement-settlements"},r.join(", ")))}function ul(e){for(var t=e.reformAreaIds,n=e.showMap,r=rU().t,a=n6(),i=rW(),o=t.map(function(e){return a.ReformArea[e]}).sort(function(e,t){var n=n0(e),r=n0(t);return n<r?-1:n>r?1:0}),s={},c=0;c<o.length;c++){var l=o[c];l.metropolin in s||(s[l.metropolin]=[]),s[l.metropolin].push(l)}var u=function(e){return e in a.RealMetropolin};return nP.createElement(nP.Fragment,null,Object.keys(s).map(function(e){var a=s[e];return nP.createElement("div",{key:e,className:"reform-areas-by-metropolin"},nP.createElement("h3",{className:"reform-areas-by-metropolin__title"},u(e)?r("metropolinX",{metropolin:i(e)}):r("additionalAreas"),":"),nP.createElement("div",{className:"reform-areas-by-metropolin__content"},nP.createElement("div",{className:"reform-areas-by-metropolin__settlements"},a.map(function(e){return nP.createElement(uc,{key:e.id,reformArea:e})})),n&&u(e)&&nP.createElement("div",{className:"reform-areas-by-metropolin__map"},nP.createElement(us,{metropolin:+e,activeReformAreaIds:t}))))}))}function uu(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g,y,b,_,E,w,S,C,k,$,A,x=e.showRoundedPrice,T=e.getActionMarkup,N=eO(e,["showRoundedPrice","getActionMarkup"]),P=rU().t,R=rG(),L=(t=n6(),function(e){return t.Area[e]||""}),D=rj(),I=rK(),O=(a=N.contractGroup,i=N.card,o=N.contractPreselectOperator,s=N.contractPreselectStartDate,c=N.initialFlexibleStoredValuePrice,l=N.contractSelectedOriginStation,u=N.contractSelectedDestinationStation,d=N.contractSelectedTariffPrice,p=N.startDateChoices,m=N.allowedOperators,f=N.minStoredValuePrice,h=N.onSelectContract,v=N.primaryActionText,g=N.primaryActionEnabled,y=N.onPrimaryAction,b=sk(),_=nD(),w=(E=t0(function(){var e,t,n,r=(e=null!=l?l:null,t=null!=u?u:null,n=null!=d?d:null,a.origin_destination_mode!==K.Train?null:null===e||null===t||null===n?(_.warn({message:"OriginDestinationMode is Train but got missing contract details",data:{contractGroup:a.id,origin:e,destination:t,price:n}}),null):{origin:e,destination:t,price:n}),c=lA({contractGroup:a,contracts:a.contracts,allowedOperators:m,contractPreselectOperator:null!=o?o:null,contractPreselectStartDate:null!=s?s:null,card:null!=i?i:null}),p=c.selectedContract,f=c.initialOperator,h=c.selectedStartDate,v=c.availableContracts;return{price:null!==r?r.price:a.isFlexibleStoredValue()?null:a.price,selectedContract:p,initialOperator:f,availableContracts:v,selectedStartDate:h,storedValueCounter:null,trainContractDetails:r}}))[0],S=E[1],t2(function(){var e,t,n,r;void 0!==h&&null!==w.price&&null!==w.selectedContract&&h({contractGroup:a,contract:w.selectedContract,startDate:w.selectedStartDate,price:w.price,counterValue:lk(a,w.storedValueCounter),originStation:null!==(t=null===(e=w.trainContractDetails)||void 0===e?void 0:e.origin)&&void 0!==t?t:null,destinationStation:null!==(r=null===(n=w.trainContractDetails)||void 0===n?void 0:n.destination)&&void 0!==r?r:null})},[a,h,w]),eI({initialFlexibleStoredValuePrice:c||5e3,isPrimaryActionEnabled:(g||void 0===g)&&null!==w.price,primaryActionClick:function(){if(null!==w.price&&null!==w.selectedContract&&void 0!==y){var e,t,n,r,i={contractGroup:a,contract:w.selectedContract,startDate:w.selectedStartDate,price:w.price,counterValue:lk(a,w.storedValueCounter),originStation:null!==(t=null===(e=w.trainContractDetails)||void 0===e?void 0:e.origin)&&void 0!==t?t:null,destinationStation:null!==(r=null===(n=w.trainContractDetails)||void 0===n?void 0:n.destination)&&void 0!==r?r:null};if(null!==w.initialOperator){var o=void 0;o=w.initialOperator===i.contract.operator?"contract-recommendation-accepted":"contract-recommendation-not-accepted",b.trackEvent("contract-confirm",o,"".concat(w.initialOperator," -> ").concat(i.contract.operator),1)}y(i)}},selectStartDate:t6(function(e){S(function(t){return eI(eI({},t),{selectedStartDate:e})})},[]),maxStoredValue:Math.max(Math.min(99900-(null!==(n=null==i?void 0:i.getTotalStoredValue())&&void 0!==n?n:0),ai(3e4,a.multiplier)),0),onStoredValueChange:t6(function(e,t){S(function(n){return eI(eI({},n),{storedValueCounter:e,price:t})})},[]),onStoredValueError:t6(function(){S(function(e){return eI(eI({},e),{storedValueCounter:null,price:null})})},[]),existingContracts:null!==(r=null==i?void 0:i.contracts)&&void 0!==r?r:null,selectContract:function(e){S(function(t){return eI(eI({},t),{selectedContract:e})})},contractGroup:a,minStoredValuePrice:f,startDateChoices:p,primaryActionText:v},w)),F=O.existingContracts,q=O.contractGroup,M=O.minStoredValuePrice,B=O.onStoredValueChange,V=O.onStoredValueError,U=O.maxStoredValue,j=O.initialFlexibleStoredValuePrice,H=O.selectStartDate,z=O.trainContractDetails,W=O.selectedStartDate,G=O.startDateChoices,Y=O.price,Q=O.selectedContract,J=O.isPrimaryActionEnabled,Z=new Date;(x&&null!==Y&&q.priceRounded!==Y?0:1)?($=Y,A=null):($=q.priceRounded,A=q.price);var X=null===$?"":ar($);return nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"t--small"},nP.createElement(ua,{asof:Z,contractGroup:q,selectedStartDate:W,existingContracts:F})),nP.createElement("h1",{className:"t--center"}," ",q.display_name," "),nP.createElement("div",{className:"t--strong t--center"},null!==z?nP.createElement(nP.Fragment,null,R(z.origin)," "," ",R(z.destination)):nP.createElement(lT,{etta:q.etta,counterValue:null!==(k=null===(C=q.counter)||void 0===C?void 0:C.value)&&void 0!==k?k:null,validityPeriodType:q.validity_period_type,validityStartDate:W,validityDurationDays:q.validity_duration_days,counterMode:q.counterMode,displayMode:"concrete"})),nP.createElement("div",{className:"t--center"},P("searchContracts.forProfile",{profile:I(q.customer_profile)})),nP.createElement("hr",null),nP.createElement("section",{className:"t--center"},nP.createElement("strong",null,P("payment.pay")),q.isFlexibleStoredValue()?nP.createElement(ui,{multiplier:q.multiplier,minPrice:M,maxStoredValue:U,preselectedPrice:j,onChange:B,onError:V}):nP.createElement(nP.Fragment,null,nP.createElement("h1",{className:X.length>7?"t--large":"t--xlarge"},X),null!==A&&nP.createElement(nP.Fragment,null,P("contractGroupDetails.nonRoundedPrice"),"\xa0",null===Y?"":ar(Y)))),nP.createElement("hr",null),null!==q.modes_of_transport&&q.modes_of_transport.length>0&&nP.createElement("div",{className:"t--small"},nP.createElement(l$,{modesOfTransport:q.modes_of_transport})),""!==q.predefined_contract.comment&&nP.createElement("p",{className:"t--small t--center m--top--small"},q.predefined_contract.comment),nP.createElement("hr",null),q.isFlexible()&&"empty"!==G&&null!==Q&&nP.createElement("details",null,nP.createElement("summary",{className:"p--small t--center button"},P("changeDate")),nP.createElement(lZ,{selectedDate:W,leeway:Q.validity_leeway_days,onSelect:H,allowEmptySelection:!1,asof:Z})),nP.createElement("details",null,nP.createElement("summary",{className:"p--small t--center button"},P("contractDetails")),nP.createElement("div",{className:"t--small"},!q.isInternal()&&nP.createElement("p",{className:"m--top"},nP.createElement("span",{className:"t--strong"},P("predefinedContract"),":")," ",q.predefined_contract.id),q.fare_codes.length>0&&nP.createElement("div",{className:"m--top"},nP.createElement("strong",null,P("fareCodes"),":")," ",nP.createElement("ul",{className:"l--clear l--comma-delimited"},q.fare_codes.map(function(e){return nP.createElement("li",{key:e.fare_code},P("fareCodeRoutesSystem",{routesSystem:e.routes_system.name,fareCode:e.fare_code}))}))),q.respected_by_operators.length>0&&nP.createElement("div",{className:"m--top"},nP.createElement("span",{className:"t--strong"},P("acceptedByOperators"),":")," ",nP.createElement("ul",{className:"l--clear l--comma-delimited"},q.respected_by_operators.map(function(e){return nP.createElement("li",{key:e},D(e))}))),null!==q.journey_interchanges_duration&&nP.createElement("div",{className:"m--top"},nP.createElement("span",{className:"t--strong"},P("interchangeRight.hourlyPass"),":"),P("numMinutes",{count:q.journey_interchanges_duration/60}),q.areas.length>0&&nP.createElement(nP.Fragment,null,",\xa0",nP.createElement("ul",{className:"l--comma-delimited l--clear"},q.areas.map(function(e){return nP.createElement("li",{key:e},L(e))})))),q.isReformContract()&&nP.createElement("div",{className:"m--top--large"},nP.createElement(ul,{showMap:!1,reformAreaIds:q.predefined_contract.reform_areas})))),T(J))}var ud=new oV([1,9,0]);function up(e,t,n){if(!t.hasFeature("can_pay_with_emv"))return!1;var r=oV.parse(e.appVersion);return!(null===r||r.lessThan(ud))&&null===n.error}var um={version:"1.1",language:"he",items:[{type:"text",content:", , ",font:"regular",size:"x-large",alignment:"center",modifiers:["bold"]},{type:"text",content:", English, , ",font:"regular",size:"medium",alignment:"center",modifiers:[]},{type:"text",content:", , , ",font:"monospace",size:"large",alignment:"start",modifiers:["italic"]},{type:"text",content:", , ,  ",font:"serif",size:"medium",alignment:"end",modifiers:["underline"]},{type:"blank",amount:2},{type:"qr",content:"https://ravkavonline.co.il"}]};function uf(e){var t=e.hostedPageUrl,n=e.onSuccess,r=e.onError,a=e.onCancel,i=e.onLoad,o=e.pageTitle,s=e.creditCardDetailsType,c=t4(!1),l=t4(e4());return t2(function(){var e,t=(e=function(e){var i,o=!0;switch(e.data.status){case"success":n();break;case"cancel":a();break;case"error":r(null!==(i=e.data.user_error)&&void 0!==i?i:void 0);break;default:o=!1}o&&t()},window.addEventListener("message",e),function(){window.removeEventListener("message",e)});return function(){t()}},[a,r,n]),nP.createElement("div",{className:"credit-guard-hosted-page credit-guard-hosted-page--".concat(s)},nP.createElement("iframe",{title:o,src:t,sandbox:"allow-forms allow-same-origin allow-scripts",onLoad:function(){if(!c.current){c.current=!0;var e=l.current();void 0!==i&&i(e)}}}))}var uh='<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill=none /><path d="M12 2c-4 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h2.23l2-2H14l2 2h2v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4zM7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm3.5-7H6V6h5v4zm2 0V6h5v4h-5zm3.5 7c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',uv=iz(uh),ug='<svg viewBox="0 0 24 24"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2S13.1 10 12 10zM12 4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2S13.1 4 12 4zM12 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2S13.1 16 12 16z"></path></svg>',uy=iz(ug);function ub(e){var t=e.suggestions,n=e.onSelect,r=e.children,a=t0(null),i=a[0],o=a[1],s=t6(function(e){if(0!==t.length)switch(e.key){case"Down":case"ArrowDown":var r=void 0;r=null===i?0:((r=t.indexOf(i))+1)%t.length,e.preventDefault(),o(t[r]);break;case"Up":case"ArrowUp":var r=void 0;r=null===i?t.length-1:0!==(r=t.indexOf(i))?r-1:t.length-1,e.preventDefault(),o(t[r]);break;case"Enter":null===i?n(t[0]):n(i),e.preventDefault(),o(null)}},[i,n,t]);return t2(function(){return window.addEventListener("keydown",s),function(){return window.removeEventListener("keydown",s)}},[s]),t2(function(){0===t.length&&null!==i&&o(null)},[t,i]),nP.createElement("div",{className:"ac"},r,nP.createElement("ul",{className:tr("ac__suggestions",{"ac__suggestions--hasresults":t.length>0})},t.map(function(e){return nP.createElement("li",{key:e.label,className:tr("ac__suggestion",e.cssClass,{"ac__suggestion--active":null!==i&&e.label===i.label}),onMouseDown:function(e){e.preventDefault()},onClick:function(){return n(e)}},e.label)})))}function u_(e){var t=e.selectedStationId,n=e.placeholder,r=e.disabled,a=e.onSelected,i=nR(iR),o=n6(),s=t6(function(e){return o.TrainStation[e].name},[o.TrainStation]),c=t0({acSuggestions:[],term:null!==t?s(t):""}),l=c[0],u=c[1];t2(function(){u({acSuggestions:[],term:null===t?"":s(t)})},[s,t]);var d=function(e){null!==t&&a(null),u({acSuggestions:""===e?[]:i.findSimilarTrainStations(e).map(function(e){return{label:e.name,value:e.id}}).slice(0,10),term:e})};return nP.createElement(ub,{suggestions:l.acSuggestions,onSelect:function(e){a(e.value),u({acSuggestions:[],term:e.label})}},nP.createElement("div",{className:"train-tariff-picker-search"},nP.createElement(cC,{placeholder:n,autoComplete:"off",className:"train-tariff-picker-search__input",value:l.term,onChange:function(e){return d(null!=e?e:"")},debounce:200,disabled:r}),null!==t&&nP.createElement("button",{onClick:function(){d(""),a(null)},disabled:r,className:"train-tariff-picker-search__clear-button"},nP.createElement(iQ,null))))}var uE=function(e,t,n){return null===e&&null===t?null:e!==t?t:n};function uw(e){var t=e.selectedOrigin,n=e.selectedDestination,r=e.disabled,a=e.onOriginDestinationSelected,i=function(e){var r=uE(e,n,t);a(e,r)},o=function(e){a(uE(e,t,n),e)},s=rU().t;return nP.createElement("div",{className:"flex"},nP.createElement("div",{className:"inline-flex flex--columns flex--space-around"},nP.createElement(uv,{size:1.5}),nP.createElement(uy,{size:1.5}),nP.createElement(uv,{size:1.5})),"\xa0\xa0\xa0",nP.createElement("div",{className:"col--grow"},nP.createElement(u_,{selectedStationId:t,placeholder:s("trainTariffPicker.origin"),onSelected:function(e){return i(e)},disabled:r}),nP.createElement("div",{className:"m--top--small"},nP.createElement(u_,{selectedStationId:n,placeholder:s("trainTariffPicker.destination"),onSelected:function(e){return o(e)},disabled:r}))))}function uS(e){var t=e.routes,n=e.onSelected,r=rG();return nP.createElement("ul",null,t.map(function(e){return nP.createElement("li",{key:s4(e),className:"l--clear"},nP.createElement("button",{onClick:function(){return n(e.origin,e.destination)},className:"w--100 t--align-start bg--transparent b--clear t--underline p--small"},r(e.origin),"  ",r(e.destination)))}))}function uC(e,t,n,r,a){var i=n.reduce(function(e,t){var n=t.customer_profile;return -1===e.indexOf(n)&&e.push(n),e},[]);r({status:"fetching"}),a.findTariff(e,t,i,10).then(function(a){var i,o=a.map(function(e){return e.predefined_contract}).filter(function(e,t,n){return n.indexOf(e)===t});switch(o.length){case 0:i=[];break;case 1:i=function(e,t){var n=[],r=e6(e,function(e){return e.predefined_contract.id===t});if(void 0===r)return n;n.push(r);for(var a=tn(e.filter(function(e){if(e.vat_status===W.Exempt||-1===[20,22].indexOf(e.ett))return!1;var t=r.distance_range,n=e.distance_range;return!(null===n||null===t||0>ix(n,t))}),function(e){return e.ett.toString()}),i=0,o=Object.keys(a);i<o.length;i++){var s=tt(a[o[i]],function(e){return[e.price]});n.push(s[0])}return tt(n,function(e){return[e.price]})}(n,o[0]);break;default:throw Error("Expected a single predefined contract but got ".concat(o.length," ([").concat(o.toString(),"])"))}r({status:"fetch_succeeded",results:i,origin:e,destination:t})},function(){r({status:"fetch_failed",origin:e,destination:t})})}function uk(e){var t=e.contracts,n=e.onSelected,r=e.showPurchaseLabel,a=void 0!==r&&r,i=rU().t,o=rK(),s=rH();return 0===t.length?nP.createElement(cV,{title:i("noMatchingContracts")}):nP.createElement(nP.Fragment,null,t.map(function(e){if(null===e.price)throw Error('Expected a price for contract group "'.concat(e.id,'" but got none.'));var t="".concat(e.display_name,", ").concat(i("searchContracts.forProfile",{profile:o(e.customer_profile)}));return nP.createElement("button",{key:e.id,className:"train-tariff-picker-contract",onClick:function(){return n(e)}},nP.createElement("div",{className:"train-tariff-picker-contract__content"},nP.createElement("div",{className:"train-tariff-picker-contract__name"},s(e.ett)),t),"\xa0\xa0",nP.createElement("span",{className:"train-tariff-picker-contract__price"},a?nP.createElement(nP.Fragment,null,i("purchase"),"\xa0"):"",ar(e.price)))}))}function u$(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v=rU().t,g=(t=e.contractGroups,n=e.selectedOrigin,r=e.selectedDestination,a=e.onOriginDestinationChanged,i=e.onSelected,o=nR(ic),s=nR(ik),l=(c=t0({status:"ready"}))[0],u=c[1],d=function(){return new iC(5,"train-tariff-picker:last-route-cache",s)},p=function(e,t){d().add({origin:e,destination:t})},t2(function(){if(void 0===n||void 0===r){u({status:"ready"});return}uC(n,r,t,u,o)},[t,r,n,o]),{state:l,onOriginDestinationChanged:a,onContractSelected:function(e){"fetch_succeeded"===l.status&&(p(l.origin,l.destination),i(e))},getLastTrainRoutes:function(){return d().get()},setLastTrainRoutes:p,tryAgain:function(e,n){uC(e,n,t,u,o)}}),y=g.state,b=g.onContractSelected,_=g.getLastTrainRoutes,E=g.onOriginDestinationChanged,w=g.tryAgain;switch(y.status){case"ready":var S=_();if(S.length>0){h=nP.createElement(nP.Fragment,null,nP.createElement("h2",{className:"t--regular m--top b--bottom"},v("trainTariffPicker.lastRoutes")),nP.createElement(uS,{routes:S,onSelected:E}));break}h=nP.createElement("p",{className:"m--top t--center t--strong"},v("trainTariffPicker.selectStations"));break;case"fetch_succeeded":h=nP.createElement(uk,{contracts:y.results,onSelected:b});break;case"fetch_failed":h=nP.createElement("div",{className:"t--center p--regular"},nP.createElement("strong",null,v("trainTariffPicker.fetchFailed")),nP.createElement("br",null),nP.createElement("button",{onClick:function(){return w(y.origin,y.destination)},className:"m--top p--small"},v("tryAgain")));break;case"fetching":h=nP.createElement("div",{className:"t--center p--regular"},v("pleaseWait"));break;default:te(y)}return nP.createElement(nP.Fragment,null,nP.createElement(uw,{selectedOrigin:null!==(m=e.selectedOrigin)&&void 0!==m?m:null,selectedDestination:null!==(f=e.selectedDestination)&&void 0!==f?f:null,onOriginDestinationSelected:function(e,t){return E(null!=e?e:void 0,null!=t?t:void 0)},disabled:"fetching"===y.status}),h)}var uA=iz('<svg viewBox="0 0 24 24" fill=currentColor><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>'),ux='<svg viewBox="0 0 48 48" fill=currentColor><path d="M25.99 6c-9.95 0-17.99 8.06-17.99 18h-6l7.79 7.79.14.29 8.07-8.08h-6c0-7.73 6.27-14 14-14s14 6.27 14 14-6.27 14-14 14c-3.87 0-7.36-1.58-9.89-4.11l-2.83 2.83c3.25 3.26 7.74 5.28 12.71 5.28 9.95 0 18.01-8.06 18.01-18s-8.06-18-18.01-18zm-1.99 10v10l8.56 5.08 1.44-2.43-7-4.15v-8.5h-3z"/></svg>',uT=iz(ux);function uN(e){var t,n,r,a,i,o,s,c,l,u,d=e.terms,p=e.onTermsChanged,m=e.recentSearches,f=rU().t,h=t0(!1),v=h[0],g=h[1],y=(n=(t={terms:d,onTermsChanged:p}).terms,r=t.onTermsChanged,a=nR(iR),o=(i=t0({acSuggestions:[],term:""}))[0],s=i[1],c=function(e){if(e!==o.term){var t=[];t=""===e?[]:a.findSimilarSettlements(e).filter(function(e){return -1===n.indexOf(e)}).slice(0,5).map(function(e){return{label:e,value:e}}),s(function(n){return eI(eI({},n),{acSuggestions:t,term:e})})}},l=function(e){r(n.filter(function(t){return t!==e}))},u=function(){l(n[n.length-1])},[o,c,function(e){var t=e.value;-1===n.indexOf(t)&&r(eF(eF([],n,!0),[t],!1)),c("")},l,function(e){0!==n.length&&""===o.term&&"Backspace"===e.key&&(e.preventDefault(),u())},u]),b=y[0],_=y[1],E=y[2],w=y[3],S=y[4];return nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"flex bg--light"},nP.createElement("span",{className:"t--muted inline-flex flex--no-shrink flex--align-center"},nP.createElement(uA,{size:1.5})),nP.createElement("div",{className:"flex flex--align-center"},nP.createElement(ub,{suggestions:b.acSuggestions,onSelect:E},nP.createElement(cC,{debounce:200,value:b.term,onChange:function(e){return _(null!=e?e:"")},placeholder:f(d.length>0?"searchContractsTextSearch.addMore":"searchContractsTextSearch.searchSettlements"),className:"b--clear",autoComplete:"off",onKeyDown:S})),nP.createElement("button",{onClick:function(){return g(!0)},className:"t--muted b--clear bg--light inline-flex flex--align-center"},nP.createElement(uT,{size:1.5})))),d.map(function(e){return nP.createElement("button",{key:e,className:"search-contracts-text-search__tag m--top--small b--clear",onClick:function(){return w(e)}},e,"\xa0\xd7")}),nP.createElement(lr,{onClose:function(){return g(!1)},show:v,headerTitle:f("searchContracts.recentSearches")},m.length>0?nP.createElement("ul",null,m.map(function(e,t){return nP.createElement("li",{key:s4(e),className:t>0?"m--top--small":""},nP.createElement("button",{onClick:function(){p(e),g(!1)},className:"b--clear p--clear bg--light flex flex--align-center"},nP.createElement("span",null,e.join(", ")),nP.createElement("span",{className:"p--small col--grow"}),nP.createElement("span",{className:"t--muted"},nP.createElement(uT,{size:1.5}))))})):nP.createElement("div",{className:"t--center"},nP.createElement("p",null,f("searchContracts.willDisplayRecentSearches")),nP.createElement("button",{className:"w--100 c--active p--small t--center m--top",onClick:function(){return g(!1)}},f("ok")))))}var uP=iz('<svg viewBox="0 0 24 24" fill=currentColor><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></svg>');function uR(e,t){if(e.validityPeriodType!==t.validityPeriodType||e.etts.length!==t.ett.length)return!1;for(var n=0,r=e.etts;n<r.length;n++){var a=r[n];if(-1===t.ett.indexOf(a))return!1}return!0}function uL(e){return!(uR(im,e)||uR(iS,e))}function uD(e){var t,n=e.additionalSearchDetails,r=e.variant,a=rU().t,i=t0(!1),o=i[0],s=i[1],c=rW(),l=nP.createElement("ul",{className:"l--disc l--inside"},nP.createElement("li",null,a("searchContracts.howSearchWorksItem1")),nP.createElement("li",{className:"m--top--small"},a("searchContracts.howSearchWorksItem2")),nP.createElement("li",{className:"m--top--small"},a("searchContracts.howSearchWorksItem3")),nP.createElement("li",{className:"m--top--small"},a("searchContracts.howSearchWorksItem4")),nP.createElement("li",{className:"m--top--small"},a("searchContracts.howSearchWorksItem5")));switch(r){case"modal":t=nP.createElement(cD,{onClose:function(){return s(!1)},show:o,headerTitle:a("searchContracts.howSearchWorks")},l,nP.createElement("button",{onClick:function(){return s(!1)},className:"b--clear bg--success m--top p--small t--brand t--medium t--strong w--100 web-compat__t--medium t--center"},a("back")));break;case"popup":t=nP.createElement(lr,{onClose:function(){return s(!1)},show:o,headerTitle:a("searchContracts.howSearchWorks")},l,nP.createElement("button",{onClick:function(){return s(!1)},className:"b--clear bg--brand m--top p--small t--brand t--center t--light t--medium t--strong w--100"},a("back")));break;default:te(r)}var u=[];return void 0!==n&&(null!==n.maxDistance&&u.push(nP.createElement("li",null,a("km",{km:Math.round(n.maxDistance)}))),n.metropolins.length>0&&u.push(nP.createElement("li",null,n.metropolins.map(function(e){return'"'.concat(c(e),'"')}).join(" + ")))),nP.createElement(nP.Fragment,null,nP.createElement("button",{onClick:function(){return s(!0)},className:"b--clear bg--transparent flex flex--align-center"},nP.createElement("span",{className:"inline-flex t--brand"},nP.createElement(uP,null)),"\xa0",u.length>0?nP.createElement("ul",{className:"l--clear l--comma-delimited l--comma-delimited--inline t--strong"},u):nP.createElement("span",{onClick:function(){return s(!0)}},a("searchContracts.howSearchWorks"))),t)}function uI(e){var t=e.contracts,n=e.onSelected,r=rU().t;return nP.createElement(nP.Fragment,null,t.map(function(e,t){var a;return nP.createElement("button",{key:e.id,onClick:function(){return n(e)},className:tr("flex","p--regular",e.can_be_sold?"c--active":"c--inactive",{"m--top":0!==t})},nP.createElement("div",{className:"col--grow"},nP.createElement("strong",null,e.display_name),function(e){switch(e){case H.Unlimited:case H.Fixed:return!0;case H.Calendrical:case H.MonthlyFlexible:case H.Flexible:return!1;default:te(e)}}(e.validity_period_type)&&nP.createElement("div",{className:"t--small"},nP.createElement(lT,{etta:e.etta,counterValue:null===(a=e.counter)||void 0===a?void 0:a.value,validityPeriodType:e.validity_period_type,validityStartDate:e.validity_start_date,validityDurationDays:e.validity_duration_days,counterMode:e.counterMode,displayMode:"abstract"})),!e.can_be_sold&&nP.createElement("div",{className:"t--small"},r("contractNotSoldNow"))),nP.createElement("span",{className:"col--grow p--small"}),nP.createElement("div",{className:"t--center t--strong"},function(e){var t=e.contractGroup,n=e.getMarkupForFlexibleStoredValue,r=e.getMarkup;if(t.isFlexibleStoredValue())return n();if(null===t.price)throw Error("Got non flexible stored value contract group ".concat(t.id," with no price."));return r(t.price)}({contractGroup:e,getMarkupForFlexibleStoredValue:function(){return""},getMarkup:function(e){return ar(e)}})))}))}function uO(e){var t,n,r,a=e.query,i=e.onQueryChanged,o=e.onSelected,s=e.ettChoices,c=e.card,l=e.onBack,u=rU().t,d=nR(sR),p=nR(i$),m=(x=(A={query:a,ettChoices:s,onQueryChanged:i,onSelected:o}).query,T=A.ettChoices,N=A.onQueryChanged,P=A.onSelected,R=sk(),L=nR(iR),D=n6(),O=(I=t0(function(){if(x.ett.length>0){var e=e6(T,function(e){return uR(e,x)});if(void 0!==e)return{status:"ett_selected",query:x,selectedEttChoice:e,selectedContract:null,maxTermsCount:0,search:{status:"ready"},searchResults:{status:"pristine"}}}return{status:"awaiting_ett_selection",query:x,ettChoices:T,maxTermsCount:0}}))[0],F=I[1],t2(function(){var e,t=e6(T,function(e){return uR(e,x)});if(void 0===t){F(function(e){return{status:"awaiting_ett_selection",ettChoices:T,maxTermsCount:e.maxTermsCount,query:x}});return}F(function(e){var n;switch(e.status){case"awaiting_ett_selection":n={status:"pristine"};break;case"ett_selected":n=e.searchResults;break;default:te(e)}return{status:"ett_selected",query:x,selectedEttChoice:t,selectedContract:null,maxTermsCount:Math.max(e.maxTermsCount,x.terms.length),search:{status:"searching",ongoingQuery:x},searchResults:n}}),e=uL(x)?x:x.replace({terms:[]}),uR(iS,x)&&(e=e.replace({terms:[],ett:[10,20,22],modesOfTransport:[G.Rail]})),L.search(e).then(function(e){var t=e[0],n=e[1];F(function(e){switch(e.status){case"awaiting_ett_selection":return e;case"ett_selected":break;default:te(e)}switch(e.search.status){case"failed":case"ready":return e;case"searching":break;default:te(e.search)}return x!==e.search.ongoingQuery?e:eI(eI({},e),{search:{status:"ready"},searchResults:{status:"executed",resultsQuery:x,results:t,additionalSearchDetails:n}})})},function(){F(function(e){return eI(eI({},e),{search:{status:"failed"}})})})},[T,x,D,L]),cM(function(){switch(R.trackEvent("search-contracts","max-search-terms-count",O.maxTermsCount.toString(),1),O.status){case"awaiting_ett_selection":break;case"ett_selected":var e="".concat(O.selectedEttChoice.code," ").concat(0===O.query.terms.length?"-":eF([],O.query.terms,!0).sort().join(",")),t=void 0;switch(O.searchResults.status){case"pristine":t=0;break;case"executed":t=O.searchResults.results.length;break;default:te(O.searchResults)}var n=void 0;n=null!==O.selectedContract?"found-results":"exit-search",R.trackEvent("search-contracts",n,e,t);break;default:te(O)}}),{state:O,canPickTrainTariff:function(){return"ett_selected"===O.status&&"pristine"!==O.searchResults.status&&uR(iS,O.searchResults.resultsQuery)},setEttChoice:function(e){N({ett:e.etts,validityPeriodType:e.validityPeriodType})},resetEttChoice:function(){N({ett:[],validityPeriodType:void 0})},setTerms:function(e){N({terms:eF([],e,!0)})},setOriginDestinationStation:function(e,t){N({originStation:e,destinationStation:t})},selectContractGroup:function(e){switch(O.status){case"awaiting_ett_selection":return;case"ett_selected":break;default:te(O)}F(eI(eI({},O),{selectedContract:e})),P(e)}}),f=m.state,h=m.canPickTrainTariff,v=m.setEttChoice,g=m.resetEttChoice,y=m.setTerms,b=m.setOriginDestinationStation,_=m.selectContractGroup,E=new iC(5,"search-contracts:recent-searched-contracts",p),w=E.get(),S=void 0!==l;switch(t2(function(){switch(f.status){case"awaiting_ett_selection":break;case"ett_selected":switch(f.search.status){case"failed":case"ready":d.hide();break;case"searching":d.show();break;default:te(f.search)}break;default:te(f)}},[d,f]),f.status){case"awaiting_ett_selection":t=nP.createElement(nP.Fragment,null),r=S&&nP.createElement("footer",null,nP.createElement("button",{onClick:l},u("back"))),n=nP.createElement("div",{className:"flex flex--columns"},f.ettChoices.map(function(e,t){return nP.createElement("button",{key:e.code,className:tr("p--regular","c--active","t--strong",{"m--top":0!==t}),onClick:function(){v(e)}},u(e.code))}));break;case"ett_selected":if(h())switch(f.search.status){case"failed":n=nP.createElement("div",{className:"t--center"},u("searchContracts.searchFailed"),".",nP.createElement("br",null),u("tryAgain"),"..."),r=S&&nP.createElement("footer",null,nP.createElement("button",{onClick:l},u("back")));break;case"ready":case"searching":var C=void 0,k=void 0,$=void 0;switch(f.searchResults.status){case"pristine":C=[],k=void 0,$=void 0;break;case"executed":C=f.searchResults.results,k=f.searchResults.resultsQuery.originStation,$=f.searchResults.resultsQuery.destinationStation;break;default:te(f.searchResults)}n=nP.createElement("div",{className:"flex flex--columns"},nP.createElement(u$,{contractGroups:C,selectedOrigin:k,selectedDestination:$,onOriginDestinationChanged:b,onSelected:_})),r=nP.createElement("footer",null,nP.createElement("button",{onClick:g},u("back")));break;default:te(f.search)}else switch(t=uL(f.query)&&nP.createElement(nP.Fragment,null,nP.createElement(uN,{terms:f.query.terms,onTermsChanged:y,recentSearches:w}),nP.createElement("div",{className:"m--top--small m--bottom--small"},nP.createElement(uD,{additionalSearchDetails:"executed"===f.searchResults.status?f.searchResults.additionalSearchDetails:void 0,variant:"modal"}))),f.search.status){case"searching":n=nP.createElement("div",{className:"t--center m--top--large"},u("searching"),"...");break;case"failed":n=nP.createElement("div",{className:"t--center"},u("searchContracts.searchFailed"),".",nP.createElement("br",null),u("tryAgain"),"..."),r=S&&nP.createElement("footer",null,nP.createElement("button",{onClick:l},u("back")));break;case"ready":switch(f.searchResults.status){case"pristine":break;case"executed":if(f.searchResults.results.length>0)n=nP.createElement("div",{className:"flex flex--columns"},nP.createElement(uI,{contracts:f.searchResults.results,onSelected:function(e){f.query.terms.length>0&&E.add(f.query.terms),_(e)}}));else{var A,x,T,N,P,R,L,D,I,O,F,q,M,B=(q=f.searchResults.resultsQuery,M=f.selectedEttChoice,c.is_anonymous&&!M.hasPermittedForAnonymous?"searchContracts.notPermittedForAnonymous":q.terms.length>0?"searchContracts.partialSearchClearing":null);n=nP.createElement(cV,{title:u("noMatchingContracts"),description:B?u(B):void 0})}r=nP.createElement("footer",null,nP.createElement("button",{onClick:g},u("back")));break;default:te(f.searchResults)}break;default:te(f.search)}break;default:te(f)}return nP.createElement("article",null,t,n,r)}var uF=function(e,t,n){if(""===e.city||null===e.reform_area)return null;try{for(var r=t.ReformArea[e.reform_area],a=0,i=r.settlements;a<i.length;a++){var o=i[a],s=t.Settlement[o].name;if(s===e.city)return s}}catch(r){n.error({message:"Unexpected reform area",data:{reformAreasKeys:JSON.stringify(Object.keys(t.ReformArea)),error:r,stationUid:e.uid,stationReformArea:e.reform_area,reformAreas:JSON.stringify(t.ReformArea)}})}return null};function uq(e,t){switch(e){case eA.SelectingInstitution:return null!==t.institution;case eA.ApplyingQuickApproval:return"applied"===t.quickApprovalStatus;case eA.ChoosingContractGroup:return null!==t.contractGroupId;case eA.ChoosingContract:return null!==t.contractId;case eA.UploadingDocuments:return t.uploadedRequiredDocuments();case eA.SubmittingRequest:return"PENDING_APPROVAL"===t.state||"APPROVED"===t.state||"DECLINED"===t.state;default:te(e)}}function uM(e,t){return Object.keys(eA).map(function(e){return eA[e]}).filter(function(n){return function(e,t,n){switch(e){case eA.SelectingInstitution:return n.requires_institution;case eA.ApplyingQuickApproval:return"applied"===t.quickApprovalStatus||"not_applied"===t.quickApprovalStatus;case eA.ChoosingContractGroup:case eA.ChoosingContract:return n.requires_contract;case eA.UploadingDocuments:return t.requiredDocumentTags.length>0;case eA.SubmittingRequest:return!0;default:te(e)}}(n,e,t)})}function uB(e,t,n){var r=uM(t,n),a=r.indexOf(e);return a>=r.length?null:r[a+1]}function uV(e,t,n){var r=uM(t,n),a=r.indexOf(e);return 0===a?null:r[a-1]}function uU(e,t){return"".concat(e,":document:").concat(t)}function uj(e){var t,n,r=e.errorCode,a=e.onExit,i=e.onNextStep,o=rU().t;switch(r){case"not_allowed":t=o("profileLoading.errorNotAllowed"),n=nP.createElement("a",{onClick:function(){return a()}},o("profileLoading.actionNotAllowed"));break;case"active_profile_loading_for_card":t=o("profileLoading.errorActiveProfileLoadingForCard"),n=nP.createElement("a",{onClick:function(){return a()}},o("profileLoading.actionActiveProfileLoadingForCard"));break;case"contract_no_longer_valid":case"invalid_contract":t=o("profileLoading.errorContractNoLongerValid"),n=nP.createElement("a",{onClick:function(){return a()}},o("profileLoading.actionContractNoLongerValid"));break;case"missing_prerequisites":t=o("profileLoading.errorMissingPrerequisites");break;case"not_eligible_for_quick_approval":t=o("profileLoading.errorNotEligibleForQuickApproval"),i&&(n=nP.createElement("a",{onClick:function(){return i()}},o("profileLoading.skipQuickApprovalCheck")));break;case"cannot_apply_quick_approval_to_rav_kav_id_type":t=o("profileLoading.errorCannotApplyQuickApprovalToRavKavIdType"),i&&(n=nP.createElement("a",{onClick:function(){return i()}},o("profileLoading.skipQuickApprovalCheck")));break;case"ravkav_id_number_does_not_match_personal_id":t=o("profileLoading.errorRavkavPersonalIdDoesNotMatchPersonalId"),i&&(n=nP.createElement("a",{onClick:function(){return i()}},o("profileLoading.skipQuickApprovalCheck")));break;case"document_tag_required":case"document_tag_already_exist":case"document_file_required":case"exceeded_document_amount_limit":case"unknown_document_tag":t=o("profileLoading.errorDocumentTagRequired"),n=nP.createElement("a",{onClick:function(){return a()}},o("profileLoading.actionDocumentTagRequired"));break;case"does_not_exist":t=o("profileLoading.errorDoesNotExist"),n=nP.createElement("a",{onClick:function(){return a()}},o("profileLoading.actionDoesNotExist"));break;case"active_reloading_transaction":t=o("profileLoading.errorActiveReloadingTransaction"),n=o("profileLoading.actionActiveReloadingTransaction");break;case"invalid_file_type":t=o("profileLoading.errorInvalidFileType"),n=nP.createElement(nP.Fragment,null,o("profileLoading.actionInvalidFileType"),"\xa0",iV.map(function(e){return nP.createElement("span",{key:e,dir:"ltr"},e,"\xa0")}));break;case"invalid_file_size":t=o("profileLoading.errorInvalidFileSize"),n=nP.createElement(nP.Fragment,null,o("profileLoading.actionInvalidFileSize"),nP.createElement("span",null,"\xa0",lJ(1024,0))," -"," ",nP.createElement("span",null,lJ(10485760,0)),".");break;case"invalid_file_name":t=o("profileLoading.errorInvalidFileName"),n=o("profileLoading.actionInvalidFileName",{maxLength:80});break;default:t=o("profileLoading.errorUnexpected"),n=nP.createElement(nP.Fragment,null,nP.createElement("a",{onClick:function(){return a()}},o("profileLoading.actionUnexpected")),nP.createElement("br",null),nP.createElement("small",null,"(",o("profileLoading.errorCode",{code:r}),")"))}return nP.createElement("div",null,nP.createElement("strong",null,t),n&&nP.createElement("div",{className:"m--top--small"},n))}(F=e$||(e$={})).Preset="preset",F.Query="query",(q=eA||(eA={})).SelectingInstitution="selecting_institution",q.ApplyingQuickApproval="applying_quick_approval",q.ChoosingContractGroup="choosing_contract_group",q.ChoosingContract="choosing_contract",q.UploadingDocuments="uploading_documents",q.SubmittingRequest="submitting_request";var uH=iz('<svg viewBox="0 0 24 24" fill=currentColor><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>');function uz(e){var t,n,r=e.profileLoading,a=e.profileLoadingType,i=e.contractGroup,o=rU().t,s=(t=rU().t,function(e){return t(function(e){switch(e){case"personal_id":return"document.personal_id";case"personal_id_body":return"document.personal_id_body";case"student_permit":return"document.student_permit";case"student_id":return"document.student_id";case"student_id_body":return"document.student_id_body";case"ravkav":return"document.ravkav";case"ravkav_body":return"document.ravkav_body";case"headshot":return"document.headshot";case"headshot_body":return"document.headshot_body";case"pupil_permit":return"document.pupil_permit";case"pupil_permit_body":return"document.pupil_permit_body";case"disability_certificate":return"document.disability_certificate";case"disability_certificate_body":return"document.disability_certificate_body";case"national_insurance_certificate":return"document.national_insurance_certificate";case"national_insurance_certificate_body":return"document.national_insurance_certificate_body";case"national_service_certificate":return"document.national_service_certificate";case"national_service_certificate_body":return"document.national_service_certificate_body";case"blindness_certificate":return"document.blindness_certificate";case"blindness_certificate_body":return"document.blindness_certificate_body";case"ministry_of_defence_approval":return"document.ministry_of_defence_approval";case"ministry_of_defence_approval_body":return"document.ministry_of_defence_approval_body";default:return"document.unknown"}}(e))});return nP.createElement("ul",{className:"t--small c--light"},null!==i&&nP.createElement("li",{className:"p--regular b--bottom"},nP.createElement("strong",{className:"t--regular"},o("contract")),nP.createElement("br",null),i.display_name,nP.createElement("br",null),nP.createElement(lT,{etta:i.etta,counterValue:null===(n=i.counter)||void 0===n?void 0:n.value,validityStartDate:i.validity_start_date,validityDurationDays:i.validity_duration_days,validityPeriodType:i.validity_period_type,displayMode:"concrete"})),nP.createElement("li",{className:"p--regular b--bottom"},nP.createElement("strong",{className:"t--regular"},o("profiles")),nP.createElement("br",null),a.name,nP.createElement("br",null),nP.createElement(lv,{profileLoading:r,profileLoadingType:a})),null!==r.institution&&nP.createElement("li",{className:"p--regular b--bottom"},nP.createElement("strong",{className:"t--regular"},o("profileLoading.institution")),nP.createElement("br",null),r.institution.name),0!==r.documents.length&&nP.createElement("li",{className:"p--regular b--bottom"},nP.createElement("strong",{className:"t--regular"},o("profileLoading.submittedDocuments")),nP.createElement("ul",{className:"list-comma-delimited"},r.documents.map(function(e){return nP.createElement("li",{key:e.uid},s(e.tag))}))))}function uK(e){var t,n,r,a,i,o,s,c=e.isExecuting,l=e.onSelect,u=rU().t,d=n6(),p=nR(i$),m=t0([]),f=m[0],h=m[1],v=(t=rU().t,n=n6(),r=nD(),i=(a=t0({term:"",result:[]}))[0],o=a[1],s=nP.createElement(cC,{placeholder:t("profileLoading.typeToFilter"),value:i.term,onChange:function(e){var t=void 0===e?"":e.trim();if(t!==i.term){if(""===t){o({term:t,result:[]});return}n.findInstitutions({q:t}).then(function(e){o({term:t,result:e})},function(n){o({term:t,result:[]}),r.warn({message:"Profile Loading: unexpected error for find Institutions",data:{error:n,term:e}})})}},debounce:600,className:"b--clear",autoFocus:!0}),{searchTerm:i.term,filteredInstitutions:i.result,inputField:s}),g=v.searchTerm,y=v.filteredInstitutions,b=v.inputField,_=t4(new iC(3,"institutionIdsLru",p));t2(function(){var e=_.current.get();0!==e.length&&d.findInstitutions({ids:e}).then(function(t){for(var n=[],r=function(e){var r=e6(t,function(t){return t.id===e});if(void 0===r)return"continue";n.push(r)},a=0;a<e.length;a++)r(e[a]);h(n)},function(){return h([])})},[d]);var E=function(e){_.current.add(e.id),l(e)};return nP.createElement("section",{className:"p--small"},nP.createElement("header",null,nP.createElement("h4",{className:"b--bottom"},u("profileLoading.selectInstitution")),nP.createElement("label",{className:"bg--light w--100 p--small"},b)),""===g&&0!==f.length&&nP.createElement(nP.Fragment,null,nP.createElement("hr",null),nP.createElement("p",{className:"m--top"},u("recentlySelected")),nP.createElement("ul",null,f.map(function(e){return nP.createElement("li",{key:e.id},nP.createElement("button",{onClick:function(){return l(e)},disabled:c,className:"p--regular m--top c--active t--strong w--100"},e.name))}))),""!==g&&nP.createElement(nP.Fragment,null,0===y.length&&nP.createElement("div",{className:"m--top t--center"},nP.createElement("hr",null),nP.createElement("strong",{className:"m--clear"},u("profileLoading.institutionNotFound")),nP.createElement("p",{className:"m--clear t--pre-line m--top--small"},u("profileLoading.institutionNotFoundSuggestion"))),nP.createElement("ul",null,y.map(function(e){return nP.createElement("li",{key:e.id},nP.createElement("button",{onClick:function(){return E(e)},disabled:c,className:"p--regular m--top c--active t--strong w--100"},e.name))}))))}function uW(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f=e.quickApprovalStatus,h=e.isExecuting,v=e.onNext,g=e.onApplied,y=rU().t,b=(t=rU().t,n=cl(),r=rU().t,a=co(100),c=(s=s6({firstName:"",lastName:"",personalId:""},{firstName:[i=function(e){var t=a(e);return null!==t?t:e.replace(ce,"").length/e.length<=.4?null:r("messages.ravkavHolderName")},o=ca()],lastName:[i,o],personalId:[n,o]},function(e){var t;return t=e.firstName,g(t,e.lastName,e.personalId)})).values,l=s.touched,u=s.errors,d=s.handleChange,p=s.handleSubmit,{firstNameField:nP.createElement(s7,null,nP.createElement("label",null,t("profileLoading.firstNameLabel"),"\xa0",nP.createElement("input",{name:"firstName",type:"text",value:c.firstName,onChange:d,autoFocus:!0,required:!0}),l.firstName&&null!==u.firstName&&nP.createElement(s9,{message:u.firstName}))),lastNameField:nP.createElement(s7,null,nP.createElement("label",null,t("profileLoading.lastNameLabel"),"\xa0",nP.createElement("input",{name:"lastName",type:"text",value:c.lastName,onChange:d,required:!0}),l.lastName&&null!==u.lastName&&nP.createElement(s9,{message:u.lastName}))),personalIdField:nP.createElement(s7,null,nP.createElement("label",null,t("profileLoading.personalIdLabel"),"\xa0",nP.createElement("input",{name:"personalId",type:"tel",dir:"ltr",autoComplete:"off",value:c.personalId,onChange:d,maxLength:9,required:!0}),l.personalId&&null!==u.personalId&&nP.createElement(s9,{message:u.personalId}))),handleSubmit:p}),_=b.firstNameField,E=b.lastNameField,w=b.personalIdField,S=b.handleSubmit;switch(f){case"irrelevant":case"unknown":case"cannot_apply":m=nP.createElement(nP.Fragment,null,nP.createElement("p",null,y("profileLoading.quickApprovalCannotApplySubtitle")),nP.createElement("footer",null,nP.createElement("button",{onClick:v},y("profileLoading.continue"))));break;case"applied":m=nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"c--success p--small m--top"},nP.createElement("p",{className:"t--strong"},y("profileLoading.quickApprovalAppliedTitle")),nP.createElement("p",null,y("profileLoading.quickApprovalAppliedBody"))),nP.createElement("footer",null,nP.createElement("button",{onClick:v},y("profileLoading.continue"))));break;case"not_applied":m=nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"t--small m--top--small"},nP.createElement("details",null,nP.createElement("summary",null,y("profileLoading.quickApprovalWhatIs")),nP.createElement("p",null,y("profileLoading.quickApprovalApplyingSubtitle")))),nP.createElement(s8,{onSubmit:S,className:"m--top"},_,E,w,nP.createElement("button",{type:"button",className:"c--clear t--underline p--clear m--top--small",onClick:v},y("profileLoading.skipQuickApprovalCheck")),nP.createElement("footer",null,nP.createElement("button",{type:"submit",disabled:h},y("profileLoading.checkQuickApproval")))));break;default:te(f)}return nP.createElement("section",{className:"p--small"},nP.createElement("header",null,nP.createElement("h4",{className:"b--bottom"},y("profileLoading.quickApprovalTitle"))),m)}function uG(e){var t=e.card,n=e.profileLoading,r=e.profileLoadingType,a=e.operators,i=e.onSelect,o=rU().t,s=function(e){var t,n,r=e.profileLoading,a=e.profileLoadingType,i=e.operators,o=n6(),s=(t=a.etts,[im,ib,iy,i_,iw].filter(function(e){for(var n=0;n<t.length;n++){var r=t[n];if(e.etts.indexOf(r)>-1)return!0}return!1})),c=s[0];if(a.requires_contract&&0===s.length)throw Error('Profile loading type "'.concat(a.id,'" requires contract but no ETTChoices were found.'));var l=t0(sT.createDefault(c,i).replace({canBeSold:!0,profileLoadingType:r.profile_loading_type,forProfile:void 0,terms:null===(n=r.institution)||null===n.settlement?[]:[o.Settlement[n.settlement].name]})),u=l[0],d=l[1];return{query:u,ettChoices:s,onQueryChanged:function(e){return d(function(t){return t.replace(e)})}}}({profileLoading:n,profileLoadingType:r,operators:a}),c=s.query,l=s.ettChoices,u=s.onQueryChanged;return nP.createElement("section",{className:"p--small"},nP.createElement("h4",{className:"b--bottom m--bottom--small"},o("profileLoading.chooseContract")),nP.createElement(uO,{card:t,query:c,ettChoices:l,onQueryChanged:u,onSelected:i}))}function uY(e){var t,n,r,a,i,o,s=e.profileLoading,c=e.profileLoadingType,l=e.contractGroup,u=e.canAutoApproveProfileLoadingWithManualEndDate,d=e.isExecuting,p=e.onSubmit,m=rU().t,f=rK(),h=t0({primaryProfileManualEndDate:null,secondaryProfileManualEndDate:null}),v=h[0],g=h[1],y=(n=(t={profileLoading:s,profileLoadingType:c}).profileLoading,r=t.profileLoadingType,{hasToApproveTerms:a=n.requiredDocumentTags.length>0||r.requires_institution,isApprovedTerms:o=(i=t0(!1))[0],setIsApprovedTerms:i[1],canSubmit:function(){return!!n.isReadyToSubmit&&(!a||!!o)}}),b=y.hasToApproveTerms,_=y.isApprovedTerms,E=y.setIsApprovedTerms,w=y.canSubmit,S=c.primary_profile_end_date_type===Z.Manual,C=c.secondary_profile_end_date_type===Z.Manual;return nP.createElement("section",null,nP.createElement("h4",{className:"p--regular b--bottom bg--light t--strong"},m("profileLoading.requestDetails")),b&&nP.createElement("div",{className:"p--small bg--light b--bottom t--small"},nP.createElement("p",{className:"t--strong"},m("profileLoading.termsTitle")),nP.createElement("p",{className:"m--top--small"},m("profileLoading.termsBody")),nP.createElement("div",{className:"c--notification p--small t--strong m--top--small"},nP.createElement("div",{className:"flex flex--align-center"},nP.createElement("label",{className:"col--grow"},nP.createElement("input",{type:"checkbox",checked:_,onChange:function(){return E(!_)}}),"\xa0",m("profileLoading.termsApprove"))),u&&nP.createElement(nP.Fragment,null,S&&nP.createElement("label",{className:"m--top--small"},m("profileLoading.manualEndDateForCustomerProfile",{customerProfile:f(c.primary_profile_id)}),nP.createElement(cw,{value:v.primaryProfileManualEndDate,onChange:function(e){return g(function(t){return eI(eI({},t),{primaryProfileManualEndDate:e})})}})),C&&null!==c.secondary_profile_id&&nP.createElement("label",{className:"m--top--small"},m("profileLoading.manualEndDateForCustomerProfile",{customerProfile:f(c.secondary_profile_id)}),nP.createElement(cw,{value:v.secondaryProfileManualEndDate,onChange:function(e){return g(function(t){return eI(eI({},t),{secondaryProfileManualEndDate:e})})}}))))),nP.createElement(uz,{profileLoading:s,profileLoadingType:c,contractGroup:l}),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){p(null===v.primaryProfileManualEndDate?null:nI.fromLocal(v.primaryProfileManualEndDate),null===v.secondaryProfileManualEndDate?null:nI.fromLocal(v.secondaryProfileManualEndDate))},disabled:!(w()&&(!u||(!S||null!==v.primaryProfileManualEndDate)&&(!C||null!==v.secondaryProfileManualEndDate)))||d},m("profileLoading.submitRequest"))))}function uQ(e){var t=e.card,n=e.profileLoading,r=e.profileLoadingType,a=e.contractGroup,i=e.isExecuting,o=e.issueTransaction,s=e.setTransactionRequest,c=rU().t,l=sa(),u=function(e,t){var n,r,a,i=rU().t,o=nR(iA),s="".concat(e.serial_number,":personalId"),c=o.getItem(s),l=ca(),u=cl(),d=cd();switch(e.id_type){case 1:default:n=u,r=i("profileLoading.personalIdLabel"),a=i("profileLoading.personalIdPlaceholder");break;case 2:n=d,r=i("profileLoading.passportLabel"),a=i("profileLoading.passportPlaceholder")}var p=s6({id:null!=c?c:""},{id:[l,n]},function(e){var n=e.id;o.setItem(s,n),t(n)}),m=p.values,f=p.touched,h=p.errors,v=p.handleChange,g=p.handleSubmit;return{idInputField:nP.createElement(s7,null,nP.createElement("label",null,r,nP.createElement("input",{name:"id",type:"tel",value:m.id,placeholder:a,onChange:v,autoComplete:"off",autoFocus:!0,maxLength:9,required:!0}),f.id&&null!==h.id&&nP.createElement(s9,{message:h.id}))),handleSubmit:g}}(t,function(e){return o(function(t){var n={transactionUid:t.uid,cardPersonalId:e,checkForAdditionalActionsOnSuccess:!0};t.payment_required?s({transactionUid:t.uid,nextState:"reload",nextStateParams:n,maxPayments:null!==a?a.max_payments:1}):l.push({pathname:"/app/reload/".concat(t.uid),state:n})})}),d=u.idInputField,p=u.handleSubmit;return nP.createElement(nP.Fragment,null,nP.createElement("section",{className:"bg--light"},nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h4",null,c("profileLoading.approvedTitle")),nP.createElement("div",{className:"t--small"},nP.createElement("strong",null,c("profileLoading.notifyContractLoading1")),"\xa0",c("profileLoading.notifyContractLoading2"))),nP.createElement(s8,{onSubmit:p,id:"personalIdForm",className:"c--notification p--regular t--small"},nP.createElement("div",{className:"col--grow"},d)),nP.createElement(uz,{profileLoading:n,profileLoadingType:r,contractGroup:a})),nP.createElement("footer",null,nP.createElement("button",{form:"personalIdForm",type:"submit",disabled:i},c("profileLoading.loadProfileShort"),null!==a&&nP.createElement(nP.Fragment,null,"\xa0",ar(function(e){if(null===e.price)throw Error('Got contract group "'.concat(e.id,'" in profile loading with no price.'));return e.price}(a))))))}function uJ(e){for(var t=e.sessionId,n=e.maxPayments,r=e.submitButtonClass,a=e.onSubmit,i=e.onSuccess,o=e.onError,s=rU().t,c=nR(aL),l=nR(sM),u=t0(1),d=u[0],p=u[1],m=[],f=0;f<n;f++)m.push(f+1);var h=t6(function(e){a&&a(),c.finalizePayment(t,e,!1,null,null).then(function(e){switch(e.status){case"success":i();break;case"error":o(e.user_message||void 0);break;case"requires_action":"pass_to_device"===e.action.type&&l.passToDevice(e.action).then(function(e){},function(e){}).finally(function(){c.actionFinished(t).then(function(e){switch(e.status){case"success":i();break;case"error":o(e.user_message||void 0);break;default:te(e)}},function(){return o()})});break;default:te(e)}})},[c,l,o,a,i,t]);return t2(function(){1===n&&h(1)},[n,h]),nP.createElement(nP.Fragment,null,m.length>1&&nP.createElement("form",{className:"m--bottom"},nP.createElement("label",null,s("buyaHostedFields.numberOfPaymentsLabel"),nP.createElement("select",{name:"numberOfPayments",onChange:function(e){e.preventDefault(),p(parseInt(e.target.value,10))}},m.map(function(e){return nP.createElement("option",{key:e,value:e,selected:e===d},e)})))),n>1?nP.createElement("button",{onClick:function(){h(d)},className:r},s("payment.pay")):nP.createElement("div",{className:"t--center t--string"},s("pleaseWait")))}function uZ(e,t){switch(e){case ex.ShowingCancellationRequestDetails:return!1;case ex.EnteringRavkavOwnerDetails:if(null===t.ravkavOwnerPersonalId)return!1;for(var n=t.documents.map(function(e){return e.tag}),r=0,a=t.requiredRavkavOwnershipDocuments;r<a.length;r++){var i=a[r];if(-1===n.indexOf(i))return!1}return!0;case ex.SelectingPaidTo:return null!==t.paidToPersonalId;case ex.EnteringPaidToDetails:if(null===t.paidToPersonalId)return!1;for(var n=t.documents.map(function(e){return e.tag}),o=0,s=t.requiredPaidToDocuments;o<s.length;o++){var i=s[o];if(-1===n.indexOf(i))return!1}return!0;default:te(e)}}function uX(e){return Object.keys(ex).map(function(e){return ex[e]}).filter(function(t){return function(e,t){switch(e){case ex.ShowingCancellationRequestDetails:return!0;case ex.EnteringRavkavOwnerDetails:switch(t){case eE.MatchingHolderIdOrRavkav:return!0;case eE.NotRequired:return!1;default:return te(t)}case ex.SelectingPaidTo:case ex.EnteringPaidToDetails:return!0;default:te(e)}}(t,e)})}function u0(e,t){var n=uX(t),r=n.indexOf(e);return r===n.length-1?null:n[r+1]}function u1(e,t){var n=uX(t),r=n.indexOf(e);return 0===r?null:n[r-1]}function u2(e,t,n,r,a,i){n({type:"execute_requested"});var o=t.adjustCard(e,r.token),s=o[0],c=o[1];s.then(function(){return n({type:"execute_started"})}),c.then(function(){n({type:"execute_succeeded"}),a.trackEvent("scan","cancellation_request","0",1),t.clear(),setTimeout(function(){i()},1e3)},function(e){n({type:"execute_failed",error:e}),a.trackEvent("scan","cancellation_request",e?e.cause:-1,1)})}function u3(e){var t=e.cancellationRequestUid,n=e.amount,r=e.payoutMethod,a=rU().t,i=sg().getClientPreferences(),o=i.printMode,s=i.showQr!==ev.No,c=nR(sI),l=t6(function(){return c.getCancellationRequestApprovalPrintJob(t)},[c,t]);return nP.createElement("section",{className:"p--regular t--center"},nP.createElement("div",{className:"c--success p--small m--bottom"},a("cancellationRequest.executeSuccess"),r===e_.Cash&&nP.createElement("div",{className:"t--strong"},a("cancellationRequest.giveCashAmountToUser",{amount:ar(n)}))),nP.createElement(lK,{fetchApprovalPrintJob:l,printMode:o,showQr:s,analyticsAction:"cancellation-request-approval"}),nP.createElement("footer",null,nP.createElement(si,{to:"/app/scan",replace:!0},a("additionalActions"))))}function u4(e){var t,n,r,a,i,o,s=e.executeEndpoint,c=e.onSuccess,l=rU().t,u=(n=(t=t1(sW,{status:"pristine"}))[0],r=t[1],a=t4(new sK),i=aC(),t2(function(){u2(s,i,r,a.current,o,c);var e=a.current;return function(){e.cancel()}},[o=sk(),i,s,c]),{state:n,retry:function(){u2(s,i,r,a.current,o,c)}}),d=u.state,p=u.retry;switch(d.status){case"pristine":case"waiting_for_card":return nP.createElement("section",null,l("scanCard"),nP.createElement("br",null),l("cardLoader.waitOperationComplete"));case"executing":return nP.createElement("section",null,l("cancellationRequest.executeExecuting"),nP.createElement("br",null),l("pleaseWait"));case"success":return nP.createElement("section",null,l("cancellationRequest.successBody"));case"error":var m=d.error.retry_enabled?nP.createElement("button",{onClick:p},l("tryAgain")):nP.createElement(si,{to:"/scan"},l("back"));return nP.createElement("section",{className:"p--small c--danger"},nP.createElement(lc,{response:d.error,defaultMessage:l("cancellationRequest.executeError")}),nP.createElement("footer",null,m));default:te(d)}}function u5(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g,y=e.cancellationRequest,b=e.card,_=e.onDocumentUpload,E=e.onDocumentDelete,w=e.onSetRavkavOwnerPersonalId,S=rU().t,C=(t=rU().t,r=(n=t0({open:!1}))[0],a=n[1],i=nR(iA).getItem("".concat(b.serial_number,":personalId")),o=ca(),s=cl(),c=y.requiredRavkavOwnershipDocuments.length>1,l=-1!==y.requiredRavkavOwnershipDocuments.indexOf("ravkav"),u=[],l&&u.push(o),p=(d=s6({id:null!=i?i:"",ravkavDocumentApprove:!1},{id:[o,s],ravkavDocumentApprove:u},function(e){var t,n=e.id;if(null===b.id_number)t=!1;else{var r=n.split("").map(function(e){return parseInt(e,10)}).reduce(function(e,t){return e+t});t=b.id_number===r}t||c?w(n):a({open:!0,personalId:n})})).values,m=d.touched,f=d.errors,h=d.handleChange,v=d.handleSubmit,g=-1!==y.documents.map(function(e){return e.tag}).indexOf("personal_id"),{inputMarkup:nP.createElement(s7,null,nP.createElement("label",null,t("cancellationRequest.personalId"),nP.createElement("input",{disabled:!g,name:"id",type:"tel",dir:"ltr",value:p.id,onChange:h,autoComplete:"off",maxLength:9,required:!0,className:g?"":"bg--stable"}),m.id&&null!==f.id&&nP.createElement(s9,{message:f.id}))),ravkavDocumentApproveMarkup:l&&nP.createElement(s7,null,nP.createElement("label",null,nP.createElement("input",{name:"ravkavDocumentApprove",type:"checkbox",checked:p.ravkavDocumentApprove,onChange:h,required:!0}),"\xa0",t("cancellationRequest.ravkavDocumentApproveLabel")),m.ravkavDocumentApprove&&null!==f.ravkavDocumentApprove&&nP.createElement(s9,{message:f.ravkavDocumentApprove})),popupMarkup:r.open&&nP.createElement(lr,{show:!0,headerTitle:t("note!"),onClose:function(){return a({open:!1})}},t("cancellationRequest.idNotMatchingIdOnCard"),nP.createElement("button",{onClick:function(){return a({open:!1})},className:"b--clear bg--brand m--top--small p--small t--center t--light w--100 t--strong"},t("cancellationRequest.backToFixId")),nP.createElement("button",{onClick:function(){a({open:!1}),w(r.personalId)},className:"b--all b--clear bg--transparent m--top--small p--small t--center w--100"},t("cancellationRequest.validateDifferently"))),handleSubmit:v}),k=C.inputMarkup,$=C.ravkavDocumentApproveMarkup,A=C.popupMarkup,x=C.handleSubmit;return nP.createElement(s8,{onSubmit:x,className:"p--small"},nP.createElement("header",null,nP.createElement("h4",{className:"b--bottom"},S("cancellationRequest.ravkavOwnerDetails"))),nP.createElement(lp,{documents:y.documents,maxUnknownDocuments:0,requiredDocumentTags:y.requiredRavkavOwnershipDocuments,onDocumentUpload:_,onDocumentDelete:E}),$,k,A,nP.createElement("footer",null,nP.createElement("button",{type:"submit"},S("continue"))))}function u6(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h=e.cancellationRequest,v=e.setPaidToRavkavOwner,g=e.setPaidTo,y=rU().t,b=(t=rU().t,r=(n=s6({id:""},{id:[ca(),cl()]},function(e){return g(e.id)})).values,a=n.touched,i=n.errors,o=n.handleChange,s=n.handleSubmit,l=(c=t0(h.cancellationRequestType.ravkav_ownership_verification===eE.NotRequired?"someone-else":"ravkav-owner"))[0],u=c[1],d=nP.createElement(nP.Fragment,null,nP.createElement("input",{type:"radio",name:"pay-to",checked:"ravkav-owner"===l,onChange:function(){return u("ravkav-owner")}}),"\xa0",t("cancellationRequest.payToRavkavOwnerWithId"),"\xa0",nP.createElement("span",{dir:"ltr"},h.ravkavOwnerPersonalId)),p=nP.createElement(nP.Fragment,null,nP.createElement("input",{type:"radio",name:"pay-to",checked:"someone-else"===l,onChange:function(){return u("someone-else")}}),"\xa0",t("cancellationRequest.payToSomeoneElse")),m="someone-else"===l?nP.createElement(nP.Fragment,null,t("cancellationRequest.personalId"),nP.createElement("input",{name:"id",type:"tel",dir:"ltr",value:r.id,onChange:o,autoComplete:"off",maxLength:9,required:!0}),a.id&&null!==i.id&&nP.createElement(s9,{message:i.id})):null,{handleSubmit:"someone-else"===l?s:function(e){e.preventDefault(),v()},ravkavOwnerInputMarkup:d,someoneElseInputMarkup:p,someoneElsePersonaIdInputMarkup:m}),_=b.handleSubmit,E=b.ravkavOwnerInputMarkup,w=b.someoneElseInputMarkup,S=b.someoneElsePersonaIdInputMarkup;switch(h.cancellationRequestType.ravkav_ownership_verification){case eE.MatchingHolderIdOrRavkav:f=nP.createElement(nP.Fragment,null,nP.createElement("label",{className:"t--normal p--small"},E),nP.createElement("label",{className:"t--normal p--small"},w),null!==S&&nP.createElement("label",null,S));break;case eE.NotRequired:f=nP.createElement("label",{className:"p--small"},S);break;default:te(h.cancellationRequestType.ravkav_ownership_verification)}return nP.createElement(s8,{onSubmit:_,className:"p--small"},nP.createElement("header",null,nP.createElement("h4",{className:"b--bottom"},y("cancellationRequest.whoToPay"))),f,nP.createElement("footer",null,nP.createElement("button",null,y("continue"))))}function u8(e){var t=e.cancellationRequest,n=e.onDocumentUpload,r=e.onDocumentDelete,a=e.onSubmit,i=rU().t;return nP.createElement("section",null,nP.createElement("h4",{className:"p--regular b--bottom bg--light t--strong"},i("cancellationRequest.paidToDetails")),nP.createElement("div",{className:"p--regular b--bottom c--light"},nP.createElement("h2",{className:"t--regular reset__m--clear reset__h-letter-spacing"},i("cancellationRequest.personalId")),nP.createElement("span",{dir:"ltr"},t.paidToPersonalId)),nP.createElement("div",{className:"p--small"},nP.createElement(lp,{documents:t.documents,maxUnknownDocuments:0,requiredDocumentTags:t.requiredPaidToDocuments,onDocumentUpload:n,onDocumentDelete:r})),nP.createElement("footer",null,nP.createElement("button",{onClick:a},i("continue"))))}function u7(e){var t=rU().t,n=function(e){var t,n=e.buyaSessionId,r=e.paymentDetailsStyle,a=e.onSuccess,i=t0({status:"authorizing"}),o=i[0],s=i[1],c=sk();switch(r){case ec.Details:case ec.Track2:t=nP.createElement(ln,{sessionId:n,maxPayments:1,paymentDetailsStyle:r,personalIdMode:"hidden",canSaveCreditCards:!1,initialReusable:!1,onSuccess:a,onError:function(e){s({status:"error",userError:e})},onLoad:function(e){c.trackTiming("Buya",e,"hosted fields load",r)}});break;case ec.Emv:t=nP.createElement(uJ,{sessionId:n,onSuccess:a,onError:function(e){s({status:"error",userError:e})},submitButtonClass:"button footer flex flex--justify-center flex--align-center t--strong t--medium p--small c--active",maxPayments:1});break;default:te(r)}return{state:o,buyaHostedFields:t}}(e),r=n.state,a=n.buyaHostedFields,i=nR(s_);switch(t2(function(){return i.setDiscovery(!0),function(){i.setDiscovery(!1)}},[i]),r.status){case"authorizing":return nP.createElement("section",{className:"p--regular"},nP.createElement("h4",{className:"b--bottom m--bottom--small"},t("cancellationRequest.authorizingPayoutMethodTitle")),nP.createElement("p",{className:"m--clear m--top--small"},t("cancellationRequest.authorizingPayoutMethodExplanation")),nP.createElement("div",{className:"m--top"},a));case"error":return nP.createElement("div",{className:"p--regular t--center"},nP.createElement("div",{className:"c--danger p--small"},t("cancellationRequest.authorizingPayoutMethodFailed"),nP.createElement("hr",null),r.userError),nP.createElement("footer",null,nP.createElement("button",{onClick:e.onBack},t("cancellationRequest.changePayoutMethod"))));default:te(r)}}function u9(e){var t=e.onGetUpdatedRequest,n=e.cancellationRequestUid,r=rU().t,a=sg().getClientPreferences(),i=a.printMode,o=a.showQr!==ev.No,s=nR(sI),c=t6(function(){return s.getCancellationRequestApprovalPrintJob(n)},[s,n]),l=t4(!1),u=t0({status:"pending"}),d=u[0],p=u[1];switch(t2(function(){l.current||(setTimeout(function(){t(),setTimeout(function(){p({status:"timed_out"})},2500)},2500),l.current=!0)},[t]),d.status){case"pending":return nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light t--strong"},nP.createElement(iJ,{size:1})));case"timed_out":return nP.createElement(lb,{headerText:r("cancellationRequest.willPayoutToCreditcard"),primaryActionText:r("cancellationRequest.checkPayoutStatus"),onPrimaryAction:t},nP.createElement("p",null,r("cancellationRequest.mayTakeUpTo7Days")),nP.createElement("div",{className:"m--top t--center"},nP.createElement(lK,{fetchApprovalPrintJob:c,printMode:i,showQr:o,analyticsAction:"cancellation-request-approval"})));default:te(d)}}function de(e){var t=e.cancellationRequest,n=rU().t,r=nR(sI),a=nR(or),i=t0(null),o=i[0],s=i[1];return nP.createElement(lb,{headerText:n("cancellationRequest.payoutFailedTitle"),primaryActionText:n("cancellationRequest.getApprovalForFailed"),onPrimaryAction:function(){r.getCancellationRequestApprovalPrintJob(t.uid).then(function(e){a.print(e),s(e6(e.items,function(e){return"qr"===e.type}).content)})}},nP.createElement("p",null,n("cancellationRequest.payoutFailedExplanation")),nP.createElement("div",{className:"t--center"},o&&nP.createElement(lj,{content:o})))}function dt(e){var t=e.label,n=e.onClick;return nP.createElement("button",{onClick:n,className:"w--100 m--top p--small c--active"},t)}function dn(e){var t=e.cancellationRequest,n=e.onSelectPayoutMethodCreditCard,r=e.onSelectPayoutMethodsCash,a=rU().t,i=function(e,t,n,r,a){void 0===a&&(a="");var i,o=rU().t,s=nR(sI),c=t0(!1),l=c[0],u=c[1],d=t0({status:"fetching"}),p=d[0],m=d[1],f=t6(function(){m({status:"fetching"}),s.getAvailablePayoutMethods().then(function(e){return m({status:"fetch_succeeded",availablePayoutMethods:e.available_payout_methods.map(function(e){return e.method})})},function(){return m({status:"fetch_failed"})})},[s]);t2(function(){f()},[f]),null===e.approvedPayoutAmount&&ta("Trying to select payout method for a cancellation request but there is no approved payout amount.",{cancellationRequestUid:e.uid});var h=l&&nP.createElement(lr,{onClose:function(){return u(!1)},show:!0,headerTitle:o("note!"),theme:"notification"},nP.createElement("p",{className:"t--strong t--center"},o("cancellationRequest.giveCashAmountToUserAfterCancellation",{amount:ar(e.approvedPayoutAmount)})),nP.createElement("p",{className:"t--small m--top--small"},o("cancellationRequest.makeSureHaveCash")),nP.createElement("button",{onClick:function(){u(!1),t()},className:"b--clear bg--brand m--top--small p--small t--center t--light w--100 t--strong"},o("cancellationRequest.agreeHaveEnoughCash")),nP.createElement("button",{onClick:function(){return u(!1)},className:"b--all b--clear m--top--small p--small t--center w--100"},o("cancellationRequest.cancel")));switch(p.status){case"fetching":i=nP.createElement("div",{className:a},nP.createElement(iJ,null));break;case"fetch_failed":i=nP.createElement("div",{className:a},nP.createElement("p",null,o("cancellationRequest.unexpectedError")),nP.createElement("button",{onClick:f,className:"b--all b--clear m--top--small p--small t--center bg--brand t--light t--strong"},o("tryAgain")));break;case"fetch_succeeded":i=0===p.availablePayoutMethods.length?nP.createElement("p",{className:a},o("cancellationRequest.noPayoutMethod")):nP.createElement("div",null,p.availablePayoutMethods.map(function(t){switch(t){case e_.CreditCard:return nP.createElement(r,{label:nP.createElement("div",null,o("cancellationRequest.toCardOfIdOwner")," ",nP.createElement("span",{dir:"ltr"},e.paidToPersonalId)),onClick:n});case e_.Cash:return nP.createElement(r,{label:o("cancellationRequest.cash"),onClick:function(){return u(!0)}});default:te(t)}}));break;default:te(p)}return nP.createElement(nP.Fragment,null,i,h)}(t,r,n,dt);return nP.createElement("section",{className:"p--small"},nP.createElement("h4",{className:"b--bottom m--bottom--small"},a("cancellationRequest.howWantGetPayout")),i)}(M=ex||(ex={})).ShowingCancellationRequestDetails="showing_cancellation_request_details",M.EnteringRavkavOwnerDetails="entering_ravkav_owner_details",M.SelectingPaidTo="selecting_paid_to",M.EnteringPaidToDetails="entering_paid_to_details",(B=eT||(eT={})).SelectingPayoutMethod="selecting_payout_method",B.AuthorizingPayoutMethod="authorizing_payout_method",B.ExecutingCancellation="executing_cancellation";var dr=function(){function e(){}return e.prototype.setLoading=function(e){e?document.documentElement.classList.add("loading"):document.documentElement.classList.remove("loading")},e.prototype.show=function(){this.setLoading(!0)},e.prototype.hide=function(){this.setLoading(!1)},e}(),da='<svg fill=currentColor viewBox="0 0 24 24" icon-direction=ltr><path d="M0 0h24v24H0z" fill=none /><path d="M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"/></svg>',di=iz(da),ds=[{titleTranslationCode:"emvSlideshow.deviceNowSupportsEmvTitle",bodyTranslationCode:"emvSlideshow.deviceNowSupportsEmvBody",img:"emv-onboarding1.png"},{titleTranslationCode:"emvSlideshow.contactlessExplanationTitle",bodyTranslationCode:"emvSlideshow.contactlessExplanationBody",img:"emv-onboarding2.png"},{titleTranslationCode:"emvSlideshow.supportsGooglePayApplePayTitle",bodyTranslationCode:"emvSlideshow.supportsGooglePayApplePayBody",img:"emv-onboarding3.png"},{titleTranslationCode:"emvSlideshow.mightRequirePinCodeTitle",bodyTranslationCode:"emvSlideshow.mightRequirePinCodeBody",img:"emv-onboarding4.png"},{titleTranslationCode:"emvSlideshow.track2FallbackTitle",bodyTranslationCode:"emvSlideshow.track2FallbackBody",img:"emv-onboarding5.png"}];function dc(e){var t,n,r,a=e.onFinished,i=rU().t,o=(t=nR(sN).baseUrl,{getServerSrc:function(e){return new URL(t+e).toString()}}).getServerSrc,s=t0(0),c=s[0],l=s[1];return c===ds.length-1?(n=i("continue"),r=a):(n=i("next"),r=function(){return l(function(e){return e+1})}),nP.createElement(nP.Fragment,null,ds.map(function(e,t){var n=e.titleTranslationCode,r=e.bodyTranslationCode,a=e.img;return nP.createElement("div",{className:tr("emv-onboarding",{hidden:t!==c}),key:a},nP.createElement("h3",null,i(n)),nP.createElement("img",{className:"w--100",src:o("/static/assets/images/emv/".concat(a))}),nP.createElement("p",null,i(r)))}),nP.createElement("footer",null,nP.createElement("button",{onClick:r},n)))}var dl=iz('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 46 56"><path fill=none stroke=currentColor stroke-width=6 stroke-linecap=round d="m35,3a50,50 0 0,1 0,50M24,8.5a39,39 0 0,1 0,39M13.5,13.55a28.2,28.5 0 0,1 0,28.5M3,19a18,17 0 0,1 0,18"/></svg>'),du={type:"discover",id:"emv_onboarding",data:null};function dd(e,t){switch(t.type){case"issuing_started":if("pristine"===e.status)return{status:"issuing"};break;case"issuing_failed":if("issuing"===e.status)return{status:"issue_failed",error:t.error};break;case"issuing_succeeded":if("issuing"===e.status)return{status:"issue_succeeded",reloadingCancellationUrl:t.reloadingCancellationUrl,maxAttempts:t.maxAttempts};break;default:te(t)}return e}function dp(e,t){t.abortReloadingCancellation(e).catch(function(){})}function dm(e,t,n,r,a,i,o,s,c,l){r({type:"execute_requested"});var u=n.cancelLoadContract(e,a.token),d=u[0],p=u[1];d.then(function(){return r({type:"execute_started"})}),p.then(function(e){r({type:"execute_succeeded"}),i.trackEvent("scan","cancellation","0",1),n.clear(),l.push({pathname:c,state:{cancelledContractNumber:e6(e.result.operations,function(e){return"cancel-load-contract"===e.type}).cancelled_contract_number,cancelledCardSerialNumber:s}},!0)},function(e){r({type:"execute_failed",error:e}),a.token.requested&&e.retry_enabled&&dp(t,o),i.trackEvent("scan","cancellation",e?e.cause:-1,1)})}function df(e){var t,n,r,a,i,o,s,c,l=e.executeEndpoint,u=e.transactionUid,d=e.cardSerialNumber,p=e.successStatePathname,m=rU().t,f=(n=(t=t1(sW,{status:"pristine"}))[0],r=t[1],a=t4(new sK),i=sa(),o=aC(),t2(function(){dm(l,u,o,r,a.current,s,c,d,p,i);var e=a.current;return function(){e.cancel()}},[s=sk(),d,o,l,i,p,c=aB(),u]),t2(function(){var e=a.current;return function(){if(e.token.requested){switch(n.status){case"executing":case"success":return;case"pristine":case"waiting_for_card":break;case"error":if(!n.error.retry_enabled)return;break;default:te(n)}dp(u,c)}}},[n,c,u]),{state:n,retry:function(){dm(l,u,o,r,a.current,s,c,d,p,i)}}),h=f.state,v=f.retry;switch(h.status){case"pristine":case"waiting_for_card":return nP.createElement("div",{className:"t--strong"},m("scanCard"),nP.createElement("br",null),m("cardLoader.waitOperationComplete"));case"executing":return nP.createElement(nP.Fragment,null,m("cancelLoad.executing"));case"success":return nP.createElement(nP.Fragment,null,nP.createElement("h1",{className:"p--regular c--success"},m("cancelLoad.success"),"!"),nP.createElement("footer",null,nP.createElement(si,{to:"/scan"},m("back"))));case"error":return nP.createElement(nP.Fragment,null,nP.createElement("span",{className:"t--strong t--large"},m("cancelLoad.cancelFailed"),!h.error.retry_enabled&&nP.createElement(nP.Fragment,null,nP.createElement("br",null),m("cancelLoad.noRefund"))),nP.createElement(lc,{response:h.error,defaultMessage:m("cve.notExtended")}),nP.createElement("footer",null,h.error.retry_enabled&&nP.createElement("button",{onClick:v},m("tryAgain")),nP.createElement(si,{to:"/scan"},m("back"))));default:te(h)}}function dh(e){var t=e.response,n=e.creditCardDetailsType,r=e.maxPayments,a=e.isPersonalIdRequired,i=e.onFinish,o=e.onError,s=e.onCancel,c=rU().t,l=sk(),u=nR(s_);t2(function(){switch(n){case ec.Track2:break;case ec.Emv:case ec.Details:return;default:te(n)}return u.setDiscovery(!0),function(){u.setDiscovery(!1)}});var d=function(e){switch(t.type){case el.Creditguard:l.trackTiming("CreditGuard",e,"load iframe",n);break;case el.Buya:l.trackTiming("Buya",e,"hosted fields load",n);break;default:te(t)}};switch(t.type){case el.Creditguard:return nP.createElement("div",{className:"p--regular"},nP.createElement(uf,{hostedPageUrl:t.hosted_page_url,onSuccess:i,onError:o,onCancel:s,onLoad:d,pageTitle:c("payment.mpiPageTitle"),creditCardDetailsType:n}));case el.Buya:if(n===ec.Emv)return nP.createElement("div",{className:"p--regular"},nP.createElement(uJ,{sessionId:t.session_id,onSuccess:i,onError:o,submitButtonClass:"button footer flex flex--justify-center flex--align-center t--strong t--medium p--small c--active",maxPayments:r}));return nP.createElement("div",{className:"p--regular"},nP.createElement(ln,{sessionId:t.session_id,paymentDetailsStyle:n,onSuccess:i,onError:o,onLoad:d,maxPayments:r,personalIdMode:a?"required":"optional",canSaveCreditCards:!1,initialReusable:!1}));default:te(t)}}function dv(e,t,n){t.updateClientPreferences({serviceStationUid:e.uid}),n.push("/app/scan")}function dg(e,t){return e6(t,function(t){return t.uid===e})}function dy(e,t){t({status:"waiting_for_user_selection",serviceStations:e,searchTerm:""})}function db(e,t){switch(t.type){case"issuing_started":if("pristine"===e.status)return{status:"issuing"};break;case"issuing_failed":if("issuing"===e.status)return{status:"issue_failed",error:t.error};break;case"issuing_succeeded":if("issuing"===e.status)return{status:"issue_succeeded",executeEndpoint:t.executeEndpoint};break;default:te(t)}return e}function d_(e,t){t.abortReloading(e).catch(function(){})}function dE(e,t,n,r,a,i,o,s){r({type:"execute_requested"});var c=n.loadContract(e,a.token),l=c[0],u=c[1];l.then(function(){return r({type:"execute_started"})}),u.then(function(e){r({type:"execute_succeeded"}),i.trackEvent("scan","reloading","0",1),n.clear(),s(e)},function(e){r({type:"execute_failed",error:e}),a.token.requested&&e.retry_enabled&&d_(t,o),i.trackEvent("scan","reloading",e?e.cause:-1,1)})}var dw='<svg viewBox="0 0 48 48"><g><path fill=#dedede d="M40.1,15.5c0.7-1.2,1.3-2.4,1.8-3.6c-0.3-0.1-0.5-0.1-0.8-0.1H6.9c-1.6,0-2.9,1.3-2.9,2.9v16.6    c2.5,0.6,5,0.9,7.5,0.8c3.8,0,7.5-0.6,11-1.8l0.3-0.9c0.4,0.2,0.8,0.2,1.3,0.3c1.2-0.5,2.4-1.1,3.6-1.7c-3,1.1-6.4,0.7-9.2-1.2    l0.5-0.8c3.2,2.1,7.3,2.1,10.5,0l0.4,0.6c2.7-1.8,5.2-4.1,7.2-6.7h-5.5c0.2,0.3,0.3,0.6,0.3,1c0,1-0.8,1.8-1.8,1.8    s-1.8-0.8-1.8-1.8c0-0.4,0.1-0.7,0.3-1h-8.7c0.2,0.3,0.3,0.6,0.3,1c0,1-0.8,1.8-1.8,1.8s-1.8-0.8-1.8-1.8c0-0.4,0.1-0.7,0.3-1H5.1    v-4.4H40.1z"/><path fill=#d0ced4 d="M44,14.6c0-0.3,0-0.5-0.1-0.8c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.1-0.3-0.2-0.4c-0.1-0.2-0.3-0.4-0.5-0.6    c-0.1-0.1-0.2-0.2-0.3-0.2c-0.1-0.1-0.2-0.1-0.4-0.2c-0.1-0.1-0.3-0.1-0.5-0.2c-0.5,1.3-1.1,2.5-1.8,3.6h0h2.8V20h-5.7h0    c-2.1,2.6-4.5,4.8-7.2,6.7l0,0l0.1,0.2c-0.7,0.5-1.4,0.8-2.2,1.1c-0.1,0-0.1,0.1-0.2,0.1c-1.2,0.6-2.4,1.2-3.6,1.7    c0,0,0.1,0,0.1,0c0.5,0,1-0.1,1.5-0.3l0.4,0.9c-1.2,0.4-2.4,0.4-3.6,0l0,0l0,0c-3.5,1.2-7.2,1.9-11,1.8c-2.5,0-5-0.3-7.5-0.8v0v2    c0,0.1,0,0.2,0,0.3c0.1,0.5,0.2,0.9,0.5,1.3c0.4,0.6,0.9,1,1.6,1.2l0.3,0.1h0.3h34.7c0.3,0,0.6-0.1,0.8-0.2c0.5-0.2,1-0.6,1.3-1.1    c0.3-0.4,0.4-0.9,0.5-1.3c0-0.1,0-0.2,0-0.3L44,14.6L44,14.6z"/><path fill=#918caf d="M25.7,29.5c-0.5,0.2-1,0.3-1.5,0.3c0,0-0.1,0-0.1,0c-0.4,0-0.9-0.1-1.3-0.3l-0.3,0.9l0,0l0,0    c1.2,0.4,2.4,0.4,3.6,0L25.7,29.5z"/><path d="M29.9,26.7l-0.4-0.6c-3.2,2.1-7.3,2.1-10.5,0l-0.5,0.8c2.7,1.8,6.2,2.2,9.2,1.2c0.1,0,0.1-0.1,0.2-0.1     c0.8-0.3,1.5-0.6,2.2-1.1L29.9,26.7L29.9,26.7z"/><path d="M20.2,20.9c0-0.4-0.1-0.7-0.3-1c-0.3-0.5-0.9-0.8-1.5-0.8s-1.2,0.3-1.5,0.8c-0.2,0.3-0.3,0.6-0.3,1c0,1,0.8,1.8,1.8,1.8     S20.2,21.9,20.2,20.9z M19,21c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5C19.5,20.8,19.3,21,19,21z"/><path d="M31.6,20c-0.3-0.5-0.9-0.8-1.5-0.8c-0.6,0-1.2,0.3-1.5,0.8c-0.2,0.3-0.3,0.6-0.3,1c0,1,0.8,1.8,1.8,1.8s1.8-0.8,1.8-1.8     C31.9,20.6,31.8,20.2,31.6,20z M30.7,21c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5C31.2,20.8,31,21,30.7,21z     "/><g fill=#ffffff><path d="M40.1,15.5L40.1,15.5h-35V20h11.7c0.3-0.5,0.9-0.8,1.5-0.8s1.2,0.3,1.5,0.8h8.7c0.3-0.5,0.9-0.8,1.5-0.8     c0.6,0,1.2,0.3,1.5,0.8h5.5h0h5.7v-4.4H40.1z"/><path d=M19,20c-0.3,0-0.5,0.2-0.5,0.5c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5C19.5,20.3,19.3,20,19,20z /><path d=M30.7,20c-0.3,0-0.5,0.2-0.5,0.5c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5C31.2,20.3,31,20,30.7,20z /></g></g><g class=icon-ravkav-with-hand__hand><g fill=#6f6f6f><path d="M6.3,21.1c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0.1,0.1,0.1,0.1c0.1,0,0.3-0.1,0.3-0.3v-0.4    c0-0.2,0.1-0.5,0.2-0.6c-0.2-0.1-0.4-0.2-0.6-0.2c-0.2,0-0.3,0-0.4,0.1c0.2,0.2,0.3,0.4,0.3,0.7V21.1z"/><path d="M12.7,24.9c0-1.1,0-2.3,0-3.5l0,0v-4.2c0-0.6-0.5-1-1-1c-0.2,0-0.3,0-0.4,0.1c0.2,0.2,0.3,0.4,0.3,0.7v4.2    l0,0c0,1.2,0,2.4,0,3.5c0.6,0.6,0.9,1.4,0.9,2.7c0,2-1.8,3.7-5.1,4c-0.3,0-0.5,0.1-0.8,0.1c0,0,0,0,0,0c0,0,0,0,0,0    c-0.1,0-0.3,0-0.4,0c0.5,0.2,1.1,0.2,1.6,0.2c0,0,0,0,0,0c0,0,0,0,0,0c0.3,0,0.5,0,0.8-0.1c3.3-0.3,5.1-2,5.1-4    C13.6,26.4,13.3,25.5,12.7,24.9z"/><path d="M3.4,20.3c0.2,0.2,0.3,0.4,0.3,0.7v0.1c0,0.1,0.1,0.3,0.3,0.3c0.1,0,0.3-0.1,0.3-0.3v-0.4    c0-0.1,0-0.3,0.1-0.4c-0.1-0.1-0.3-0.1-0.4-0.1C3.7,20.2,3.5,20.3,3.4,20.3z"/><path d="M8.9,21.1L8.9,21.1c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1c0.1,0,0.3-0.1,0.3-0.3V20    c-0.1,0-0.2-0.1-0.4-0.1c-0.2,0-0.3,0-0.4,0.1c0.2,0.2,0.3,0.4,0.3,0.7V21.1z"/></g><g fill=#d0ced4><path d="M6.5,21.4L6.5,21.4C6.5,21.4,6.5,21.4,6.5,21.4C6.5,21.4,6.4,21.3,6.5,21.4C6.4,21.3,6.5,21.4,6.5,21.4    L6.5,21.4z"/><path d="M9,21.4C9,21.4,9,21.3,9,21.4c0,0,0.1,0,0.2,0C9.1,21.4,9,21.3,9,21.4C9,21.3,9,21.3,9,21.4    C9,21.3,9,21.4,9,21.4z"/><path d="M5.2,23.9c0.6,0,1-0.5,1-1v-1.7v-0.4c0-0.3-0.1-0.5-0.3-0.7c-0.2-0.2-0.5-0.3-0.8-0.3c-0.4,0-0.8,0.3-1,0.7    c0,0.1-0.1,0.2-0.1,0.4v0.4v1.7C4.2,23.4,4.7,23.9,5.2,23.9z"/><path d="M11.5,24.7c0-1.1,0-2.3,0-3.5l0,0V17c0-0.3-0.1-0.5-0.3-0.7C11,16.1,10.8,16,10.5,16c-0.6,0-1,0.5-1,1v3v1.1    v1.8c0,0.6,0.5,1,1,1c0.6,0,1-0.5,1-1v0.4L11.5,24.7c-0.6-0.6-1.4-0.8-2.5-0.8h-1c0.5-0.1,0.8-0.5,0.8-1v-1.8v-0.4    c0-0.3-0.1-0.5-0.3-0.7c-0.2-0.2-0.5-0.3-0.8-0.3c-0.3,0-0.6,0.2-0.8,0.4c-0.1,0.2-0.2,0.4-0.2,0.6v0.4v1.8c0,0.5,0.4,0.9,0.8,1    h-1c-0.3,0-0.6,0.2-0.8,0.4c-0.1,0.1-0.1,0.1-0.1,0.2c-0.1,0.1-0.1,0.3-0.1,0.4v0c0,0.6,0.5,1,1,1c0.7,0,1.3,0,2,0    c1.3,0,1.5,1.2,1.2,2c0,0.1-0.1,0.2-0.2,0.4c-0.1-2-0.8-2.1-2.1-2.1c-0.7,0-0.7,0-1.4,0c-0.6,0-1-0.5-1-1v0c0-0.3,0.1-0.5,0.3-0.7    c0,0-0.1,0-0.1,0h0c-0.6,0-1-0.4-1.2-0.9c-0.2,0.5-0.6,0.9-1.2,0.9h0c0,0,0,0-0.1,0c-0.7,0-1.2-0.6-1.2-1.2c0,1.3,0,2.5,0,3.4    c0,2.9,2.2,4.5,4.5,4.7c0.1,0,0.3,0,0.4,0c0,0,0,0,0,0c0,0,0,0,0,0c0.3,0,0.5,0,0.8-0.1c3.3-0.3,5.1-2,5.1-4    C12.4,26.1,12.1,25.3,11.5,24.7z"/><path d="M2.6,23.9c0.1,0,0.1,0,0.1,0c0.5-0.1,0.9-0.5,0.9-1v-1.7v-0.1c0-0.3-0.1-0.5-0.3-0.7C3.2,20.1,2.9,20,2.6,20    c-0.6,0-1,0.5-1,1v0.2c0,0.1,0,0.1,0,0.2c0,0.5,0,1,0,1.5C1.6,23.4,2.1,23.9,2.6,23.9z"/></g><g fill=#aaa6b0><path d="M8.5,26c-0.7,0-1.3,0-2,0c-0.6,0-1-0.5-1-1v0c0-0.2,0-0.3,0.1-0.4c0-0.1,0.1-0.1,0.1-0.2    C6,24,6.3,23.9,6.6,23.9h1c-0.5-0.1-0.8-0.5-0.8-1v-1.8c0,0.1-0.1,0.3-0.3,0.3c0,0,0,0-0.1,0l0,0l0,0c0,0-0.1,0-0.1,0c0,0,0,0,0,0    c0,0-0.1-0.1-0.1-0.2v1.7c0,0.6-0.5,1-1,1c-0.6,0-1-0.5-1-1v-1.7c0,0.1-0.1,0.3-0.3,0.3c-0.1,0-0.3-0.1-0.3-0.3v1.7    c0,0.5-0.4,0.9-0.9,1c-0.1,0-0.1,0-0.1,0c-0.6,0-1-0.5-1-1c0,0.2,0,0.3,0,0.5c0,0.7,0.5,1.2,1.2,1.2c0,0,0,0,0.1,0h0    c0.6,0,1-0.4,1.2-0.9c0.2,0.5,0.6,0.9,1.2,0.9h0c0,0,0.1,0,0.1,0C5.1,24.7,5,25,5,25.3v0c0,0.6,0.5,1,1,1c0.7,0,0.7,0,1.4,0    c1.4,0,2.1,0.1,2.1,2.1c0.1-0.1,0.1-0.2,0.2-0.4C10.1,27.2,9.8,26,8.5,26z"/><path d="M10.5,23.9c-0.6,0-1-0.5-1-1v-1.8c0,0.1-0.1,0.3-0.3,0.3c-0.1,0-0.1,0-0.2-0.1c0,0,0,0.1,0,0.1    c0,0,0-0.1,0-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.1-0.2h0v1.8c0,0.5-0.4,0.9-0.8,1h1c1.1,0,1.9,0.3,2.5,0.8v-1.4v-0.4    C11.5,23.4,11,23.9,10.5,23.9z"/></g></g></svg>',dS=iz(dw);function dC(e){var t,n,r,a,i,o,s,c,l=e.executeEndpoint,u=e.transactionUid,d=e.onSuccess,p=rU().t,m=(n=(t=t1(sW,{status:"pristine"}))[0],r=t[1],a=t4(new sK),i=aC(),t2(function(){dE(l,u,i,r,a.current,o,s,c);var e=a.current;return function(){e.cancel()}},[o=sk(),i,l,s=aB(),u,c=t6(function(e){d(e6(e.result.operations,function(e){return"load-contract"===e.type}).new_contract_number)},[d])]),t2(function(){var e=a.current;return function(){if(e.token.requested){switch(n.status){case"executing":case"success":return;case"pristine":case"waiting_for_card":break;case"error":if(!n.error.retry_enabled)return;break;default:te(n)}d_(u,s)}}},[n,s,u]),{state:n,retry:function(){dE(l,u,i,r,a.current,o,s,c)}}),f=m.state,h=m.retry;switch(f.status){case"pristine":case"waiting_for_card":return nP.createElement(nP.Fragment,null,p("reload.scanRavKavCard"),nP.createElement("div",{className:"flex flex--justify-center"},nP.createElement(dS,{size:6})),p("cardLoader.waitOperationComplete"));case"executing":return nP.createElement(nP.Fragment,null,p("reload.executing"));case"success":return nP.createElement(nP.Fragment,null,p("reload.success"));case"error":return nP.createElement("div",{className:"p--small c--danger"},nP.createElement(lc,{response:f.error,defaultMessage:p("reload.notLoaded")}),nP.createElement("footer",null,f.error.retry_enabled?nP.createElement("button",{onClick:h},p("tryAgain")):nP.createElement(si,{to:"/app/scan"},p("back"),", ",p("notCharged"))));default:te(f)}}function dk(e){var t,n,r,a,i,o,s,c=e.executeEndpoint,l=e.cardInvalidationUid,u=e.onSuccess,d=rU().t,p=(n=(t=t1(sW,{status:"pristine"}))[0],r=t[1],a=t4(new sK),i=aC(),t2(function(){sY(c,l,i,r,a.current,o,s,u);var e=a.current;return function(){e.cancel()}},[o=sk(),l,i,c,s=nR(sH),u]),t2(function(){var e=a.current;return function(){if(e.token.requested){switch(n.status){case"executing":case"success":return;case"pristine":case"waiting_for_card":break;case"error":if(!n.error.retry_enabled)return;break;default:te(n)}sG(l,s)}}},[n,s,l]),{state:n,retry:function(){sY(c,l,i,r,a.current,o,s,u)}}),m=p.state,f=p.retry;switch(m.status){case"pristine":case"waiting_for_card":return nP.createElement(nP.Fragment,null,d("reload.scanRavKavCard"),nP.createElement("div",{className:"flex flex--justify-center"},nP.createElement(dS,{size:6})),d("cardLoader.waitOperationComplete"));case"executing":return nP.createElement(nP.Fragment,null,d("blacklist.executing"));case"success":return nP.createElement(nP.Fragment,null,d("blacklist.success"));case"error":return nP.createElement("div",{className:"p--small c--danger"},nP.createElement(lc,{response:m.error,defaultMessage:d("blacklist.wasntInvalidated")}),nP.createElement("footer",null,m.error.retry_enabled?nP.createElement("button",{onClick:f},d("tryAgain")):nP.createElement(si,{to:"/app/scan"},d("back"))));default:te(m)}}function d$(e){var t=e.localAccountUid,n=sa();return t2(function(){n.push("/app/local-account/".concat(t))},[n,t]),nP.createElement(nP.Fragment,null)}function dA(e){var t,n,r,a,i,o,s=e.executeEndpoint,c=e.onSuccess,l=rU().t,u=(n=(t=t1(sW,{status:"pristine"}))[0],r=t[1],a=t4(new sK),i=aC(),t2(function(){s3(s,i,r,a.current,o,c);var e=a.current;return function(){e.cancel()}},[o=sk(),i,s,c]),{state:n,retry:function(){s3(s,i,r,a.current,o,c)}}),d=u.state,p=u.retry;switch(d.status){case"pristine":case"waiting_for_card":return nP.createElement("section",null,l("scanCard"),nP.createElement("br",null),l("cardLoader.waitOperationComplete"));case"executing":return nP.createElement("section",null,l("localAccountEnrollment.executing"),nP.createElement("br",null),l("pleaseWait"));case"success":return nP.createElement("section",{className:"p--small c--success"},l("localAccountEnrollment.success"));case"error":var m=d.error.retry_enabled?nP.createElement("button",{onClick:p},l("tryAgain")):nP.createElement(si,{to:"/scan"},l("back"));return nP.createElement("section",{className:"p--small c--danger"},nP.createElement(lc,{response:d.error,defaultMessage:l("localAccountEnrollment.error")}),nP.createElement("footer",null,m));default:te(d)}}function dx(e){var t=e.localAccountEnrollmentResponse,n=e.onIssue;return t2(function(){n(t.local_account_enrollment.uid)},[t.local_account_enrollment.uid,n]),nP.createElement(nP.Fragment,null)}(V=eN||(eN={})).DISCONNECTED="DISCONNECTED",V.READER_DISCONNECTED="READER_DISCONNECTED",V.NO_CARD="NO_CARD",V.READY="READY",(U=eP||(eP={})).TIMEOUT="TIMEOUT",U.CONNECTION_REFUSED="CONNECTION_REFUSED",(j=eR||(eR={}))[j.NotReady=1030]="NotReady",j[j.Timeout=1032]="Timeout",j[j.Disconnected=1033]="Disconnected";var dT=function(){function e(e,t,n,r,a){var i=this;this.nextRequestId=1,this.pendingRequests=[],this._remoteVersion=null,this.state=eN.DISCONNECTED,this.onStateChange=t,this.logger=a,this.ws=new WebSocket(e),this.ws.onopen=function(){n()},this.ws.onerror=function(e){i.logger("[RAVKAV-LOADER] websocket error:",e),i.isWebSocketClosedOrClosing()&&(i.setState(eN.DISCONNECTED),r(eP.CONNECTION_REFUSED))},this.ws.onclose=function(){i.setState(eN.DISCONNECTED)},this.ws.onmessage=function(e){var t=JSON.parse(e.data);if(!t){i.logger("[RAVKAV-LOADER] bad message:",t);return}t.result?i.handleResponse(t):i.handleRequest(t)}}return Object.defineProperty(e.prototype,"remoteVersion",{get:function(){return this._remoteVersion},enumerable:!1,configurable:!0}),e.connect=function(t,n,r,a,i,o){void 0===o&&(o=function(e,t){return null});var s=null,c=!1,l=new e(t,r,function(){c?(o("[RAVKAV-LOADER] closing connection post timeout"),l.close()):(null!==s&&clearTimeout(s),a(l))},function(){c||(null!==s&&clearTimeout(s),i(eP.CONNECTION_REFUSED))},o);s=setTimeout(function(){c=!0,i(eP.TIMEOUT)},n)},e.prototype.isWebSocketClosedOrClosing=function(){var e=this.ws.readyState;return e===WebSocket.CLOSED||e===WebSocket.CLOSING},e.prototype.setState=function(e){this.state!==e&&(this.state=e,this.onStateChange(this.state))},e.prototype.takePendingRequest=function(e){for(var t=0;t<this.pendingRequests.length;t++){var n=this.pendingRequests[t];if(n.id===e)return this.pendingRequests.splice(t,1),n}return null},e.prototype.handleResponse=function(e){var t=this.takePendingRequest(+e.id);if(null===t){this.logger("[RAVKAV-LOADER] stray response:",e);return}clearTimeout(t.timeoutId);try{t.onResponse(e.result)}catch(e){this.logger("[RAVKAV-LOADER] onResponse uncaught error:",e)}},e.prototype.handleTimeout=function(e){var t=this.takePendingRequest(e);if(null!==t)try{t.onTimeout()}catch(e){this.logger("[RAVKAV-LOADER] onTimeout uncaught error:",e)}},e.prototype.handleRequest=function(e){switch(e.method){case"VERSION":void 0!==e.params.version&&(this._remoteVersion=e.params.version);break;case"STATE":if(!(e.params.state in eN)){this.logger("[RAVKAV-LOADER] unknown state:",e);break}"DISCONNECTED"===e.params.state&&this.close(),this.setState(e.params.state)}},e.prototype.notification=function(e,t){this.ws.send(JSON.stringify({method:e,params:t}))},e.prototype.nop=function(){this.state!==eN.DISCONNECTED&&this.notification("NOP",{})},e.prototype.version=function(e){this.state!==eN.DISCONNECTED&&this.notification("VERSION",{version:e})},e.prototype.request=function(e,t,n,r,a,i){var o=this,s=this.nextRequestId++,c=setTimeout(function(){return o.handleTimeout(s)},i);this.pendingRequests.push({id:s,timeoutId:c,onResponse:n,onTimeout:r,onClose:a}),this.ws.send(JSON.stringify({id:s,method:e,params:t}))},e.prototype.execute=function(e,t,n){function r(e,t,r){n({finish_status:"FAILED",cause:e,cause_args:t,retry_enabled:r})}if(this.state!==eN.READY){r(eR.NotReady,[],!0);return}this.request("SAMSERVER_ENDPOINT",{endpoint:e},n,function(){return r(eR.Timeout,[],!0)},function(){return r(eR.Disconnected,[],!0)},t)},e.prototype.getState=function(){return this.state},e.prototype.getDesktopActivationLink=function(){return"ravkav:"+this.ws.url},e.prototype.close=function(){this.onStateChange=function(){},this.isWebSocketClosedOrClosing()||this.ws.close();for(var e=0,t=this.pendingRequests.splice(0);e<t.length;e++){var n=t[e];clearTimeout(n.timeoutId);try{n.onClose()}catch(e){this.logger("[RAVKAV-LOADER] onClose uncaught error:",e)}}this.setState(eN.DISCONNECTED)},e}(),dN="ravkav-desktop-service-iframe",dP={finish_status:"FAILED",retry_enabled:!1,cause:1090,cause_args:[],result:null},dR=function(){function e(e,t){this.LocalStorage=e,this.$q=t,this.onStateChanged=new rX,this.ravkavSdkInstalledSet=!1,this.state={status:"uninitialized"}}return e.$inject=["LocalStorage","$q"],e.prototype.connectionKeepAliveLoop=function(e){var t=this;setTimeout(function(){"initialized"===t.state.status&&e===t.state.connection&&(function(e){if(null===e)return!1;var t=e.toString().split(".").map(function(e){return parseInt(e,10)}),n=t[0],r=t[1],a=t[2];return n>=2&&(r>5||5===r&&a>=2)}(e.remoteVersion)?e.nop():e.version("0"),t.connectionKeepAliveLoop(e))},3e4)},e.prototype.getState=function(){return"initialized"!==this.state.status?eN.DISCONNECTED:this.state.connection.getState()},e.prototype.connect=function(e,t){var n=this;if(void 0===t&&(t=1e4),"initialized"===this.state.status){if(this.state.connection.getState()!==eN.DISCONNECTED)return this.$q.resolve();this.state.connection.close(),this.state={status:"uninitialized"}}if("initializing"===this.state.status)return this.state.pending;var r=new this.$q(function(r,a){dT.connect(e,t,function(e){n.onStateChanged.emit(e),n.pendingDiscovery&&"initialized"===n.state.status&&n.state.connection.getState()===eN.READY&&(n.pendingDiscovery.resolve(),n.pendingDiscovery=void 0),n.ravkavSdkInstalledSet||e!==eN.READY||(n.LocalStorage.setItem("ravkavSdkInstalled","true"),n.ravkavSdkInstalledSet=!0)},function(e){var t,a;(function(){var e=window.document.getElementById(dN);if(null!==e){var t=e.parentElement;null!==t&&t.removeChild(e)}})(),t=e.getDesktopActivationLink(),(a=window.document.createElement("iframe")).id=dN,a.src=t,a.style.display="None",window.document.body.appendChild(a),n.state={status:"initialized",connection:e},n.connectionKeepAliveLoop(e),r()},a,function(e,t){})});return this.state={status:"initializing",pending:r},r},e.prototype.discover=function(e){var t=this,n=ap(this.$q);if(e.requested)return n.reject(dP),n.promise;if(this.pendingDiscovery&&(this.pendingDiscovery.reject(Error("replaced")),this.pendingDiscovery=void 0),"initialized"===this.state.status&&this.state.connection.getState()===eN.READY)return n.resolve(),n.promise;this.pendingDiscovery=n;var r=e.register(function(){t.pendingDiscovery===n&&(t.pendingDiscovery=void 0),n.reject(dP)});return n.promise.finally(r.unregister)},e.prototype.request=function(e,t,n){if("initialized"!==this.state.status)throw Error("not connected");var r=this.state.connection;return new Promise(function(a){r.request(e,t,a,function(){return a({error:"Timed out"})},function(){return a({error:"Disconnected"})},n)})},e.prototype.isDesktopSdkInstalled=function(){return!!this.LocalStorage.getItem("ravkavSdkInstalled")},e.prototype.isCardConnected=function(){return"initialized"===this.state.status&&this.state.connection.getState()===eN.READY},e}();!function(){function e(e,t){this.$q=e,this.desktopSdkConnection=t,this.name="desktop"}e.$inject=["$q","desktopSdkConnection"],Object.defineProperty(e.prototype,"onStateChanged",{get:function(){return this.desktopSdkConnection.onStateChanged},enumerable:!1,configurable:!0}),e.prototype.getState=function(){return this.desktopSdkConnection.getState()},e.prototype.connect=function(e,t){return void 0===t&&(t=1e4),this.desktopSdkConnection.connect(e,t)},e.prototype.discover=function(e){return this.desktopSdkConnection.discover(e)},e.prototype.execute=function(e,t,n){var r=this;if(void 0===n&&(n=45e3),this.desktopSdkConnection.getState()===eN.DISCONNECTED)return this.$q.reject(Error("no connection"));if(t.requested)return this.$q.resolve(dP);var a=function(e,t,n){return r.$q.resolve({finish_status:"FAILED",cause:e,cause_args:t,retry_enabled:n,result:null})};return this.desktopSdkConnection.getState()!==eN.READY?a(eR.NotReady,[],!0):this.desktopSdkConnection.request("SAMSERVER_ENDPOINT",{endpoint:e},n).then(function(e){if(!("error"in e))return e;switch(e.error){case"Timed out":return a(eR.Timeout,[],!0);case"Disconnected":return a(eR.Disconnected,[],!0);default:te(e.error)}})},e.prototype.readCardSerial=function(e,t){return void 0===t&&(t=1e4),this.execute("$readcardserial$",e,t)},e.prototype.readRecords=function(e){return this.execute("$readrecords$",e)},e.prototype.isDesktopSdkInstalled=function(){return this.desktopSdkConnection.isDesktopSdkInstalled()},e.prototype.isCardConnected=function(){return this.desktopSdkConnection.isCardConnected()}}();var dL=eZ().module("ravkav.ravkav-pos",["ngMessages","ui.router",aY,ii,iL,iM,i8,i7,i9,oa,ol,ie,om,ov,il,og,ob,o$,ox,a8,oF,oL,oB,oz,oG,sh,sb,o0,o2,iD,o4,se,sn,sl]).service("deviceInterceptor",sw).service("serviceStationInterceptor",sS).service("cancellationRequestService",sD).service("loadingService",dr).service("buyaPosService",sq).service("blacklistService",sj).service("shamashLocalAccountService",sZ).service("shamashIdentifyService",s0).service("shamashEnrollmentService",sQ).service("desktopSdkConnection",dR).constant("baseUrl","https://ravkavonline.co.il").constant("googleAnalyticsUA","UA-73616645-7").constant("softwareName","ravkav-pos").constant("softwareVersion","1.21.0").constant("useConsolePrinterBackend",!1).constant("buyaBaseUrl","".concat("https","://api.").concat("buya.co.il")).constant("buyaClientToken","".concat("buyapk_HippzXmiNHXkltfbefDxoPPjbNY")).constant("buyaMerchantId","".concat("bf048af9-0542-4734-9e56-9715bf85a3d3")).constant("brand","RAVKAVONLINE").constant("proxyUrl","".concat("wss://proxy.ravkavonline.co.il/api/proxy")).constant("availableLanguages",["he","en","ar","ru"]).component("transactionHistoryDetailsPage",cm(function(e){var t=e.transaction,n=rU().t,r=nR(or),a=aB(),i=sk(),o=null;r.hasPrinter&&(t.billingStatus===eu.charged?o=n("transactionHistory.purchaseApproval"):t.billingStatus===eu.refunded&&(o=n("transactionHistory.cancellationApproval")));var s=function(e){cZ(e,a,r,i)};return nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"bg--light"},nP.createElement(cY,{transaction:t}),o&&nP.createElement("div",{className:"p--regular flex p--regular flex--align-center link-clear"},nP.createElement("h2",{className:"col--grow t--regular m--clear"},o),nP.createElement("button",{onClick:function(){return s(t)},className:"c--clear"},nP.createElement(cJ,null)))),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return window.history.back()}},n("back"))))},["transaction"])).component("transactionHistoryPage",cm(cX,["userAccount","initialQuery","showFilter","listItemBaseUrl"])).component("announcementModal",cm(function(e){var t=e.checkResponse,n=rU().t,r=nR(aG),a=t0(t.new_announcements>0),i=a[0],o=a[1];return nP.createElement(cD,{onClose:function(){null!==t.most_recent_at&&(r.updateLastSeen(t.most_recent_at),o(!1))},headerTitle:n("announcements.title"),theme:"brand",show:i},nP.createElement(c1,{theme:"inverse"}))},["checkResponse"])).component("announcementsPage",cm(function(){var e=rU().t;return nP.createElement(nP.Fragment,null,nP.createElement("section",{className:"p--small"},nP.createElement(c1,null)),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return window.history.back()}},e("back"))))})).component("blacklistPage",cm(function(e){var t,n=e.createCardInvalidationResponse,r=rU().t,a=sa(),i=t0({status:"explaining_blacklisted_card"}),o=i[0],s=i[1],c=t6(function(){a.push({pathname:"/app/blacklist-success",state:{uid:n.card_invalidation.uid}})},[n.card_invalidation.uid,a]);switch(o.status){case"explaining_blacklisted_card":t=nP.createElement(nP.Fragment,null,nP.createElement("p",null,r("blacklist.cardInBlacklist")),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){s({status:"executing",executeEndpoint:n.action.key,cardInvalidationUid:n.card_invalidation.uid})}},r("blacklist.invalidateCard"))));break;case"executing":t=nP.createElement(dk,{executeEndpoint:o.executeEndpoint,cardInvalidationUid:o.cardInvalidationUid,onSuccess:c});break;default:te(o)}return nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--regular"},r("blacklist.title"))),nP.createElement("div",{className:"p--regular"},t))},["createCardInvalidationResponse"])).component("forgotPasswordPage",cm(function(e){var t=e.prefilledUsername,n=e.onSuccess,r=e.onTimedOut,a=rU().t,i=nR(oY);return t2(function(){var e=i.createWatch(3e5);return e.getPromise().then(function(){r()}).catch(function(){}),function(){e.cancel()}},[i,r]),nP.createElement("article",{className:"c--inverse p--large h--100"},nP.createElement("div",{className:"container"},nP.createElement("p",null,a("registrationUsername.enterUsernameToReset")),nP.createElement(c5,{label:a("registrationUsername.username"),prefilledUsername:t,onSuccess:n,isEmailOnly:!1,submitButtonClassName:"w--100 t--center t--medium c--success p--small m--top--large"})))},["onSuccess","prefilledUsername","onTimedOut"])).component("ravKavCardTransactionHistoryPage",cm(function(e){var t=e.userAccount,n=e.initialQuery,r=e.cardSerial,a=rU().t;return nP.createElement(nP.Fragment,null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--medium"},a("loadingHistory")),a("transactionHistory.forCard",{serial:r})),nP.createElement(cX,{userAccount:t,initialQuery:n,showFilter:!1,listItemBaseUrl:"app"}))},["userAccount","initialQuery","cardSerial"])).component("buyaHostedFields",cm(ln,["sessionId","maxPayments","paymentDetailsStyle","personalIdMode","canSaveCreditCards","initialReusable","onSuccess","onError","onLoad"])).component("languagePicker",cm(ls,["onLanguagePicked","selectedLanguage","openPickerButtonClass"])).component("rmtktsCause",cm(lc,["response","defaultMessage","onSelectRelatedContract"])).component("profileLoadingUpload",cm(lp,["documents","maxUnknownDocuments","requiredDocumentTags","onDocumentUpload","onDocumentDelete"])).component("storedValueConversionConfirm",cm(function(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f=e.card,h=e.userAccount,v=e.contractGroup,g=rU().t,y=sa(),b=rK(),_=(n=(t={card:f,userAccount:h,contractGroup:v,convertStatePathname:"/app/stored-value-conversion/convert"}).card,r=t.userAccount,a=t.contractGroup,i=t.convertStatePathname,o=sa(),s=nD(),l=(c=t0(function(){var e=n.storedValueConversion;if(null===e)return s.error({message:"No SVC on card: expected an SVC but the card doesn't have one"}),{status:"error",error:"no_svc"};if(!a.can_be_sold)return s.error({message:"ContractGroup cannot be sold: got contractGroup in SVC which cannot be sold",data:{contractGroup:a}}),{status:"error",error:"no_contract"};var t=a.contracts;if(null!==r&&null!==r.operators){var i=r.operators;t=t.filter(function(e){return i.indexOf(e.operator)>-1})}if(0===t.length)return s.error({message:"No available contracts in SVC",data:{contractGroup:a}}),{status:"error",error:"no_contract"};var o=t[0],c=lm(t.map(function(e){return e.operator}),n.getPreferredOperators()),l=a.getContractOfOperator(c);return null!==l&&(o=l),{status:"ready",storedValueConversion:e,availableContracts:t,selectedContract:o}}))[0],u=c[1],{state:l,onContractSelected:function(e){"error"!==l.status&&u(eI(eI({},l),{selectedContract:e}))},confirm:function(){"error"!==l.status&&o.push({pathname:i,state:{serialNumber:n.serial_number,contractId:l.selectedContract.id,fromProfiles:l.storedValueConversion.getConversionFromProfiles(),toProfile:l.storedValueConversion.to,totalAfterConversion:l.storedValueConversion.getTotalAfterConversion()}},!0)}}),E=_.state,w=_.confirm,S=_.onContractSelected;switch(E.status){case"ready":d=nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"stored-value-conversion-header"},nP.createElement("div",null,E.storedValueConversion.from.map(function(e){return nP.createElement("div",{className:"p--small",key:e.profile},nP.createElement("div",{className:"t--medium t--strong"},ar(e.before)),nP.createElement("span",{className:"t--strong"},b(e.profile)),!e.accessible&&nP.createElement("p",{className:"t--small"},g("svc.inaccessible")))})),nP.createElement("div",null,nP.createElement("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},nP.createElement("path",{d:"M10,10 L10,0 5,5 10,10"}),nP.createElement("polygon",{points:"10,10 10,0 5,5"}))),nP.createElement("div",null,nP.createElement("div",{className:"p--small"},nP.createElement("div",{className:"t--medium t--strong"},ar(E.storedValueConversion.getTotalAfterConversion())),nP.createElement("span",{className:"t--strong"},b(E.storedValueConversion.to))))),nP.createElement("div",{className:"p--small"},nP.createElement("div",{className:"t--strong b--bottom"},g("svc.explainedTitle"),":"),nP.createElement("div",{className:"flex"},nP.createElement("div",{className:"p--small"}),nP.createElement(lf,{ravkavStoredValueConversion:E.storedValueConversion}),nP.createElement("div",{className:"p--small"})),nP.createElement("hr",null),nP.createElement("div",null,nP.createElement("strong",null,g("operator"),":"),nP.createElement(lh,{availableContracts:E.availableContracts,selectedContract:E.selectedContract,onContractSelected:S})))),p=g("svc.convertStoredValue"),m=w;break;case"error":switch(E.error){case"no_svc":d=nP.createElement("header",{className:"p--regular b--bottom bg--light t--strong"},g("svc.errorNoSvc"));break;case"no_contract":d=nP.createElement(nP.Fragment,null,nP.createElement("header",{className:"p--regular b--bottom bg--light t--strong"},g("svc.errorNoContractTitle")),nP.createElement("div",{className:"p--regular"},g("svc.errorNoContractBody")));break;default:te(E.error)}p=g("back"),m=function(){return y.push("/card")};break;default:te(E)}return nP.createElement("article",null,d,nP.createElement("footer",null,nP.createElement("button",{onClick:m},p)))},["card","userAccount","contractGroup"])).component("profileLoadingCheck",cm(function(e){var t,n=e.userAccount,r=e.profileLoadingData,a=e.cardSerial,i=e.cardBirthDate,o=rU().t,s=sa(),c=t0(!1),l=c[0],u=c[1],d=function(e){var t=e.profileLoadingData,n=e.cardSerial,r=e.cardBirthDate,a=e.requestStatePathname,i=e.handleIssueError,o=sa(),s=nR(i6),c=function(e){return o.push("".concat(a,"/").concat(e))};if(null===n||null===t)return{status:"nocard"};if(null!==t.active){var l=t.active;return{status:"in_progress",onContinue:function(){c(l.uid)}}}return{status:"selecting_profile_loading_type",profileLoadingData:t,issue:function(e){return s.issue(e,n,r).then(function(e){c(e.uid)}).catch(function(e){"active_profile_loading_for_card"===e.error?c(e.obj.uid):i(e)})}}}({profileLoadingData:r,cardSerial:a,cardBirthDate:i,requestStatePathname:"/app/profile-loading/request",handleIssueError:function(){return u(!0)}});switch(d.status){case"nocard":t=nP.createElement(lb,{headerText:o("profileLoading.noCardHeader"),primaryActionText:o("profileLoading.noCardAction"),onPrimaryAction:function(){s.push({pathname:"/app/scan",state:{nextState:"profile-loading.check"}})}},nP.createElement("strong",null,o("profileLoading.noCardTitle")),nP.createElement("p",null,o("profileLoading.noCardBody")));break;case"selecting_profile_loading_type":t=nP.createElement("section",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h4",null,o("profileLoading.profileLoadingAt")),nP.createElement("p",null,o("profileLoading.chooseProfileLoadingType"))),l_(d.profileLoadingData.eligibilities,n).length>0&&nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"p--small t--small b--bottom "},nP.createElement("h4",null,o("profileLoading.immediateProfiles")),nP.createElement("p",null,o("profileLoading.immediateProfilesNoDocuments"))),nP.createElement("ul",null,l_(d.profileLoadingData.eligibilities,n).map(function(e){return nP.createElement("li",{key:e.id,className:"b--bottom bg--light"},nP.createElement("details",{className:"p--small b--bottom"},nP.createElement("summary",{className:"t--strong p--small"},e.name),nP.createElement("p",{className:"p--small t--pre-line"},e.description),nP.createElement("div",{className:"p--small"},nP.createElement(lv,{profileLoadingType:e})),nP.createElement("button",{onClick:function(){return d.issue(e.id)},className:"c--active p--small t--center t--strong w--100"},o("profileLoading.loadProfile"))))}))),ly(d.profileLoadingData.eligibilities).length>0&&nP.createElement("div",null,nP.createElement("div",{className:"p--small t--small b--bottom"},nP.createElement("h4",null,o("profileLoading.notEligibleProfiles")),nP.createElement("p",null,o("profileLoading.notEligibleExplained"))),nP.createElement("ul",null,ly(d.profileLoadingData.eligibilities).map(function(e){return nP.createElement("li",{key:e.type.id,className:"b--bottom"},nP.createElement("details",{className:"p--small"},nP.createElement("summary",{className:"p--small t--strong"},e.type.name),nP.createElement("p",{className:"p--small"},e.type.description),nP.createElement("div",{className:"p--small t--danger"},nP.createElement(lg,{profileEligibility:e,satisfiedEligibilityConditions:d.profileLoadingData.satisfied_eligibility_conditions}))))}))));break;case"in_progress":t=nP.createElement(lb,{headerText:o("profileLoading.inProgress"),primaryActionText:o("profileLoading.continue"),onPrimaryAction:d.onContinue},nP.createElement("p",null,o("profileLoading.continueProfileLoading")));break;default:te(d)}return nP.createElement(nP.Fragment,null,t,nP.createElement(lr,{onClose:function(){u(!1),s.push("/app/scan")},show:l,headerTitle:o("oops")},nP.createElement("p",null,o("profileLoading.errorUnexpected"),"\xa0",o("profileLoading.actionUnexpected")),nP.createElement("button",{onClick:function(){u(!1),s.push("/app/scan")},className:"p--small c--active w--100 t--center m--top"},o("ok"))))},["userAccount","profileLoadingData","cardSerial","cardBirthDate"])).component("cardValidityExtensionCheck",cm(function(e){var t=e.card,n=e.cardValidityExtension,r=sa(),a=function(e){var t=e.card,n=e.cardValidityExtension,r=e.extendStatePathname,a=e.onGoBack,i=e.onScan,o=rU().t,s=sa();if(null===t)return{status:"nocard",title:o("cve.nocard"),actionText:o("cve.nocardAction"),action:i};var c=nI.fromIso(t.end_date);if(null===n){var l=nI.fromLocal(new Date),u=nI.daysDiff(l,c)>0;return{status:"cannot_extend",title:o("cve.cannotExtend"),actionText:o("back"),action:a,explainBody:o(u?"cve.cannotExtendCardExpiredExplained":"cve.cannotExtendCardNotExpiredExplained",{endDate:nO(c.toLocal())})}}var d=n.canExtendUntil;return{status:"can_extend",title:o("cve.canExtend"),actionText:o("cve.canExtendAction"),action:function(){s.push({pathname:r,state:{cardSerial:t.serial_number,endDate:c.toIso(),newEndDate:d.toIso()}})},explainBody:o("cve.extendExplained",{endDate:nO(c.toLocal()),newEndDate:nO(d.toLocal())})}}({card:t,cardValidityExtension:n,extendStatePathname:"/app/card-validity-extension/extend",onGoBack:function(){return window.history.back()},onScan:function(){return r.push({pathname:"/app/scan",state:{nextState:"card-validity-extension.check"}})}});return nP.createElement("div",null,nP.createElement("h1",{className:"t--regular p--regular bg--light"},a.title),nP.createElement(nP.Fragment,null,void 0!==a.explainBody&&nP.createElement("div",{className:"p--regular t--pre-line"},a.explainBody)),nP.createElement("footer",null,nP.createElement("button",{onClick:a.action},a.actionText)))},["card","cardValidityExtension"])).component("storedValueConversionConvert",cm(function(e){var t,n,r,a,i,o=e.card,s=e.storedValueConversionParams,c=rU().t,l=(t=nR(aU),r=(n=t1(lE,{status:"pristine"}))[0],a=n[1],t2(function(){a({type:"issuing_started"}),t.create(s.serialNumber,s.contractId,s.fromProfiles,s.toProfile,s.totalAfterConversion).then(function(e){a({type:"issuing_succeeded",transactionUid:e.uid,executeEndpoint:e.key})},function(e){return a({type:"issuing_failed",error:e.error})})},[s,t]),r);switch(l.status){case"pristine":i=nP.createElement(nP.Fragment,null);break;case"issuing":i=nP.createElement("section",null,c("connectingSecure"),nP.createElement("br",null),c("pleaseWait"));break;case"issue_failed":var u=void 0,d=void 0;switch(l.error){case"unavailable":u=c("cardLoader.unavailableBody"),d=c("cardLoader.unexpectedBody");break;case"transaction_conflict":u=c("cardLoader.conflictTitle"),d=c("cardLoader.unexpectedBody");break;default:u=c("actionFailed"),d=c("tryAgain")}i=nP.createElement(nP.Fragment,null,nP.createElement("div",null,nP.createElement("span",{className:"t--strong"},u),nP.createElement("br",null),d),nP.createElement("footer",null,nP.createElement(si,{to:"/scan"},c("svc.nocardAction"))));break;case"issue_succeeded":i=nP.createElement(lC,{executeEndpoint:l.executeEndpoint,transactionUid:l.transactionUid,cardSerialNumber:o.serial_number,successStatePathname:"/app/stored-value-conversion/success"});break;default:te(l)}return nP.createElement("article",{className:"t--center p--regular"},i)},["card","storedValueConversionParams"])).component("membershipPage",cm(function(e){var t,n=rU(),r=n.t,a=n.i18n,i=rH(),o=rK(),s=function(e){var t,n,r=e.organizationMembership,a=e.card,i=e.autoClaim,o=e.reloadPathname,s=rU(),c=s.t,l=s.i18n,u=nR(ac),d=sa(),p=nR(nU),m=nD(),f=rH(),h=rK(),v=t1(lP,{status:"pristine"}),g=v[0],y=v[1],b=t6(function(e,t,n,r,a,i){void 0===i&&(i=!1),i?y({type:"claim/requested_automatically"}):y({type:"claim/requested_by_user"}),u.claim(e,t,n,r,a).then(function(e){d.push({pathname:o,state:{transactionUid:e.transaction_uid}})},function(e){return y({type:"claim/failed",error:e})})},[d,u,o]);switch(t2(function(){var e=r.allowance_availability;switch(e.status){case"cannot_claim":y({type:"allowance/got_availability_which_cannot_be_claimed",availability:e});break;case"can_claim":var t=function(e,t){switch(e.allowed_ett){case 65:if(null===t.max_stored_value_price)throw Error('No max stored value price for organization "'.concat(e.organization.uid,'"'));if(null===t.best_stored_value_multiplier)throw Error('No best stored value multiplier for organization "'.concat(e.organization.uid,'"'));return[ai(t.max_stored_value_price,t.best_stored_value_multiplier),null];case 20:case 22:if(null===t.recommended_validity_start_date)throw Error('No recommended validity start date for organization "'.concat(e.organization.uid,'"'));return[null,nI.fromIso(t.recommended_validity_start_date)];default:te(e.allowed_ett)}}(r,e),n=t[0],o=t[1],s=a.getActiveCustomerProfiles().map(function(e){return e.customer_profile});if(i){0===e.contract_ids.length&&ta("Did't get any contracts to claim allowance for member from \"".concat(r.organization.name,'" organization'),{organization:r.organization.uid,member:r.member});var c=e.contract_ids[Math.floor(Math.random()*e.contract_ids.length)];b(r.member,c,n,o,s,!0)}else y({type:"contract_group/fetch_started"}),p.getDetail(e.contract_group_id).then(function(t){var i=lA({contractGroup:t,contracts:t.contracts.filter(function(t){return -1!==e.contract_ids.indexOf(t.id)}),allowedOperators:null,contractPreselectStartDate:o,card:a,contractPreselectOperator:null}),c=i.selectedContract,l=i.selectedStartDate;if(null===c)throw Error('No contract found for allowance claim for organization "'.concat(r.organization.uid,'".'));y({type:"contract_group/fetch_succeeded",availability:e,contractGroup:t,startDate:l,contract:c,forCustomerProfileIds:s,counterValue:n})},function(e){m.error({message:'Failed to fetch contract group for a membership in organization "'.concat(r.organization.uid,'".'),data:{error:e,organizationMembership:r}}),y({type:"contract_group/fetch_failed"})});break;default:te(e)}},[m,i,a,b,p,r]),g.status){case"pristine":case"fetching_contract_group":case"claiming":t=nP.createElement("div",{className:"p--regular"},nP.createElement(iJ,null)),n=null;break;case"waiting_for_user_action":case"cant_claim":var _=lR({organizationMembership:r,state:g,today:nI.fromLocal(new Date),i18n:l,ettFilter:f,customerProfileFilter:h});switch(g.status){case"waiting_for_user_action":n={action:function(){return b(r.member,g.contract.id,g.counterValue,g.startDate,g.forCustomerProfileIds)},label:c("membershipPage.reload")};break;case"cant_claim":n={action:function(){return window.history.back()},label:c("back")};break;default:te(g)}t=nP.createElement("div",{className:"p--regular b--bottom"},nP.createElement("ul",{className:"membership-timeline"},_.map(function(e){return nP.createElement("li",{key:e.content,className:tr("membership-timeline__item","membership-timeline__item--".concat(e.status))},nP.createElement("div",null,nP.createElement("div",{className:"membership-timeline__date"},nO(e.date.toLocal())),e.content))})));break;case"contract_group_fetch_failed":t=nP.createElement("div",{className:"p--regular"},nP.createElement("div",{className:"t--strong"},c("membershipPage.failedToFetchContract")),c("membershipPage.devNotifiedTryLater")),n={action:function(){return window.history.back()},label:c("back")};break;case"claim_failed":t=nP.createElement("div",{className:"p--regular"},nP.createElement("div",{className:"t--strong"},c("actionFailed")),nP.createElement("p",null,c(lN(g.error)))),n={action:function(){return window.history.back()},label:c("back")};break;default:te(g)}return{state:g,claim:b,bodyMarkup:t,actionData:n}}(eI(eI({},e),{reloadPathname:"/app/reload/"})),c=s.state,l=s.actionData,u=e.card,d=e.organizationMembership;switch(c.status){case"pristine":case"fetching_contract_group":case"claiming":t=nP.createElement("div",{className:"p--regular"},nP.createElement(iJ,null));break;case"waiting_for_user_action":case"cant_claim":var p=nI.fromLocal(new Date),m=lR({organizationMembership:d,state:c,today:p,i18n:a,ettFilter:i,customerProfileFilter:o});t=nP.createElement("div",{className:"p--regular b--bottom"},m.filter(function(e){return e.date===p}).map(function(e){return nP.createElement("p",{key:e.content},e.content)}));break;case"contract_group_fetch_failed":t=nP.createElement("div",{className:"p--regular"},nP.createElement("div",{className:"t--strong"},r("membershipPage.failedToFetchContract")),r("membershipPage.devNotifiedTryLater"));break;case"claim_failed":t=nP.createElement("div",{className:"p--regular"},nP.createElement("div",{className:"t--strong"},r("actionFailed")),nP.createElement("p",null,r(lN(c.error))));break;default:te(c)}return nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"bg--light"},nP.createElement("h1",{className:"t--regular p--regular b--bottom"},r("ravKav"),"\xa0",u.serial_number),t,null!==l&&nP.createElement("footer",null,nP.createElement("button",{onClick:l.action},l.label))))},["organizationMembership","userRavkavCard","card","autoClaim"])).component("enrollmentRequestPage",cm(function(e){var t,n,r,a,i,o,s,c,l=e.enrollment,u=rU().t,d=sa(),p=(t=rU().t,n=nR(ad),a=(r=t0({status:"ready",enrollment:l}))[0],i=r[1],{state:a,enroll:t6(function(e){n.enroll(e.enrollment.uid).then(function(e){i(function(t){return eI(eI({},t),{enrollment:e})})},function(e){i({status:"error",error:t(lN(e))})})},[n,t]),onExecuteSuccess:function(){return i({status:"success"})}}),m=p.state,f=p.enroll,h=p.onExecuteSuccess,v="idf_soldier_init"===l.enrollment.type;switch(m.status){case"ready":switch(m.enrollment.enrollment.status){case"requested":return nP.createElement(lU,{enrollment:m.enrollment,onEnroll:f,autoSubmit:v});case"enrolling":if(null!==m.enrollment.action)return nP.createElement("article",{className:"t--center p--regular"},nP.createElement(lq,{executeEndpoint:m.enrollment.action.key,onSuccess:h}));o=u("enrollmentRequest.tryAgainInFewMinutes"),s=function(){return window.history.back()},c=u("back");break;case"enrolled":o=u("enrollmentRequest.enrolledExplanation"),s=function(){return d.push("/connect")},c=u("enrollmentRequest.continue");break;case"failed":o=u("enrollmentRequest.failedExplanation"),s=function(){return window.history.back()},c=u("back");break;case"cancelled":o=u("enrollmentRequest.canceledExplanation"),s=function(){return window.history.back()},c=u("back");break;default:te(m.enrollment.enrollment.status)}break;case"error":o=m.error,s=function(){return window.history.back()},c=u("back");break;case"success":return nP.createElement(lB,{waitForAdditionalActions:v});default:te(m)}return nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--regular"},u("enrollmentRequest.title"))),nP.createElement("p",{className:"p--regular"},o),nP.createElement("footer",null,nP.createElement("button",{onClick:s},c)))},["enrollment"])).component("successState",cm(lW,["pageTitle","fetchApprovalPrintJob","analyticsAction"])).component("reloadSuccessState",cm(function(e){var t=e.uid,n=e.checkForAdditionalActions,r=rU().t,a=sa(),i=sg(),o=nR(aT),s=aB(),c=i.getClientPreferences(),l=t0(!1),u=l[0],d=l[1];t2(function(){var e=c.alertOnBalanceBelow;null!==e&&o.getBalance().then(function(t){d(t.getSpendableBalance()<100*e)},function(e){})},[o,c.alertOnBalanceBelow]);var p=lF({checkForAdditionalActions:n,cardNotificationsProps:{onStoredValueConversion:function(e){return a.push({pathname:"/app/stored-value-conversion/confirm",state:{contractGroupId:e.id}})},onClaimAllowance:function(e){return a.push("/app/organizations/membership/".concat(e))},onCancellationRequest:function(e){a.push({pathname:"/app/cancellation-request/check",state:{cancellationRequestEligibility:e}})}},allowedCardNotificationTypes:lG}).popupMarkup,m=t6(function(){return s.getPurchaseApprovalPrintJob(t)},[s,t]);return nP.createElement(nP.Fragment,null,u&&nP.createElement("div",{className:"flex p--top"},nP.createElement("span",{className:"p--small"}),nP.createElement("p",{className:"c--notification p--small t--strong t--center col--grow"},r("payAttention"),"!",nP.createElement("br",null),r("reload.balanceBelow",{balance:c.alertOnBalanceBelow})),nP.createElement("span",{className:"p--small"})),p,nP.createElement(lW,{pageTitle:r("reload.success"),fetchApprovalPrintJob:m,analyticsAction:"purchase-approval"}))},["uid","checkForAdditionalActions"])).component("reservationDetails",cm(function(e){var t,n,r,a,i,o,s,c,l,u,d,p=rU().t,m=sa(),f=(t=e.card,n=e.transaction,r=e.contractGroup,a=e.userAccount,i=e.onAbortSucceeded,o=rU().t,s=nD(),c=rj(),u=(l=t0(function(){var e,a=r.getContractById(n.contractId);void 0===a&&s.warn({message:"Couldn't find contract for reservation",data:{contract:n.contractId,transaction:n.uid}});var i=null!==t&&null===n.reloading&&void 0!==a&&t.serial_number===parseInt(n.cardSerial,10),o=new Date,c=nI.fromLocal(o),l=null!==(e=n.flexibleStartDate)&&void 0!==e?e:c,u=i&&!n.startDateFixed&&r.isFlexible()&&void 0!==a?a.validity_leeway_days:null;if(null!==t){var d=lY(r,l,t.contracts);if(d>0&&null!==u){var p=void 0;p=d<u?d:u,l=c.addDays(p)}}return{now:o,selectedStartDate:l,validityLeewayDays:u,canReload:i}}))[0],d=l[1],{markup:nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"p--regular b--bottom flex flex--align-center"},nP.createElement("div",{className:"col--grow"},nP.createElement("div",{className:"t--strong"},o("reservation.reservedBy")),n.createdBy.full_name),void 0!==i&&nP.createElement(lQ,{transaction:n,onAbortSucceeded:i,userAccount:a})),[[o("reservation.contract"),n.contractTypeDisplay],[o("reservation.forRavkavCard"),n.cardSerial],[o("reservation.fromOperator"),c(n.contractOperator)],[o("reservation.reservedAt"),nq(n.created)],[o("reservation.useUntil"),nq(n.activeUntil)]].map(function(e){var t=e[0],n=e[1];return nP.createElement("div",{className:"p--regular b--bottom",key:t},nP.createElement("div",{className:"t--strong"},t),n)})),state:u,onSelectStartDate:function(e){d(eI(eI({},u),{selectedStartDate:e}))}}),h=f.state,v=f.markup,g=f.onSelectStartDate,y=e.transaction;return nP.createElement("article",null,nP.createElement("section",{className:"p--regular"},nP.createElement("h1",null,p("reservation.loadReservation")),nP.createElement("p",null,y.contractDisplayName,", ",y.contractTypeDisplay),null!==y.originDestinationDescription&&nP.createElement("span",{className:"t--small"},y.originDestinationDescription)),nP.createElement("div",{className:"bg--light"},null!==h.validityLeewayDays&&nP.createElement("div",{className:"p--regular b--bottom"},nP.createElement("div",{className:"t--strong"},p("reservation.contractStartDate")),nP.createElement(lZ,{selectedDate:h.selectedStartDate,leeway:h.validityLeewayDays,onSelect:function(e){return g(e)},allowEmptySelection:!1,asof:h.now})),v),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return m.push({pathname:"/app/reload/".concat(y.uid),state:{startDate:h.selectedStartDate}})},role:"link",disabled:!h.canReload},p("reservation.load")),nP.createElement(si,{to:"/app/scan"},p("back"))))},["card","transaction","contractGroup","userAccount","onAbortSucceeded"])).component("extendState",cm(function(e){var t,n,r,a,i,o=e.cardValidityExtensionParams,s=rU().t,c=(t=nR(oh),r=(n=t1(lX,{status:"pristine"}))[0],a=n[1],t2(function(){a({type:"issuing_started"}),t.create(o.cardSerial,o.endDate,o.newEndDate).then(function(e){a({type:"issuing_succeeded",transactionUid:e.uid,executeEndpoint:e.key})},function(e){return a({type:"issuing_failed",error:e.error})})},[t,o]),r);switch(c.status){case"pristine":i=nP.createElement(nP.Fragment,null);break;case"issuing":i=nP.createElement("section",null,s("connectingSecure"),nP.createElement("br",null),s("pleaseWait"));break;case"issue_failed":var l=void 0,u=void 0;"unavailable"===c.error?(l=s("cardLoader.unavailableBody"),u=s("cardLoader.unexpectedBody")):(l=s("actionFailed"),u=s("tryAgain")),i=nP.createElement(nP.Fragment,null,nP.createElement("div",null,nP.createElement("span",{className:"t--strong"},l),nP.createElement("br",null),u),nP.createElement("footer",null,nP.createElement(si,{to:"/scan"},s("cve.nocardAction"))));break;case"issue_succeeded":i=nP.createElement(l2,{executeEndpoint:c.executeEndpoint,transactionUid:c.transactionUid,cardSerialNumber:o.cardSerial,successStatePathname:"/app/card-validity-extension/success"});break;default:te(c)}return nP.createElement("article",{className:"t--center p--regular"},i)},["cardValidityExtensionParams"])).component("cardContract",cm(l4,["contract","onSelect"])).component("resetPassword",cm(function(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g,y,b,_,E,w,S,C=e.username,k=rU().t,$=(n=(t={username:null!=C?C:null,submitButtonClassName:"w--100 t--center t--medium c--success p--small m--top--large"}).username,r=t.initialToken,a=t.submitButtonClassName,i=rU().t,o=nR(ia),c=(s=t0(function(){return null===n||""===n?{status:"invalid"}:{status:"pending",error:null,username:n}}))[0],l=s[1],u=ca(),d=ci(6),p=co(6),m=ci(6),h=(f=s6({token:void 0===r?"":r,password:"",passwordConfirm:""},{token:[u,d,p,cc()],password:[u,m],passwordConfirm:[u,m]},function(e){var t=e.token,n=e.password;if(n!==e.passwordConfirm){E("passwordConfirm",i("messages.equalto"));return}if("pending"===c.status){var r=c.username;l({status:"resetting"}),o.resetPassword(r,t,n).then(function(){return l({status:"reset"})},function(e){"stale_token"===e.error||"out_of_attempts_token"===e.error?l({status:"failed_to_reset",error:e.error,username:r}):l({status:"pending",error:e,username:r})})}})).values,v=f.errors,g=f.touched,y=f.handleChange,b=f.handleBlur,_=f.handleSubmit,E=f.setFieldError,w=nP.createElement(s8,{autoCapitalize:"off",onSubmit:_},nP.createElement(s7,null,nP.createElement("label",{htmlFor:"id_token"},i("registration.verificationCode")),nP.createElement("input",{id:"id_token",dir:"ltr",value:h.token,onChange:y,onBlur:b,name:"token",type:"tel",autoComplete:"off",autoFocus:!0,placeholder:"000000",minLength:6,maxLength:6}),g.token&&v.token&&nP.createElement(s9,{message:v.token})),nP.createElement(s7,null,nP.createElement("label",{htmlFor:"id_password"},i("registration.newPassword")),nP.createElement("input",{id:"id_password",dir:"ltr",value:h.password,onChange:y,onBlur:b,name:"password",type:"password",autoComplete:"new-password"}),g.password&&v.password&&nP.createElement(s9,{message:v.password})),nP.createElement(s7,null,nP.createElement("label",{htmlFor:"id_password_confirm"},i("registration.newPasswordAgain")),nP.createElement("input",{id:"id_password_confirm",dir:"ltr",value:h.passwordConfirm,onChange:y,onBlur:b,name:"passwordConfirm",type:"password"}),g.passwordConfirm&&v.passwordConfirm&&nP.createElement(s9,{message:v.passwordConfirm})),"pending"===c.status&&null!==c.error&&nP.createElement("div",{className:"m--top"},nP.createElement(s9,{message:i(function(e){switch(e.error){case"invalid_password":return"registration.invalidPassword";case"incorrect_token":return"registration.incorrectToken";default:return"registration.unexpectedError"}}(c.error))})),nP.createElement("button",{type:"submit",className:a},i("registration.actionReset"))),{state:c,formMarkup:w}),A=$.state,x=$.formMarkup;switch(A.status){case"pending":S=nP.createElement(nP.Fragment,null,nP.createElement("p",{className:"m--bottom"},k("registrationUsername.verificationCodeSent"),"."," ",k("registrationUsername.enterCode"),"."),x);break;case"invalid":S=nP.createElement(nP.Fragment,null,nP.createElement("p",{className:"t--pre-line"},k("registration.resetActivationNotReceived")),nP.createElement(si,{to:"/forgot-password",className:"block m--top--small t--light t--underline"},k("tryAgain")),nP.createElement(si,{to:"/login",className:"block w--100 t--center t--medium c--success p--small m--top t--initial link-clear"},k("registration.doLogin")));break;case"failed_to_reset":var T=void 0,N=void 0;switch(A.error){case"stale_token":T=k("registration.staleToken"),N=k("registrationUsername.staleTokenExplainedResetPassword");break;case"out_of_attempts_token":T=k("registration.outOfAttemptsToken"),N=k("registration.outOfAttemptsTokenExplained",{minutes:5});break;default:te(A)}S=nP.createElement(nP.Fragment,null,nP.createElement("p",null,nP.createElement("strong",null,T),nP.createElement("br",null),N),nP.createElement(si,{to:"/forgot-password",className:"block w--100 t--center t--medium c--success p--small m--top t--initial link-clear"},k("tryAgain")));break;case"resetting":S=nP.createElement(nP.Fragment,null,nP.createElement("span",{className:"loading"}),"\xa0",k("registration.resetting"));break;case"reset":S=nP.createElement(nP.Fragment,null,nP.createElement("p",{className:"t--strong"},k("registration.resetPasswordSuccess")),nP.createElement(si,{to:"/login",replace:!0,className:"block w--100 t--center t--medium c--success p--small m--top t--initial link-clear"},k("registration.doLogin")));break;default:te(A)}return nP.createElement("article",{className:"c--inverse p--large h--100"},nP.createElement("div",{className:"container"},S,nP.createElement("button",{onClick:function(){return window.history.back()},className:"c--clear t--muted w--100 t--center m--top--large"},k("back"))))},["username"])).component("pctrLogin",cm(l8,["variant","onSuccess","onError","onForgotPassword","onRegister","includeRememberMeOption"])).component("loginPage",cm(function(){var e,t=rU().t,n=sa(),r=t0({status:"ready"}),a=r[0],i=r[1];switch(a.status){case"ready":e=nP.createElement("div",{className:"p--small m--top--small"},nP.createElement(l8,{variant:"username",onSuccess:function(){return n.push("/init-service-station")},onError:function(e){switch(e){case"restricted_software":case"invalid_device":i({status:"error",error:e});break;default:i({status:"ready"})}},onForgotPassword:function(e){return n.push({pathname:"/forgot-password",state:{prefilledUsername:e}})}}),nP.createElement("button",{onClick:o1,className:"c--clear t--muted w--100 t--center m--top--large"},t("exit")),nP.createElement("div",{className:"m--top--small t--center"},nP.createElement(l7,null)));break;case"error":switch(a.error){case"restricted_software":e=nP.createElement("div",{className:"t--center"},nP.createElement("h2",{className:"m--top"},t("initServiceStation.notAPosOperatorTitle")),nP.createElement("p",{className:"m--top"},t("initServiceStation.notAPosOperatorBody")),nP.createElement("button",{onClick:function(){return window.open("https://ravkavonline.co.il/download","_system")},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},t("initServiceStation.notAPosOperatorAction")),nP.createElement("button",{onClick:function(){return i({status:"ready"})},className:"c--clear t--muted w--100 t--center m--top"},t("back")));break;case"invalid_device":e=nP.createElement("div",{className:"t--center"},nP.createElement("h2",{className:"m--top"},t("login.invalidDeviceTitle")),nP.createElement("p",{className:"m--top"},t("login.invalidDeviceBody")),nP.createElement("button",{onClick:function(){return i({status:"ready"})},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},t("back")));break;default:te(a.error)}break;default:te(a)}return nP.createElement("article",{className:"c--inverse p--regular h--100"},nP.createElement("div",{className:"m--top container"},nP.createElement(ur,null),e))})).component("cancelReloadingConfirm",cm(function(e){var t,n=e.transaction,r=rU().t,a=sa(),i=rj(),o=(t=rU().t,{getPaymentMeansDescription:function(e){switch(e.method){case"balance":return t("paymentMethod.balance");case"creditcard":return nP.createElement(nP.Fragment,null,t("paymentMethod.creditcard"),"\xa0","\n",e.payment_means);case"null":return t("paymentMethod.null");default:te(e.method)}}}).getPaymentMeansDescription;return nP.createElement("article",null,nP.createElement("section",{className:"p--regular"},nP.createElement("h1",null,r("cancelLoad.title")),nP.createElement("p",{className:"t--small m--top--small"},r("cancelLoad.subtitle"))),nP.createElement("div",{className:"c--light"},nP.createElement("div",{className:"p--regular b--bottom"},nP.createElement("div",{className:"t--small"},r("contract")),nP.createElement("strong",null,n.contractDisplayName,", ",n.contractTypeDisplay)),nP.createElement("div",{className:"p--regular b--bottom"},nP.createElement("div",{className:"t--small"},r("ravKavCard")),nP.createElement("strong",null,n.cardSerial)),null!==n.payment&&nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"p--regular b--bottom"},nP.createElement("div",{className:"t--small"},r("refundedAmount")),nP.createElement("strong",null,ar(function(e,t){if(null===t.charged_amount)throw Error("Reached reloading cancellation of transaction ".concat(e," but it's payment has no charged amount."));return t.charged_amount}(n.uid,n.payment)))),nP.createElement("div",{className:"p--regular b--bottom t--pre-line"},nP.createElement("div",{className:"t--small"},r("paymentMeans")),nP.createElement("strong",null,o(n.payment)))),nP.createElement("div",{className:"p--regular b--bottom"},nP.createElement("div",{className:"t--small"},r("cardContracts.purchasedFromOperator")),nP.createElement("strong",null,i(n.contractOperator)))),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){a.push({pathname:"/app/cancel-reloading",state:{transaction:n}})},disabled:!n.isCancellable},r("cancelLoad.action")),nP.createElement("button",{onClick:function(){return a.push("scan")}},r("back"))))},["transaction"])).component("cardPage",cm(function(e){var t=e.card,n=e.notifications,r=rU().t,a=sa(),i=r4().getFeatures(),o=nR(ad),s=rK(),c=t.contracts.filter(function(e){return!e.is_obsolete&&e.isVisible()}),l=t.contracts.filter(function(e){return e.is_obsolete&&e.isVisible()}),u=function(e,t){if(null!==t){var n=e.is_obsolete?null:e.getNextStartDate();a.push({pathname:"/app/confirm/".concat(t.id,"/"),state:{operator:e.operator,start_date:n?n.toIso():void 0,originStation:null===e.ride?void 0:e.ride.origin,destinationStation:null===e.ride?void 0:e.ride.destination}})}},d=function(){return a.push("/app/profile-loading/check")};return nP.createElement("article",null,nP.createElement("section",{className:"p--regular c--light b--bottom"},nP.createElement("div",{className:"t--strong"},r("ravKav"),"\xa0",t.serial_number),t.is_anonymous&&r("anonymousCard"),t.getActiveCustomerProfiles().map(function(e){return(!t.is_anonymous||0!==e.customer_profile)&&nP.createElement("div",{key:e.customer_profile},r("cardContent.profile",{profile:s(e.customer_profile)}),"\xa0",nO(new Date(e.end_date)))})),nP.createElement("div",{className:"flex p--small flex--columns w--100"},nP.createElement(lO,{onProfileLoading:d,onCancelTransaction:function(e){return a.push("/app/cancel-reloading-confirm/".concat(e))},onReservedTransaction:function(e){return a.push("/app/reservation/".concat(e))},onStoredValueConversion:function(e){return a.push({pathname:"/app/stored-value-conversion/confirm",state:{contractGroupId:e.id}})},onCardValidityExtension:function(){return a.push("/app/card-validity-extension/check")},onRequestEnrollment:function(e,t){return o.requestToEnroll(e.organization.uid,t,e.enrollment_type).then(function(e){return a.push("/app/organizations/enrollment/".concat(e.enrollment.uid))})},onClaimAllowance:function(e){return a.push("/app/organizations/membership/".concat(e))},onCancellationRequest:function(e){a.push({pathname:"/app/cancellation-request/check",state:{cancellationRequestEligibility:e}})},onContinueCancellationRequest:function(e){a.push({pathname:"/app/cancellation-request/request",state:{uid:e}})},allowExternalLinks:!1,features:i,notifications:n})),nP.createElement("section",{className:"flex flex--columns p--small"},nP.createElement("h2",{className:"t--regular b--bottom"},r("activeContracts")),c.map(function(e){return nP.createElement("div",{className:"m--top",key:e.contractNumber},nP.createElement(l4,{contract:e,onSelect:u}))}),0===c.length&&nP.createElement("p",{className:"t--muted m--top--small t--small"},r("cardContracts.noActiveContracts")),nP.createElement("h2",{className:"t--regular b--bottom m--top--large"},r("inactiveContracts")),l.map(function(e){return nP.createElement("div",{className:"m--top",key:e.contractNumber},nP.createElement(l4,{contract:e,onSelect:u}))}),0===l.length&&nP.createElement("p",{className:"t--muted m--top--small t--small"},r("cardContracts.noInactiveContracts"))),nP.createElement("section",{className:"flex flex--columns p--small"},nP.createElement("h2",{className:"t--regular b--bottom"},r("additionalActions")),nP.createElement(si,{to:"/app/rav-kav-card-transaction-history/".concat(t.serial_number),className:"p--small c--active m--top"},nP.createElement("strong",null,r("loadingHistory")),nP.createElement("br",null),r("loadingHistoryCard")),i.hasFeature("can_request_profile_loading")&&nP.createElement("button",{onClick:d,className:"p--small c--active m--top--small"},nP.createElement("strong",null,r("loadProfiles")),nP.createElement("br",null),r("profileLoading.requestProfileLoading")),i.hasFeature("can_create_local_shamash_account")&&nP.createElement(si,{to:"/app/local-account-check",className:"p--small c--active m--top"},nP.createElement("strong",null,r("localAccount.remoteAccount")),nP.createElement("br",null),r("localAccount.openOrUpdateRemoteAccount"))),nP.createElement("footer",null,nP.createElement(si,{to:"/app/search"},r("loadAnotherContract"))))},["card","notifications"])).component("confirm",cm(function(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h=e.userAccount,v=e.contractGroup,g=e.stateParams,y=e.card,b=e.features,_=e.ownServiceStations,E=e.versions,w=e.buyaPosReady,S=rU().t,C=aB(),k=sa(),$=t0({status:"ready",contractDetails:{storedValueCounter:null,storedValuePrice:null,contract:void 0,startDate:null}}),A=$[0],x=$[1],T=t4(up(E,b,w)),N=(r=sa(),a=aC(),i=r4(),o=g.operator,s=void 0!==g.start_date?nI.fromIso(g.start_date):void 0,c=null!==(t=g.svp)&&void 0!==t?t:null,u=(l=v.origin_destination_mode!==K.Train)?void 0:g.originStation,d=l?void 0:g.destinationStation,p=i.getMinimumStoredValuePrice(3e3,100),f=null!==(n=null==(m=a.getCard())?void 0:m.serial_number)&&void 0!==n?n:null,void 0!==g.card_serial&&(null===m||m.serial_number!==g.card_serial)&&(f=g.card_serial,m=null),{preselectOperator:o,preselectStartDate:s,preselectFlexibleStoredValuePrice:c,selectedOriginStation:u,selectedDestinationStation:d,minStoredValuePrice:p,card:m,cardSerial:f,goToDifferentContractGroup:function(e){var t;r.push({pathname:(t=e.id,"/app/confirm/".concat(t,"/")),state:eI(eI({},g),{contractGroupId:e.id})})}}),P=N.preselectOperator,R=N.preselectStartDate,L=N.selectedOriginStation,D=N.selectedDestinationStation,I=N.minStoredValuePrice;t2(function(){var e=setTimeout(function(){void 0===A.contractDetails.contract&&x(function(e){return eI(eI({},e),{status:"no_contract"})})},1e3);return function(){clearTimeout(e)}},[A.contractDetails.contract]);var O=h.canPurchaseFreeCertificate&&4===v.etta&&null!==v.price&&0===v.price,F=t6(function(e){var t=e.contract,n=e.startDate,r=e.price;x({status:"ready",contractDetails:{storedValueCounter:e.counterValue,storedValuePrice:r,contract:t,startDate:n}})},[]),q=function(e,t){var n,r;if("ready"===A.status&&void 0!==A.contractDetails.contract){if(x(function(e){return eI(eI({},e),{status:"creating_transaction"})}),v.isFlexibleStoredValue())n=A.contractDetails.storedValueCounter,r=A.contractDetails.storedValuePrice;else if(v.origin_destination_mode===K.Train)throw Error('Unexpected contract group with odm of TRAIN: "'.concat(v.id,'"'));else switch(n=v.counter?v.counter.value:null,e){case"null":case"creditcard":r=v.price;break;case"balance":r=v.priceRounded;break;default:te(e)}return C.create(y.serial_number,A.contractDetails.contract.id,!1,A.contractDetails.startDate,!1,r,n,null!=L?L:null,null!=D?D:null,y.is_anonymous).then(function(n){if("null"===e===n.payment_required)throw Error("Payment required is ".concat(n.payment_required," but asked to pay with ").concat(e));switch(e){case"balance":k.push({pathname:"/app/payment-balance",state:{transactionUid:n.uid,nextState:"reload",nextStateParams:{transactionUid:n.uid}}});break;case"creditcard":k.push({pathname:"/app/payment-creditcard",state:{transactionUid:n.uid,nextState:"reload",nextStateParams:{transactionUid:n.uid},maxPayments:v.max_payments,disableEmv:t}});break;case"null":k.push("/app/reload/".concat(n.uid));break;default:te(e)}}).catch(function(e){throw x(function(e){return eI(eI({},e),{status:"failed"})}),Error(e)})}},M=sg(),B=t0({isShown:!1}),V=B[0],U=B[1],j=function(e,t){void 0===t&&(t=!1);var n=function(e,t){if(0===e.length)return null;var n,r=t.serviceStationUid;return null===r?null:null!==(n=e6(e,function(e){return e.uid===r}))&&void 0!==n?n:null}(_,M.getClientPreferences());null!==n&&null!==n.reform_area&&0!==v.predefined_contract.reform_areas.length&&-1===v.predefined_contract.reform_areas.indexOf(n.reform_area)?U({isShown:!0,selectedPaymentMethod:e,serviceStationCity:""===n.city?null:n.city,disableEmv:t}):q(e,t)},H=h.hasBalance&&h.canPayWithBalance,z=b.hasFeature("can_pay_with_buya")||b.hasFeature("can_pay_with_creditguard");switch(A.status){case"no_contract":return nP.createElement("article",{className:"p--regular t--center"},S("posConfirm.noMatchingContract"),".",nP.createElement("br",null),S("posConfirm.anotherContract"),".",nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return window.history.back()}},S("back"))));case"creating_transaction":return nP.createElement("article",{className:"p--regular t--center"},S("pleaseWait"));case"failed":return nP.createElement("article",{className:"p--regular t--center"},nP.createElement("div",{className:"p--small c--danger"},S("cantBeCompleted"),".",nP.createElement("br",null),S("tryAgain"),"."),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return window.history.back()}},S("back"))));case"ready":return nP.createElement("article",{className:"p--regular"},nP.createElement(uu,{contractGroup:v,card:y,contractPreselectOperator:P,contractPreselectStartDate:R,allowedOperators:h.operators,minStoredValuePrice:I,contractSelectedOriginStation:L,contractSelectedDestinationStation:D,startDateChoices:"leeway",onSelectContract:F,showRoundedPrice:H,getActionMarkup:function(e){var t=e&&"ready"===A.status&&(!v.isFlexibleStoredValue()||null!==A.contractDetails.storedValueCounter&&null!==A.contractDetails.storedValuePrice);return nP.createElement("footer",{className:"t--center"},O?nP.createElement("button",{disabled:!t,onClick:function(){return j("null")}},S("continue")):nP.createElement(nP.Fragment,null,H&&nP.createElement("button",{disabled:!t,onClick:function(){return j("balance")}},S("paymentMethod.cash")),z&&nP.createElement("button",{disabled:!t,onClick:function(){return j("creditcard")}},S("paymentMethod.creditcardShort"))),nP.createElement("button",{onClick:function(){return window.history.back()}},S("cancel")))}}),T.current&&nP.createElement(nP.Fragment,null,nP.createElement("hr",null),nP.createElement("details",{onToggle:function(e){e.currentTarget.open&&e.currentTarget.scrollIntoView()}},nP.createElement("summary",{className:"t--center"},S("payment.deprecatedPaymentMethods")),nP.createElement("div",{className:"m--top"},nP.createElement("button",{onClick:function(){return j("creditcard",!0)},className:"b--clear p--small t--small t--underline w--100 t--center"},S("payment.paymentWithoutEmv"))))),V.isShown&&nP.createElement(lr,{show:!0,headerTitle:S("note!"),onClose:function(){return U({isShown:!1})},hidePopupOnBackdropClick:!1},nP.createElement("p",null,null===V.serviceStationCity?S("contractGroupDetails.contractNotRespectedInArea"):S("contractGroupDetails.contractNotRespectedInAreaWithCity",{city:V.serviceStationCity})),nP.createElement("button",{onClick:function(){return q(V.selectedPaymentMethod,V.disableEmv)},className:"b--all c--active w--100 p--small t--center m--top"},S("continue")),nP.createElement("button",{onClick:function(){return U({isShown:!1})},className:"b--all c--light w--100 p--small t--center m--top--small"},S("cancel"))));default:te(A.status)}},["userAccount","contractGroup","stateParams","card","features","ownServiceStations","versions","buyaPosReady"])).component("settingsPage",cm(function(e){var t,n,r,a,i=e.userAccount,o=e.ownServiceStations,s=e.features,c=e.balance,l=e.reformAreas,u=e.versions,d=e.buyaPosReady,p=e.invokeDigest,m=rU().t,f=rW(),h=nR(or),v=sg(),g=v.getClientPreferences(),y=nR(sR),b=r4(),_=nD(),E=sk(),w=nR(sN),S=nR(ik),C=sE(),k=t0({status:"hidden"}),$=k[0],A=k[1],x=function(){return A({status:"hidden"})},T=function(e,t){if(0===e.length)return null;var n,r=t.serviceStationUid;return null===r?null:null!==(n=e6(e,function(e){return e.uid===r}))&&void 0!==n?n:null}(o,g),N=function(e,t){if(null===t)return null;var n=t.reform_area;return null===n?null:e[n]}(l,T),P=t0(null),R=P[0],L=P[1];t2(function(){h.getPrinterStatus().then(function(e){L(e)}).catch(function(){})},[h]);var D=function(){y.show(),b.logout(!1).finally(function(){y.hide()})},I=function(e){var t=g.alertOnBalanceBelow,n=parseInt(e,10)||null;n!==t&&(null===n||n>=45)&&v.updateClientPreferences({alertOnBalanceBelow:n})},O=function(e){var t=g.closeAfterIdleSeconds,n=parseInt(e,10)||null;n!==t&&(null===n||n>=45)&&(v.updateClientPreferences({closeAfterIdleSeconds:n}),window.location.reload())},F=function(e){var t;switch(e){case ef.Track2OrEmv:case ef.Details:case ef.UserChoice:t=e;break;case"":t=null;break;default:throw Error("Unknown setting value: ".concat(e))}v.updateClientPreferences({preferredCreditCardDetailsType:t})},q=function(e){var t;switch(e){case ey.Yes:case ey.No:t=e;break;default:throw Error("Unknown setting value: ".concat(e))}v.updateClientPreferences({allowLanguageChange:t})},M=function(e){var t;switch(e){case eg.Yes:case eg.No:t=e;break;default:throw Error("Unknown setting value: ".concat(t))}v.updateClientPreferences({showAnnouncements:t})},B=function(e){var t;switch(e){case eb.Yes:case eb.No:t=e;break;default:throw Error("Unknown setting value: ".concat(e))}v.updateClientPreferences({allowUploadingFilesFromFileSystem:t})},V=function(e){var t;switch(e){case eh.OnDemand:case eh.Automatic:case eh.Disabled:t=e;break;default:throw Error("Unknown setting value: ".concat(e))}v.updateClientPreferences({printMode:t})},U=function(e){var t;switch(e){case ev.Yes:case ev.No:case ev.ShowWithLink:t=e;break;default:throw Error("Unknown settings value ".concat(e))}v.updateClientPreferences({showQr:t})};switch($.status){case"hidden":a=null,r=null;break;case"alert_on_balance_below":a=m("posSettings.lowBalanceNotification"),r=nP.createElement(nP.Fragment,null,nP.createElement("p",null,m("posSettings.enterLowBalanceMessage")),nP.createElement("form",{className:"m--top--small",onSubmit:function(){I($.newValue),x()}},nP.createElement("input",{type:"tel",onChange:function(e){return A(eI(eI({},$),{newValue:e.currentTarget.value}))}}),nP.createElement("div",{className:"flex m--top--small"},nP.createElement("button",{type:"submit",className:"w--100 c--active p--small t--center"},m("update")),"\xa0",nP.createElement("button",{onClick:x,className:"w--100 c--light b--all p--small t--center"},m("cancel")))));break;case"change_service_station":a=m("posSettings.changeServiceStation"),r=nP.createElement(nP.Fragment,null,nP.createElement("p",null,m("settings.confirmLogoutToChangeServiceStation")),nP.createElement("div",{className:"flex m--top--small"},nP.createElement("button",{onClick:D,className:"w--100 c--active p--small t--center"},m("continue")),"\xa0",nP.createElement("button",{onClick:x,className:"w--100 c--light b--all p--small t--center"},m("cancel"))));break;case"exit_message":a=m("posSettings.exitMessage"),r=nP.createElement(nP.Fragment,null,nP.createElement("p",null,m("posSettings.enterExitMessage")),nP.createElement("form",{className:"m--top--small",onSubmit:function(){v.updateClientPreferences({closeMessage:$.newValue||null}),x(),p()}},nP.createElement("input",{type:"text",onChange:function(e){return A(eI(eI({},$),{newValue:e.currentTarget.value}))},className:"w--100 p--small c--light"}),nP.createElement("div",{className:"flex m--top--small"},nP.createElement("button",{type:"submit",className:"w--100 c--active p--small t--center"},m("update")),"\xa0",nP.createElement("button",{className:"w--100 c--light b--all p--small t--center",onClick:x},m("cancel")))));break;case"phone_home":a=m("posSettings.detailsSent"),r=nP.createElement("button",{className:"w--100 c--active p--small t--center",onClick:x},m("continue"));break;case"close_after_idle_seconds":a=m("posSettings.automaticShutdown"),r=nP.createElement(nP.Fragment,null,nP.createElement("p",null,m("posSettings.insertSeconds")),nP.createElement("form",{className:"m--top--small",onSubmit:function(){O($.newValue),x()}},nP.createElement("input",{className:"w--100 p--small c--light",type:"tel",onChange:function(e){return A(eI(eI({},$),{newValue:e.currentTarget.value}))}}),nP.createElement("div",{className:"flex m--top--small"},nP.createElement("button",{type:"submit",className:"w--100 c--active p--small t--center"},m("update")),"\xa0",nP.createElement("button",{className:"w--100 c--light b--all p--small t--center",onClick:x},m("cancel")))));break;case"emv_requirements_status":var j=oV.parse(u.appVersion),H={hasFeature:s.hasFeature("can_pay_with_emv"),posAppVersionSupported:null!==j&&!j.lessThan(ud),buyaPosReady:null===d.error};a=m("posSettings.paymentWithEmv"),r=nP.createElement(nP.Fragment,null,nP.createElement("div",{dir:"rtl"},H.hasFeature?nP.createElement("ul",null,Object.keys(H).map(function(e){switch(e){case"hasFeature":t="    ";break;case"posAppVersionSupported":t="  -  ",n="     -  POS";break;case"buyaPosReady":t=" EMV ",n="       EMV  ";break;default:te(e)}var t,n,r=H[e];return nP.createElement("li",{key:e,className:"flex flex--align-baseline m--bottom"},nP.createElement("span",{className:r?"t--success-dark":"t--danger"},""),"\xa0",nP.createElement("div",null,nP.createElement("p",{className:"t--small"},t),!r&&nP.createElement("span",{className:"t--small t--muted"},n)))})):nP.createElement("p",{className:"m--bottom"},"   EMV    ")),nP.createElement("button",{className:"w--100 c--active b--all p--small t--center",onClick:x},m("back")));break;default:te($)}return nP.createElement("article",null,nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("posSettings.user")),nP.createElement("div",{className:"flex flex--align-start p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.userName")),nP.createElement("p",{className:"t--small"},i.username)),nP.createElement("button",{onClick:D,className:"c--danger p--small t--center"},m("logout"))),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.name")),nP.createElement("p",{className:"t--small"},i.getFullName())),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.email")),nP.createElement("p",{className:"t--small"},i.email)),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.phoneNumber")),nP.createElement("p",{className:"t--small"},null!==(t=i.cellphoneNumber)&&void 0!==t?t:"-")),nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("posSettings.options")),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("div",{className:"flex flex--columns col--grow"},nP.createElement("span",null,m("payment.payWithCreditCard")),nP.createElement("span",{className:"t--small"},m("posSettings.paymentWithEmv"))),nP.createElement("button",{onClick:function(){return A({status:"emv_requirements_status"})},className:"c--active p--small"},m("posSettings.test"))),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("div",{className:"flex flex--columns col--grow"},nP.createElement("span",null,m("payment.payWithCreditCard")),nP.createElement("span",{className:"t--small"},m("posSettings.track2OrEmv"))),nP.createElement("strong",{className:"t--no-wrap"},m(s.hasFeature("can_pay_with_track2")?"posSettings.active":"posSettings.inactive"))),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},m("payment.payWithBalance")),nP.createElement("strong",{className:"t--no-wrap"},m(i.canPayWithBalance?"posSettings.active":"posSettings.inactive"))),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},m("svc.title")),nP.createElement("strong",{className:"t--no-wrap"},m(s.hasFeature("can_convert_stored_value")?"posSettings.active":"posSettings.inactive"))),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},m("posSettings.cardValidityExtension")),nP.createElement("strong",{className:"t--no-wrap"},m(s.hasFeature("can_extend_card_validity")?"posSettings.active":"posSettings.inactive"))),nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("balance")),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("balance")),nP.createElement("p",{className:"t--small"},m("posSettings.forPaymentWithCash"))),nP.createElement("strong",null,i.hasBalance?ar(c.getSpendableBalance()):m("posSettings.inactive"))),i.hasBalance&&nP.createElement("div",{className:"flex flex--align-start p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.lowBalanceNotification")),nP.createElement("p",{className:"t--small"},null===g.alertOnBalanceBelow?m("posSettings.notDefined"):m("posSettings.balanceLowerThan",{balance:g.alertOnBalanceBelow}))),nP.createElement("button",{onClick:function(){return A({status:"alert_on_balance_below",newValue:""})},className:"c--active p--small"},m("update"))),null!==T&&nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("posSettings.serviceStation")),nP.createElement("div",{className:"flex p--regular c--light b--bottom flex--align-start"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.serviceStation")),nP.createElement("p",{className:"t--small"},T.displayName)),o.length>1&&nP.createElement("button",{onClick:function(){return A({status:"change_service_station"})},className:"c--active p--small"},m("update"))),null!==N&&nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.reformArea")),nP.createElement("p",{className:"t--small"},m("posSettings.area",{code:N.code}),",\xa0",m("metropolinX",{metropolin:f(N.metropolin)}))),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.moreDetails")),nP.createElement("p",{className:"t--small"},T.comments," ",nP.createElement("br",null),T.activity_hours))),nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("posSettings.reports")),s.hasFeature("can_view_billing_summary")&&nP.createElement(si,{to:"/app/restricted/billing-summary",className:"block p--regular c--light b--bottom b--clear"},nP.createElement("strong",null,m("billingSummary.billingSummary")),nP.createElement("p",{className:"t--small"},m("billingSummary.periodSummary"))),nP.createElement(si,{to:{pathname:"/app/restricted/transaction-history",state:{device:C}},className:"block p--regular c--light b--bottom b--clear"},nP.createElement("strong",null,m("loadingHistory")),nP.createElement("p",{className:"t--small"},m("transactionHistory.loadingsMadeOnThisDevice"))),nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("posSettings.settings")),nP.createElement("div",{className:"flex flex--align-start p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.exitMessage")),nP.createElement("div",{className:"t--small"},null===g.closeMessage?m("posSettings.notDefined"):'"'.concat(g.closeMessage,'"'))),nP.createElement("button",{onClick:function(){return A({status:"exit_message",newValue:""})},className:"c--active p--small"},m("update"))),nP.createElement("div",{className:"flex flex--align-start p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.automaticShutdown")),nP.createElement("p",{className:"t--small"},null===g.closeAfterIdleSeconds?m("posSettings.notDefined"):"".concat(g.closeAfterIdleSeconds," ").concat(m("posSettings.seconds")))),nP.createElement("button",{onClick:function(){return A({status:"close_after_idle_seconds",newValue:""})},className:"c--active p--small"},m("update"))),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("strong",{className:"col--grow"},m("posSettings.paymentPage")),nP.createElement("select",{disabled:!s.hasFeature("can_pay_with_track2")&&!s.hasFeature("can_pay_with_emv"),value:null===(n=g.preferredCreditCardDetailsType)||void 0===n?void 0:n.toString(),onChange:function(e){return F(e.currentTarget.value)},className:"c--light p--small"},nP.createElement("option",{value:ef.Track2OrEmv},m("posSettings.track2OrEmv")),nP.createElement("option",{value:ef.Details},m("posSettings.insertDetails")),nP.createElement("option",{value:ef.UserChoice},m("posSettings.userChoice")),nP.createElement("option",{value:""},m("posSettings.default")))),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("strong",{className:"col--grow"},m("posSettings.allowUploadingFilesFromFileSystem")),nP.createElement("select",{value:g.allowUploadingFilesFromFileSystem,onChange:function(e){return B(e.currentTarget.value)},className:"c--light p--small"},nP.createElement("option",{value:eb.Yes},m("posSettings.allow")),nP.createElement("option",{value:eb.No},m("posSettings.dontAllow")))),e2()&&nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("strong",{className:"col--grow"},m("posSettings.showAnnouncements")),nP.createElement("select",{value:g.showAnnouncements,onChange:function(e){return M(e.currentTarget.value)},className:"c--light p--small"},nP.createElement("option",{value:eg.Yes},m("posSettings.display")),nP.createElement("option",{value:eg.No},m("posSettings.doNotDisplay")))),nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("language")),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("strong",{className:"col--grow"},m("posSettings.preferredLanguage")),"\xa0",nP.createElement(ls,{openPickerButtonClass:"b--clear bg--brand t--light t--strong p--small",onLanguagePicked:function(e){v.updateClientPreferences({preferredLanguage:e}),S.setItem("lang",e),window.location.reload()},selectedLanguage:g.preferredLanguage})),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.languageChange")),nP.createElement("div",{className:"t--small"},m("posSettings.allowUserLanguageChange"))),"\xa0",nP.createElement("select",{className:"c--light p--small",value:g.allowLanguageChange,onChange:function(e){return q(e.currentTarget.value)}},nP.createElement("option",{value:ey.Yes},m("posSettings.allow")),nP.createElement("option",{value:ey.No},m("posSettings.dontAllow")))),nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("posSettings.printer")),h.hasPrinter?nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"flex flex--align-start p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.printerType")),nP.createElement("div",{className:"t--small"},h.getPrinterName())),nP.createElement("button",{onClick:function(){h.print(um).then(function(){E.trackEvent("print","test-print","0",1)}).catch(function(e){E.trackEvent("print","test-print",e.error,1)})},className:"c--active p--small"},m("posSettings.test"))),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.printerMode")),nP.createElement("div",{className:"t--small t--no-wrap"},m(function(e){switch(e){case"normal":return"posSettings.workingProperly";case"lack_paper":return"posSettings.missingPaper";case"not_executable":return"posSettings.notWorking";case"overheat":return"posSettings.heatsUp";default:return"posSettings.unknown"}}(R)))),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.printMode")),nP.createElement("div",{className:"t--small"},m("posSettings.printConfirmation"))),"\xa0",nP.createElement("select",{className:"c--light p--small",value:g.printMode,onChange:function(e){return V(e.currentTarget.value)}},nP.createElement("option",{value:eh.Automatic},m("posSettings.printAutomatically")),nP.createElement("option",{value:eh.OnDemand},m("posSettings.printOnDemand")),nP.createElement("option",{value:eh.Disabled},m("posSettings.printDisabled"))))):nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.printerMode")),nP.createElement("div",{className:"t--small t--no-wrap"},m("posSettings.missingPrinter"))),nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.displayConfirmationCode")),nP.createElement("div",{className:"t--small"},m("posSettings.displayQRCode"))),"\xa0",nP.createElement("select",{className:"c--light p--small",value:g.showQr,onChange:function(e){return U(e.currentTarget.value)}},nP.createElement("option",{value:ev.Yes},m("posSettings.display")),nP.createElement("option",{value:ev.ShowWithLink},m("posSettings.showWithLink")),nP.createElement("option",{value:ev.No},m("posSettings.doNotDisplay")))),nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("posSettings.software")),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.softwareVersion")),nP.createElement("div",{className:"t--small"},w.softwareVersion)),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.appVersion")),nP.createElement("div",{className:"t--small"},u.appVersion)),null!==C&&nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("posSettings.device")),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.model")),nP.createElement("div",{className:"t--small"},C.model,", ",C.version)),nP.createElement("div",{className:"p--regular c--light b--bottom"},nP.createElement("strong",null,m("posSettings.serial")),nP.createElement("div",{className:"t--small"},C.serial))),nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},m("support")),nP.createElement("div",{className:"flex flex--align-start p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},nP.createElement("strong",null,m("posSettings.sendDeviceDetails")),nP.createElement("div",{className:"t--small"},m("posSettings.guidedBySupportOnly"))),nP.createElement("button",{className:"c--danger p--small",onClick:function(){_.warn({message:"ping"}),A({status:"phone_home"})}},m("send"))),nP.createElement(si,{to:"/app/announcements",className:"block p--regular c--light b--bottom t--strong"},m("announcements.title")),null!==a&&null!==r&&nP.createElement(lr,{headerTitle:a,show:!0,onClose:x},r),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return window.history.back()}},m("back"))))},["userAccount","ownServiceStations","features","balance","reformAreas","versions","buyaPosReady","invokeDigest"])).component("paymentBalancePage",cm(function(e){var t=e.paymentProxy,n=e.onSuccess,r=rU().t,a=sa(),i=t0({status:"pristine"}),o=i[0],s=i[1];switch(t2(function(){s({status:"paying"}),t.payWithBalance().then(function(){s({status:"payment_succeeded"}),n()},function(e){s({status:"payment_failed",error:e.error})})},[a,n,t]),o.status){case"pristine":case"payment_succeeded":return nP.createElement(nP.Fragment,null);case"paying":return nP.createElement("article",{className:"t--center p--regular"},r("pleaseWait"));case"payment_failed":var c=void 0;switch(o.error){case"not_found":case"inactive":case"already_used":c=r("payment.unableCompleteCashPayment");break;case"payment_denied":c=r("payment.checkBalance");break;default:c=r("tryAgain")}return nP.createElement("article",{className:"t--center p--regular"},nP.createElement("section",{className:"p--small c--danger"},nP.createElement("h1",null,r("paymentFailed")),c),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return window.history.back()}},r("back"))));default:te(o)}},["paymentProxy","onSuccess"])).component("creditGuardHostedPage",cm(uf,["hostedPageUrl","onSuccess","onError","onCancel","onLoad","pageTitle","creditCardDetailsType"])).component("searchPage",cm(function(e){var t=e.card,n=e.userAccount,r=e.serviceStation,a=sa(),i=n6(),o=nD(),s=nR(s$),c=t0(function(){var e,a=[im,ih,iv,iS,ig,iE];n.canPurchaseFreeCertificate&&a.push(iw);var c=null!==(e=n.operators)&&void 0!==e?e:null,l=sT.createDefault(a[0],c,t).replace({ett:[]}),u=s.search(),d=null;if(Object.keys(u).length)try{d=sT.fromQueryParams(c,u,l.forProfile,l.isAnonymous)}catch(e){}if(null===d&&(d=l,null!==r&&null!==r.reform_area)){var p=uF(r,i,o);null!==p&&(d=d.replace({terms:[p]}))}return{query:d,ettChoices:a}}),l=c[0],u=c[1];return nP.createElement("article",{className:"p--small"},nP.createElement(uO,{card:t,query:l.query,onQueryChanged:function(e){var t=l.query.replace(e);s.search(t.toQueryParams()),s.replace(),u(eI(eI({},l),{query:t}))},onSelected:function(e,t){e.can_be_sold&&a.push({pathname:"/app/confirm/".concat(e.id,"/"),state:{originStation:null==t?void 0:t.origin_train_station,destinationStation:null==t?void 0:t.destination_train_station}})},ettChoices:l.ettChoices,onBack:function(){return a.push("/card")}}))},["card","userAccount","serviceStation"])).component("billingSummaryPage",cm(function(){var e,t,n,r,a,i,o,s,c,l,u,d,p,m,f=nR(az),h=sk(),v=nR(or),g=nR(sR),y=rU().t,b=function(e){return nI.isSameDay(e[0],e[1])?nO(e[0].toLocal()):"".concat(nO(e[0].toLocal())," - ").concat(nO(e[1].toLocal()))},_=sE(),E=v.hasPrinter,w=t0(function(){var e=f.getPresets(new Date),t=e[0];return{billingSummaryPresets:e,tab:e$.Preset,searchState:{status:"awaiting_query_selection"},query:new aj(t.fromDate,t.toDate,null===_?null:_.serial)}}),S=w[0],C=w[1],k=function(e){C(function(t){return eI(eI({},t),{query:e,searchState:{status:"searching"}})}),g.show(),f.getBillingSummary(e).then(function(e){C(function(t){return eI(eI({},t),{searchState:{status:"succeeded",billingSummary:e}})})},function(){return C(function(e){return eI(eI({},e),{searchState:{status:"failed"}})})}).finally(function(){return g.hide()})},$=(e=S.query,n=rU().t,r=ca(),i=(a=t0(null))[0],o=a[1],s=t4({fromDate:[r],toDate:[r],deviceNumber:[]}),l=(c=s6({fromDate:e.fromDate.toLocal(),toDate:e.toDate.toLocal(),deviceNumber:null!==(t=e.device)&&void 0!==t?t:""},s.current,function(e){var t=e.fromDate,r=e.toDate,a=e.deviceNumber,i=new aj(nI.fromLocal(t),nI.fromLocal(r),""===a?null:a),s=i.validate();if(null!==s)switch(s){case"invalid_range":o(n("billingSummaryError.invalid_range"));return;case"no_range":o(n("billingSummaryError.no_range"));return;case"too_large":o(n("billingSummaryError.too_large"));return;default:te(s)}k(i)})).values,u=c.touched,d=c.errors,p=c.setFieldValue,m=c.handleSubmit,t2(function(){var t;p("fromDate",e.fromDate.toLocal()),p("toDate",e.toDate.toLocal()),p("deviceNumber",null!==(t=e.device)&&void 0!==t?t:""),o(null)},[e,p]),{formFieldsMarkup:nP.createElement(nP.Fragment,null,nP.createElement(s7,null,nP.createElement("label",null,n("billingSummary.fromDate"),nP.createElement(cw,{value:l.fromDate,onChange:function(e){return p("fromDate",e)}})),u.fromDate&&null!==d.fromDate&&nP.createElement(s9,{message:d.fromDate})),nP.createElement(s7,null,nP.createElement("label",null,n("billingSummary.toDate"),nP.createElement(cw,{value:l.toDate,onChange:function(e){return p("toDate",e)}})),u.toDate&&null!==d.toDate&&nP.createElement(s9,{message:d.toDate})),!1,null!==i&&nP.createElement(s7,null,nP.createElement(s9,{message:i}))),handleSubmit:m}),A=$.formFieldsMarkup,x=$.handleSubmit,T=function(){C(function(e){return eI(eI({},e),{searchState:{status:"awaiting_query_selection"}})})};switch(S.searchState.status){case"awaiting_query_selection":var N=void 0;switch(S.tab){case e$.Preset:N=S.billingSummaryPresets.map(function(e){return nP.createElement("button",{key:e.name,onClick:function(){k(S.query.replace({fromDate:e.fromDate,toDate:e.toDate}))},className:"p--regular c--light b--bottom b--clear w--100"},nP.createElement("strong",null,e.name),nP.createElement("br",null),nP.createElement("span",{className:"t--small t--muted t--strong"},b([e.fromDate,e.toDate])))});break;case e$.Query:N=nP.createElement(s8,{onSubmit:x,className:"p--regular c--light"},A,nP.createElement("footer",null,nP.createElement("button",{type:"submit"},y("send"))));break;default:te(S.tab)}return nP.createElement("article",null,nP.createElement("div",{className:"p--regular"},nP.createElement("h1",null,y("billingSummary.billingSummary")),nP.createElement("p",{className:"t--small"},y("billingSummary.periodSummary"))),nP.createElement("div",{role:"navigation",className:"flex"},[[e$.Preset,y("billingSummary.quickReport")],[e$.Query,y("billingSummary.query")]].map(function(e){var t=e[0],n=e[1];return nP.createElement("button",{key:t,onClick:function(){S.tab!==t&&C(function(e){return eI(eI({},e),{tab:t})})},className:tr("col--grow","t--center","b--clear","p--small",S.tab===t?"c--light":"c--clear")},n)})),N);case"searching":return nP.createElement("article",{className:"p--regular t--center"},y("pleaseWait"),"...");case"succeeded":return nP.createElement("article",null,nP.createElement("div",{className:"p--regular flex"},nP.createElement("div",{className:"col--grow"},nP.createElement("h1",null,y("billingSummary.billingSummary")),nP.createElement("p",{className:"t--small"},y("billingSummary.forPeriod",{date:b([S.query.fromDate,S.query.toDate])}),nP.createElement("br",null),null===S.query.device?y("billingSummary.allDevices"):y("billingSummary.specificDevice",{device:S.query.device}))),E&&nP.createElement("button",{onClick:function(){return f.getBillingSummaryPrintJob(S.query).then(function(e){v.print(e).then(function(){return h.trackEvent("print","billing-summary","0",1)},function(e){return h.trackEvent("print","billing-summary",e.error,1)})},function(){return C(function(e){return eI(eI({},e),{searchState:{status:"failed"}})})})},className:"c--clear t--small t--center t--strong"},nP.createElement(cJ,{size:2}),nP.createElement("br",null),y("billingSummary.print"))),[{title:null,total:ar(S.searchState.billingSummary.total_net),charges:{count:S.searchState.billingSummary.total_charged_transactions,amount:ar(S.searchState.billingSummary.total_charged)},refunds:{count:S.searchState.billingSummary.total_refunded_transactions,amount:ar(S.searchState.billingSummary.total_refunded)}},{title:y("billingSummary.creditcard"),total:ar(S.searchState.billingSummary.creditguard_net_charged),charges:{count:S.searchState.billingSummary.creditguard_charged_transactions,amount:ar(S.searchState.billingSummary.creditguard_charged_amount)},refunds:{count:S.searchState.billingSummary.creditguard_refunded_transactions,amount:ar(S.searchState.billingSummary.creditguard_refunded_amount)}},{title:y("billingSummary.balance"),total:ar(S.searchState.billingSummary.balance_net_charged),charges:{count:S.searchState.billingSummary.balance_charged_transactions,amount:ar(S.searchState.billingSummary.balance_charged_amount)},refunds:{count:S.searchState.billingSummary.balance_refunded_transactions,amount:ar(S.searchState.billingSummary.balance_refunded_amount)}}].map(function(e){var t=e.title,n=e.total,r=e.charges,a=e.refunds,i=null!==t&&nP.createElement("div",{className:"t--small p--small t--strong c--inactive c--clear b--bottom"},t),o=nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("span",{className:"col--grow"},y("billingSummary.total"),nP.createElement("div",{className:"t--small t--muted"},y("billingSummary.chargesMinusRefunds"))),nP.createElement("span",{className:"t--medium"},n)),s=nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("div",{className:"col--grow"},y("billingSummary.charges"),nP.createElement("p",{className:"t--small t--muted"},r.count,"\xa0",y("billingSummary.actions"))),nP.createElement("span",{className:"t--medium"},r.amount)),c=nP.createElement("div",{className:"flex p--regular c--light b--bottom"},nP.createElement("div",{className:"col--grow"},y("billingSummary.refunds"),nP.createElement("p",{className:"t--small t--muted"},a.count,"\xa0",y("billingSummary.actions"))),nP.createElement("span",{className:"t--medium"},a.amount));return nP.createElement(nP.Fragment,null,i,o,s,c)}),nP.createElement("footer",null,nP.createElement("button",{onClick:T},y("back"))));case"failed":return nP.createElement("article",{className:"p--regular t--center"},nP.createElement("div",{className:"c--danger p--small"},nP.createElement("strong",null,y("fetchFailed")),nP.createElement("p",null,y("billingSummary.tryAgain"))),nP.createElement("footer",null,nP.createElement("button",{onClick:T},y("back"))));default:te(S.searchState)}})).component("profileLoadingRequestPage",cm(function(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g,y,b,_,E,w,S,C,k=e.card,$=e.userAccount,A=e.profileLoading,x=e.profileLoadingType,T=e.contractGroup,N=e.notifications,P=e.features,R=rU().t,L=sa(),D=nD(),I=t0(!1),O=I[0],F=I[1],q=t0(null),M=q[0],B=q[1],V=t0(null),U=V[0],j=V[1],H=(n=(t={card:k,profileLoading:A,profileLoadingType:x,contractGroup:T,notifications:N}).card,r=t.profileLoading,a=t.profileLoadingType,i=t.contractGroup,o=t.notifications,s=nR(sR),c=sk(),l=nD(),u=nR(i6),d=nR(nU),p=nR(oD),m=r4(),f=nR(iA),h=m.getMinimumStoredValuePrice(3e3,100),g=(v=t0(function(){var e,t=uM(r,a),n=null!==(e=function(e,t){for(var n=0,r=uM(e,t);n<r.length;n++){var a=r[n];if(!uq(a,e))return a}return null}(r,a))&&void 0!==e?e:t[t.length-1];return{profileLoading:r,contractGroup:i,currentStep:n,actionState:{status:"ready"}}}))[0],y=v[1],t2(function(){for(var e=0;e<o.length;e++){var t=o[e];if(t.type===et.EntitledProfileLoadingTypes){p.dismiss(t);break}}},[p,o]),b=function(e,t){return void 0===t&&(t=!0),y(function(e){return eI(eI({},e),{actionState:{status:"executing"}})}),s.show(),e.then(function(e){"ISSUED"!==g.profileLoading.state&&e.state!==g.profileLoading.state&&c.trackView("profile-loading."+e.state.toLowerCase());var n=g.currentStep;if(t){var r=uB(n,e,a);null!==r&&uq(n,e)&&(c.trackView("profile-loading.issued."+r.toLowerCase()),n=r)}y(function(t){return eI(eI({},t),{profileLoading:e,currentStep:n,actionState:{status:"ready"}})})},function(e){var t,n=null;throw e&&e.obj&&(n=e.obj),e&&e.error?t=e.error:((-1!==e.data.status||"error"!==e.data.xhrStatus)&&l.warn({message:"Profile loading: unknown error",data:{relevantIssue:"issue650",uid:g.profileLoading.uid,issuedState:g.currentStep,type:typeof e,message:e.message?e.message:"No message on response.",stack:e.stack?e.stack:"No stack on response."}}),t="unknown1"),y(function(e){return eI(eI({},e),{profileLoading:null!=n?n:e.profileLoading,actionState:{status:"failed",errorCode:t}})}),t}).finally(function(){return s.hide()})},_=function(e){var t=g.actionState;"failed"===g.actionState.status&&(t={status:"ready"}),c.trackView("profile-loading.issued."+e.toLowerCase()),y(function(n){return eI(eI({},n),{currentStep:e,actionState:t})})},E="executing"===g.actionState.status,w=uV(g.currentStep,g.profileLoading,a),S=null,"ISSUED"===g.profileLoading.state&&(S=function(e){if(null===e)return null;switch(e){case eA.SelectingInstitution:return"profileLoading.backButtonSelectInstitution";case eA.ApplyingQuickApproval:return"profileLoading.backButtonApplyQuickApproval";case eA.ChoosingContractGroup:return"profileLoading.backButtonChooseContractGroup";case eA.ChoosingContract:return"profileLoading.backButtonChooseContract";case eA.UploadingDocuments:return"profileLoading.backButtonUpload";case eA.SubmittingRequest:return null;default:te(e)}}(w)),{state:g,minStoredValuePrice:h,isExecuting:E,backButtonTranslationCode:S,issueTransaction:function(e){return y(function(e){return eI(eI({},e),{actionState:{status:"executing"}})}),u.issueTransaction(g.profileLoading).then(function(t){y(function(e){return eI(eI({},e),{actionState:{status:"ready"}})}),e(t)},function(e){var t;t=e.error?e.error:"unknown3",y(function(e){return eI(eI({},e),{actionState:{status:"failed",errorCode:t}})})})},goToStep:_,goToNextStep:function(){var e=uB(g.currentStep,g.profileLoading,a);if(null===e){l.warn({message:"Profile loading: tried to go to **next** step but nextStep is null",data:{currentStep:g.currentStep}});return}_(e)},goToPreviousStep:function(){var e=uV(g.currentStep,g.profileLoading,a);if(null===e){l.warn({message:"Profile loading: tried to go to **previous** step but previousStep is null",data:{currentStep:g.currentStep}});return}_(e)},selectInstitution:function(e){return b(u.setInstitution(g.profileLoading,e)).catch(function(){})},applyQuickApproval:function(e,t,r){var a;switch(g.profileLoading.quickApprovalStatus){case"irrelevant":case"unknown":case"cannot_apply":return l.error({message:"Unexepcted attempt to apply for quick approval",data:{quickApprovalStatus:g.profileLoading.quickApprovalStatus}}),Promise.reject();case"applied":return l.error({message:"Attempted to re-apply for quick approval"}),Promise.reject();case"not_applied":break;default:te(g.profileLoading.quickApprovalStatus)}return b(u.applyQuickApproval(g.profileLoading,e,t,r,null!==(a=n.id_number)&&void 0!==a?a:0,n.id_type),!1).then(function(){return f.setItem("".concat(n.serial_number.toString(),":personalId"),r)},function(){})},chooseContractGroup:function(e){return y(function(e){return eI(eI({},e),{actionState:{status:"executing"}})}),d.getDetail(e.id).then(function(e){var t=g.currentStep,n=uB(g.currentStep,g.profileLoading,a);null!==n&&(c.trackView("profile-loading.issued."+n.toLowerCase()),t=n),y(function(n){return eI(eI({},n),{contractGroup:e,currentStep:t,actionState:{status:"ready"}})})},function(e){var t;t=e.error?e.error:"unknown2",y(function(e){return eI(eI({},e),{actionState:{status:"failed",errorCode:t}})})})},chooseContract:function(e){var t=e.contract,n=e.startDate,r=e.price,a=e.counterValue;return b(u.chooseContract(g.profileLoading,t.id,n,r,a)).catch(function(){})},onDocumentUpload:function(e,t){return b(u.uploadDocument(g.profileLoading,t,e),!1).then(function(){"unknown"!==t&&f.setItem(uU(n.serial_number.toString(),t),e)}).catch(function(){})},onDocumentDelete:function(e){return b(u.deleteDocument(g.profileLoading,e.uid),!1).then(function(){return f.removeItem(uU(n.serial_number.toString(),e.tag))}).catch(function(){})},submitRequest:function(e,t){return b(u.submit(g.profileLoading,e,t),!1).catch(function(){})},getProfileLoading:function(){return b(u.get(g.profileLoading.uid),!1).catch(function(){})},abortProfileLoading:function(){return b(u.abort(g.profileLoading),!1).catch(function(){})},dismissError:function(){"failed"===g.actionState.status&&y(function(e){return eI(eI({},e),{actionState:{status:"ready"}})})}}),z=H.state,K=H.minStoredValuePrice,W=H.isExecuting,G=H.backButtonTranslationCode,Y=H.issueTransaction,Q=H.goToNextStep,J=H.goToPreviousStep,Z=H.selectInstitution,X=H.applyQuickApproval,ee=H.chooseContractGroup,en=H.chooseContract,er=H.onDocumentUpload,ea=H.onDocumentDelete,ei=H.submitRequest,eo=H.getProfileLoading,es=H.abortProfileLoading,ec=H.dismissError,el=function(){if(null===U){D.error({message:"Unexpected transactionRequest value: received null",data:{profileLoadingUid:A.uid}});return}L.push({pathname:"/app/payment-creditcard",state:U})},eu=function(){if(null===U){D.error({message:"Unexpected transactionRequest value: received null",data:{profileLoadingUid:A.uid}});return}L.push({pathname:"/app/payment-balance",state:U})},ed=function(){var e=uV(z.currentStep,z.profileLoading,x);"ISSUED"===z.profileLoading.state&&null!==e?J():z.profileLoading.canAbort()?F(!0):L.push("/scan")};t3(function(){scrollTo(0,0)},[z.currentStep]);var ep=$.hasBalance&&$.canPayWithBalance,em=P.hasFeature("can_pay_with_buya")||P.hasFeature("can_pay_with_creditguard");switch(z.profileLoading.state){case"ISSUED":switch(z.currentStep){case eA.SelectingInstitution:C=nP.createElement(uK,{isExecuting:W,onSelect:Z});break;case eA.ApplyingQuickApproval:C=nP.createElement(uW,{quickApprovalStatus:z.profileLoading.quickApprovalStatus,isExecuting:W,onNext:Q,onApplied:X});break;case eA.ChoosingContractGroup:C=nP.createElement(uG,{card:k,profileLoading:z.profileLoading,profileLoadingType:x,operators:$.operators,onSelect:ee});break;case eA.ChoosingContract:if(null===z.contractGroup)throw Error("Can't choose a contract without a contract group");C=nP.createElement("section",{className:"p--small"},nP.createElement(uu,{card:k,contractGroup:z.contractGroup,allowedOperators:$.operators,minStoredValuePrice:K,startDateChoices:"empty",onSelectContract:B,getActionMarkup:function(e){return nP.createElement("footer",null,nP.createElement("button",{disabled:!e||null===M,onClick:function(){null!==M&&en(M)}},R("select")))}}));break;case eA.UploadingDocuments:var ef=z.profileLoading.requiredDocumentTags;C=nP.createElement("section",{className:"p--small"},nP.createElement("h4",{className:"b--bottom m--bottom--small"},R("profileLoading.uploadDocument")),nP.createElement("div",{className:"t--small"},nP.createElement(lp,{documents:z.profileLoading.documents,maxUnknownDocuments:2,requiredDocumentTags:ef,onDocumentUpload:er,onDocumentDelete:ea})),nP.createElement("footer",null,nP.createElement("button",{onClick:Q,disabled:!z.profileLoading.uploadedRequiredDocuments()},R("profileLoading.uploadDone"))));break;case eA.SubmittingRequest:C=nP.createElement(uY,{profileLoading:z.profileLoading,profileLoadingType:x,contractGroup:z.contractGroup,canAutoApproveProfileLoadingWithManualEndDate:$.canAutoApproveProfileLoadingWithManualEndDate,isExecuting:W,onSubmit:ei});break;default:te(z.currentStep)}break;case"PENDING_APPROVAL":C=nP.createElement(lb,{headerText:R("profileLoading.pendingApprovalTitle"),primaryActionText:R("profileLoading.checkRequest"),onPrimaryAction:eo},nP.createElement("p",null,R("profileLoading.pendingApprovalBody")));break;case"DECLINED":C=nP.createElement(lb,{headerText:R("profileLoading.declinedTitle"),primaryActionText:R("profileLoading.iUnderstand"),onPrimaryAction:ed},""!==z.profileLoading.reason&&nP.createElement("p",{className:"bg--stable p--regular t--brand"},z.profileLoading.reason),nP.createElement("p",null,R("profileLoading.retry")));break;case"APPROVED":if(null===U){C=nP.createElement(uQ,{card:k,profileLoading:z.profileLoading,profileLoadingType:x,contractGroup:z.contractGroup,isExecuting:W,setTransactionRequest:j,issueTransaction:Y});break}if(null===z.contractGroup)throw Error("Unexpected: profile loading is approved but has no contract group");C=nP.createElement(nP.Fragment,null,nP.createElement("div",{className:"p--regular"},nP.createElement(uu,{card:k,contractGroup:z.contractGroup,allowedOperators:$.operators,minStoredValuePrice:99999999,startDateChoices:"empty",onSelectContract:B,getActionMarkup:function(e){var t=e&&"failed"!==z.actionState.status;return nP.createElement("footer",null,ep&&nP.createElement("button",{onClick:eu,disabled:!t},R("paymentMethod.cash")),em&&nP.createElement("button",{onClick:el,disabled:!t},R("paymentMethod.creditcardShort")))}})));break;case"FAILED":C=nP.createElement(lb,{headerText:R("profileLoading.failedTitle"),primaryActionText:R("profileLoading.iUnderstand"),onPrimaryAction:ed},nP.createElement("p",null,R("profileLoading.retry")));break;case"SUCCEEDED":C=nP.createElement(lb,{headerText:R("profileLoading.successTitle"),primaryActionText:R("back"),onPrimaryAction:ed},nP.createElement("p",null,R("profileLoading.successBody")));break;case"CANCELED":C=nP.createElement(lb,{headerText:R("profileLoading.canceledTitle"),primaryActionText:R("back"),onPrimaryAction:ed},nP.createElement("p",null,R("profileLoading.canceledBody")));break;case"ABORTED":C=nP.createElement(lb,{headerText:R("profileLoading.abortedTitle"),primaryActionText:R("profileLoading.iUnderstand"),onPrimaryAction:function(){return L.push("/scan")}},nP.createElement("p",null,R("profileLoading.retry")));break;case"EXPIRED":C=nP.createElement(lb,{headerText:R("profileLoading.expiredTitle"),primaryActionText:R("profileLoading.iUnderstand"),onPrimaryAction:ed},nP.createElement("p",null,R("profileLoading.retry")));break;default:te(z.profileLoading.state)}return nP.createElement("article",null,nP.createElement("div",{className:"t--small p--small flex"},null!==G&&nP.createElement("button",{onClick:J,className:"button button-clear p--clear c--clear t--strong inline-flex flex--align-center"},nP.createElement("span",{className:"mirror-svg"},nP.createElement(uH,null)),R(G)),nP.createElement("span",{className:"col--grow p--small"}),z.profileLoading.canAbort()&&nP.createElement("button",{onClick:function(){return F(!0)},className:"button button-clear p--clear c--clear t--strong"},R("profileLoading.abortAction"))),"failed"===z.actionState.status&&nP.createElement("div",{className:"flex flex--align-start bg--danger t--light",role:"alert"},nP.createElement("button",{onClick:ec,"aria-label":R("cancel"),className:"button b--clear bg--danger t--light t--large"},"\xd7"),nP.createElement("div",{className:"col--grow p--small"},nP.createElement(uj,{errorCode:z.actionState.errorCode,onExit:function(){return L.push("/scan")},onNextStep:Q}))),C,nP.createElement(lr,{show:O,headerTitle:R("profileLoading.cancelRequest"),onClose:function(){return F(!1)},hidePopupOnBackdropClick:!W},nP.createElement("p",null,R("profileLoading.abortConfirm")),nP.createElement("div",{className:"flex m--top"},nP.createElement("button",{onClick:function(){return F(!1)},disabled:W,className:"b--all c--light w--100 p--small t--center"},R("no")),"\xa0",nP.createElement("button",{onClick:function(){return es().finally(function(){return F(!1)})},disabled:W,className:"c--active t--light w--100 p--small t--center"},R("yes")))))},["card","userAccount","profileLoading","profileLoadingType","contractGroup","notifications","features"])).component("cancellationRequestCheck",cm(function(e){var t,n,r,a,i,o,s,c,l,u,d=e.card,p=e.cancellationRequestEligibility,m=rU().t,f=(n=(t={card:d,getRequestPathname:t6(function(){return"/app/cancellation-request/request"},[]),cancellationRequestEligibility:p}).card,r=t.cancellationRequestEligibility,a=t.getRequestPathname,i=sa(),o=nR(sI),c=(s=t0("ready"))[0],l=s[1],t2(function(){l("issuing"),o.issue({cardSerialNumber:n.serial_number,cardHolderId:ab(n),cardBirthDate:n.birth_date,cancellationRequestTypeId:r.type.id,contractNumber:r.cancel_contract.contract_number,contractOperator:r.cancel_contract.contract_operator,customerProfile:r.cancel_contract.customer_profile,ett:r.cancel_contract.ett,counterAssertion:r.cancel_contract.counter_assertion,predefinedContract:r.cancel_contract.predefined_contract,validityStartDate:r.cancel_contract.validity_start_date,validityEndDate:r.cancel_contract.validity_end_date}).then(function(e){l("issue_succeeded"),i.push({pathname:a(e.cancellationRequest.uid),state:{uid:e.cancellationRequest.uid}},!0)},function(e){if("active_cancellation_request_for_card"===e.error){l("issue_succeeded"),i.push({pathname:a(e.data.cancellation_request.uid),state:{uid:e.data.cancellation_request.uid}},!0);return}l("issue_failed")})},[r,o,n,a,i]),c);switch(f){case"ready":case"issuing":case"issue_succeeded":u=nP.createElement(iJ,null);break;case"issue_failed":u=nP.createElement(nP.Fragment,null,nP.createElement("p",null,m("cancellationRequest.unexpectedError")),nP.createElement("footer",null,nP.createElement(si,{to:"/scan"},m("back"))));break;default:te(f)}return nP.createElement("article",{className:"bg--light"},nP.createElement("h1",{className:"p--regular b--bottom t--strong"},m("cancellationRequest.title")),nP.createElement("div",{className:"p--regular"},u))},["card","cancellationRequestEligibility"])).component("cancellationRequestRequest",cm(function(e){var t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g,y,b,_,E,w,S,C,k=e.card,$=e.features,A=e.versions,x=e.buyaPosReady,T=rU().t,N=sa(),P=t0(!1),R=P[0],L=P[1],D=(t=e.card,n=e.cancellationRequestResponse,r=e.visuallyConfirmedDocuments,a=rU().t,i=nR(sR),o=sk(),s=nD(),c=nR(sI),l=r4(),u=nR(iA),d=l.getMinimumStoredValuePrice(3e3,100),m=(p=t0(function(){var e,t=uX(n.cancellationRequest.cancellationRequestType.ravkav_ownership_verification),r=null!==(e=function(e,t){for(var n=0,r=uX(t);n<r.length;n++){var a=r[n];if(!uZ(a,e))return a}return null}(n.cancellationRequest,n.cancellationRequest.cancellationRequestType.ravkav_ownership_verification))&&void 0!==e?e:t[t.length-1];return{cancellationRequestResponse:n,currentStep:r,currentApprovedStep:eT.SelectingPayoutMethod,actionState:{status:"ready"}}}))[0],f=p[1],h=t6(function(e,t,n){return void 0===t&&(t=!0),f(function(e){return eI(eI({},e),{actionState:{status:"executing"}})}),i.show(),e.then(function(e){var r=m.currentStep;if(t&&"ISSUED"===e.cancellationRequest.state){var a=u0(r,e.cancellationRequest.cancellationRequestType.ravkav_ownership_verification);null!==a&&uZ(r,e.cancellationRequest)&&(r=a)}return f(function(t){return eI(eI({},t),{cancellationRequestResponse:e,currentStep:r,currentApprovedStep:null!=n?n:t.currentApprovedStep,actionState:{status:"ready"}})})},function(e){var t,n=null;e&&e.obj&&(n=e.obj),e&&e.error?t=e.error:(s.warn({message:"Cancellation request: unknown error",data:{uid:m.cancellationRequestResponse.cancellationRequest.uid,issuedState:m.currentStep,type:typeof e,message:e.message?e.message:"No message on response.",stack:e.stack?e.stack:"No stack on response."}}),t="unknown1"),f(function(e){return eI(eI({},e),{cancellationRequestResponse:null!=n?n:e.cancellationRequestResponse,actionState:{status:"failed",errorCode:t}})})}).finally(function(){return i.hide()})},[m,s,i]),t2(function(){var e;switch(m.cancellationRequestResponse.cancellationRequest.state){case"ISSUED":e="cancellation-request.issued."+m.currentStep.toLowerCase();break;case"APPROVED":e="cancellation-request.approved."+m.currentApprovedStep.toLowerCase();break;case"ABORTED":case"EXPIRED":case"PENDING_APPROVAL":case"DECLINED":case"SUCCEEDED":case"FAILED":case"PENDING_PAYOUT":case"PAYOUT_FAILED":case"PAID":e="cancellation-request."+m.cancellationRequestResponse.cancellationRequest.state.toLowerCase();break;default:te(m.cancellationRequestResponse.cancellationRequest.state)}o.trackView(e)},[o,m.cancellationRequestResponse.cancellationRequest.state,m.currentApprovedStep,m.currentStep]),v=function(e){var t=m.actionState;"failed"===m.actionState.status&&(t={status:"ready"}),f(function(n){return eI(eI({},n),{currentStep:e,actionState:t})})},g=t6(function(e,t){return h(c.uploadDocument(m.cancellationRequestResponse.cancellationRequest.uid,t,e),!1)},[c,h,m.cancellationRequestResponse.cancellationRequest.uid]),y=function(){h(c.issueCancellationAction(m.cancellationRequestResponse.cancellationRequest.uid),!1,eT.ExecutingCancellation)},b=t4(!1),t2(function(){var e,r,a;b.current||(b.current=!0,(e=n.cancellationRequest.requiredRavkavOwnershipDocuments,r=t.serial_number,a=function(e){return u.getItem("".concat(r.toString(),":document:").concat(e))},e.filter(function(e){return null!==a(e)}).map(function(e){return{tag:e,file:a(e)}})).map(function(e){var t=e.tag;return g(e.file,t)}))},[n.cancellationRequest.requiredRavkavOwnershipDocuments,t.serial_number,g,u]),_="executing"===m.actionState.status,S=[[a("cancellationRequest.requestType"),m.cancellationRequestResponse.cancellationRequest.cancellationRequestType.description],[a("cancellationRequest.payoutAmount"),null!==(w=null!==(E=m.cancellationRequestResponse.cancellationRequest).approvedPayoutAmount?E.approvedPayoutAmount:null!==E.payoutAmount?E.payoutAmount:null)?ar(w):a("cancellationRequest.notYetDetermined")],[a("cancellationRequestRavkavAnonymity.title"),a(function(e){switch(e){case eS.Anonymous:return"cancellationRequestRavkavAnonymity.anonymous";case eS.SemiAnonymous:return"cancellationRequestRavkavAnonymity.semi-anonymous";case eS.Personalized:return"cancellationRequestRavkavAnonymity.personalized";default:te(e)}}(m.cancellationRequestResponse.cancellationRequest.ravkavAnonymity))]],{state:m,minStoredValuePrice:d,isExecuting:_,goToStep:v,goToNextStep:function(){var e=u0(m.currentStep,m.cancellationRequestResponse.cancellationRequest.cancellationRequestType.ravkav_ownership_verification);if(null===e){s.warn({message:"Cancellation request: tried to go to **next** step but nextStep is null",data:{currentStep:m.currentStep}});return}v(e)},goToPreviousStep:function(){var e=u1(m.currentStep,m.cancellationRequestResponse.cancellationRequest.cancellationRequestType.ravkav_ownership_verification);if(null===e){s.warn({message:"Cancellation request: tried to go to **previous** step but previousStep is null",data:{currentStep:m.currentStep}});return}v(e)},onDocumentUpload:g,onDocumentDelete:function(e){return h(c.deleteDocument(m.cancellationRequestResponse.cancellationRequest.uid,e.uid),!1)},submitRequest:function(){return h(c.submit(m.cancellationRequestResponse.cancellationRequest.uid,r),!1)},getCancellationRequest:function(){return h(c.get(m.cancellationRequestResponse.cancellationRequest.uid),!1)},abortCancellationRequest:function(){return h(c.abort(m.cancellationRequestResponse.cancellationRequest.uid),!1)},dismissError:function(){"failed"===m.actionState.status&&f(function(e){return eI(eI({},e),{actionState:{status:"ready"}})})},setRavkavOwnerPersonalId:function(e){return h(c.setRavkavOwnerPersonalId(m.cancellationRequestResponse.cancellationRequest.uid,e))},setPaidToRavkavOwner:function(){return h(c.setPaidToRavkavOwner(m.cancellationRequestResponse.cancellationRequest.uid))},setPaidTo:function(e){return h(c.setPaidTo(m.cancellationRequestResponse.cancellationRequest.uid,e))},selectPayoutMethodCash:function(){return h(c.selectPayoutMethodCash(m.cancellationRequestResponse.cancellationRequest.uid),!1).then(function(){return y()})},selectPayoutMethodCreditCard:function(e){return h(c.selectPayoutMethodCreditCard(m.cancellationRequestResponse.cancellationRequest.uid,e),!1,eT.AuthorizingPayoutMethod)},issueCancellationAction:y,goToApprovedStep:function(e){var t=m.actionState;"failed"===m.actionState.status&&(t={status:"ready"}),f(function(n){return eI(eI({},n),{currentApprovedStep:e,actionState:t})})},onSawRequestDetails:function(){for(var e=uX(m.cancellationRequestResponse.cancellationRequest.cancellationRequestType.ravkav_ownership_verification),t=null,n=0;n<e.length;n++){var r=e[n];if(!(r===ex.ShowingCancellationRequestDetails||uZ(r,m.cancellationRequestResponse.cancellationRequest))){t=r;break}}v(null!=t?t:e[e.length-1])},requestDetailsParts:S}),I=D.state,O=D.isExecuting,F=D.goToNextStep,q=D.goToPreviousStep,M=D.onDocumentUpload,B=D.onDocumentDelete,V=D.submitRequest,U=D.dismissError,j=D.setRavkavOwnerPersonalId,H=D.setPaidToRavkavOwner,z=D.setPaidTo,K=D.getCancellationRequest,W=D.selectPayoutMethodCash,G=D.selectPayoutMethodCreditCard,Y=D.abortCancellationRequest,Q=D.onSawRequestDetails,J=D.requestDetailsParts,Z=D.goToApprovedStep,X=D.issueCancellationAction,ee=function(){var e=u1(I.currentStep,I.cancellationRequestResponse.cancellationRequest.cancellationRequestType.ravkav_ownership_verification);"ISSUED"===I.cancellationRequestResponse.cancellationRequest.state&&null!==e?q():I.cancellationRequestResponse.cancellationRequest.canAbort()?L(!0):N.push("/scan")};switch(t3(function(){scrollTo(0,0)},[I.currentStep]),I.cancellationRequestResponse.cancellationRequest.state){case"ISSUED":switch(I.currentStep){case ex.ShowingCancellationRequestDetails:C=nP.createElement("div",null,nP.createElement("h4",{className:"p--regular b--bottom bg--light t--strong"},T("cancellationRequest.requestDetails")),J.map(function(e){var t=e[0],n=e[1];return nP.createElement("div",{key:t,className:"c--light p--regular b--bottom"},nP.createElement("strong",{className:"t--regular"},t),nP.createElement("br",null),n)}),nP.createElement("footer",null,nP.createElement("button",{onClick:Q},T("continue"))));break;case ex.EnteringRavkavOwnerDetails:C=nP.createElement(u5,{cancellationRequest:I.cancellationRequestResponse.cancellationRequest,card:k,onDocumentUpload:M,onDocumentDelete:B,onSetRavkavOwnerPersonalId:j});break;case ex.SelectingPaidTo:C=nP.createElement(u6,{cancellationRequest:I.cancellationRequestResponse.cancellationRequest,setPaidToRavkavOwner:H,setPaidTo:z});break;case ex.EnteringPaidToDetails:C=nP.createElement(u8,{cancellationRequest:I.cancellationRequestResponse.cancellationRequest,onDocumentUpload:M,onDocumentDelete:B,onSubmit:V});break;default:te(I.currentStep)}break;case"PENDING_APPROVAL":C=nP.createElement(lb,{headerText:T("cancellationRequest.pendingApprovalTitle"),primaryActionText:T("cancellationRequest.checkRequest"),onPrimaryAction:K},nP.createElement("p",{className:"t--pre-line"},T("cancellationRequest.pendingApprovalBodyPos")));break;case"DECLINED":C=nP.createElement(lb,{headerText:T("cancellationRequest.declinedTitle"),primaryActionText:T("cancellationRequest.iUnderstand"),onPrimaryAction:ee},null!==I.cancellationRequestResponse.cancellationRequest.reason&&""!==I.cancellationRequestResponse.cancellationRequest.reason&&nP.createElement("p",{className:"bg--stable p--regular t--brand"},I.cancellationRequestResponse.cancellationRequest.reason),nP.createElement("p",null,T("cancellationRequest.retry")));break;case"APPROVED":var et=up(A,$,x)?ec.Emv:$.hasFeature("can_pay_with_track2")?ec.Track2:ec.Details;switch(I.currentApprovedStep){case eT.SelectingPayoutMethod:C=nP.createElement(dn,{cancellationRequest:I.cancellationRequestResponse.cancellationRequest,onSelectPayoutMethodCreditCard:function(){return G(et)},onSelectPayoutMethodsCash:W});break;case eT.AuthorizingPayoutMethod:if(null===I.cancellationRequestResponse.action)throw Error("No authorize action found");if("buya-session"!==I.cancellationRequestResponse.action.type)throw Error('Unexpected authorize action type "'.concat(I.cancellationRequestResponse.action.type,'"'));C=nP.createElement(u7,{buyaSessionId:I.cancellationRequestResponse.action.buya_session_id,paymentDetailsStyle:et,onSuccess:X,onBack:function(){return Z(eT.SelectingPayoutMethod)}});break;case eT.ExecutingCancellation:if(null===I.cancellationRequestResponse.action)throw Error("No execute action found");if("rmtkts-key"!==I.cancellationRequestResponse.action.type)throw Error("Unexpected execute action type: ".concat(I.cancellationRequestResponse.action.type));C=nP.createElement("article",{className:"t--center p--regular"},nP.createElement(u4,{executeEndpoint:I.cancellationRequestResponse.action.key,onSuccess:K}));break;default:te(I.currentApprovedStep)}break;case"FAILED":C=nP.createElement(lb,{headerText:T("cancellationRequest.failedTitle"),primaryActionText:T("cancellationRequest.iUnderstand"),onPrimaryAction:ee},nP.createElement("p",null,T("cancellationRequest.retry")));break;case"SUCCEEDED":C=nP.createElement(lb,{headerText:T("cancellationRequest.successTitle"),primaryActionText:T("back"),onPrimaryAction:ee},nP.createElement("p",null,T("cancellationRequest.successBody")));break;case"ABORTED":C=nP.createElement(lb,{headerText:T("cancellationRequest.abortedTitle"),primaryActionText:T("cancellationRequest.iUnderstand"),onPrimaryAction:function(){return N.push("/scan")}},nP.createElement("p",null,T("cancellationRequest.retry")));break;case"EXPIRED":C=nP.createElement(lb,{headerText:T("cancellationRequest.expiredTitle"),primaryActionText:T("cancellationRequest.iUnderstand"),onPrimaryAction:ee},nP.createElement("p",null,T("cancellationRequest.retry")));break;case"PAID":if(null===I.cancellationRequestResponse.cancellationRequest.preferredPayoutMethod)throw Error("No preferred payout method found");if(null===I.cancellationRequestResponse.cancellationRequest.approvedPayoutAmount)throw Error("No approved payout amount");C=nP.createElement(u3,{cancellationRequestUid:I.cancellationRequestResponse.cancellationRequest.uid,amount:I.cancellationRequestResponse.cancellationRequest.approvedPayoutAmount,payoutMethod:I.cancellationRequestResponse.cancellationRequest.preferredPayoutMethod});break;case"PENDING_PAYOUT":if(null===I.cancellationRequestResponse.cancellationRequest.preferredPayoutMethod)throw Error("No preferred payout method found");switch(I.cancellationRequestResponse.cancellationRequest.preferredPayoutMethod){case e_.Cash:C=nP.createElement(lb,{headerText:T("cancellationRequest.pendingPayoutTitle"),primaryActionText:T("cancellationRequest.checkPayoutStatus"),onPrimaryAction:K},nP.createElement(nP.Fragment,null));break;case e_.CreditCard:C=nP.createElement(u9,{onGetUpdatedRequest:K,cancellationRequestUid:I.cancellationRequestResponse.cancellationRequest.uid});break;default:te(I.cancellationRequestResponse.cancellationRequest.preferredPayoutMethod)}break;case"PAYOUT_FAILED":C=nP.createElement(de,{cancellationRequest:I.cancellationRequestResponse.cancellationRequest});break;default:te(I.cancellationRequestResponse.cancellationRequest.state)}return nP.createElement("article",null,nP.createElement("div",{className:"t--small p--small flex"},nP.createElement("span",{className:"col--grow p--small"}),I.cancellationRequestResponse.cancellationRequest.canAbort()&&I.currentApprovedStep!==eT.ExecutingCancellation&&nP.createElement("button",{onClick:function(){return L(!0)},className:"button button-clear p--clear c--clear t--strong"},T("cancellationRequest.abortAction"))),"failed"===I.actionState.status&&nP.createElement("div",{className:"flex flex--align-start bg--danger t--light",role:"alert"},nP.createElement("button",{onClick:U,"aria-label":T("cancel"),className:"button b--clear bg--danger t--light t--large"},"\xd7"),nP.createElement("div",{className:"col--grow p--small"},nP.createElement(uj,{errorCode:I.actionState.errorCode,onExit:function(){return N.push("/scan")},onNextStep:F}))),C,nP.createElement(lr,{show:R,headerTitle:T("cancellationRequest.cancelRequest"),onClose:function(){return L(!1)},hidePopupOnBackdropClick:!O},nP.createElement("p",null,T("cancellationRequest.abortConfirm")),nP.createElement("div",{className:"flex m--top"},nP.createElement("button",{onClick:function(){return L(!1)},disabled:O,className:"b--all c--light w--100 p--small t--center"},T("no")),"\xa0",nP.createElement("button",{onClick:function(){return Y().finally(function(){return L(!1)})},disabled:O,className:"c--active t--light w--100 p--small t--center"},T("yes")))))},["cancellationRequestResponse","card","visuallyConfirmedDocuments","features","versions","buyaPosReady"])).component("scan",cm(function(e){var t,n=e.onScanCompleted,r=e.startAt,a=void 0===r?"pristine":r,i=e.features,o=e.versions,s=e.buyaPosReady,c=rU(),l=c.t,u=c.i18n,d=sg(),p=nR(sO),m=aB(),f=aC(),h=sk(),v=nR(ik),g=nR(oD),y=sa(),b=t0(function(){switch(a){case"pristine":return{status:"pristine"};case"connection_error":return{status:"connection_error"};default:te(a)}}),_=b[0],E=b[1],w=t0(function(){return up(o,i,s)?g.isDismissed(du)?"not_shown":(h.trackEvent("scan","emv-onboarding","shown-automatically",1),"shown"):"emv_unsupported"}),S=w[0],C=w[1],k=t4(new sK),$=t6(function(e){E({status:"ready"}),f.clear();var t=f.readCard(e.dump_url,k.current.token,!0),r=t[0],a=t[1];r.then(function(){E({status:"executing"})}),a.then(function(){h.trackEvent("scan","dump","0",1),n()},function(t){h.trackEvent("scan","dump",t?t.cause:-1,1),E({status:"error",error:t,sessionData:e}),t&&102===t.cause&&t.cause_args&&1===t.cause_args.length&&y.push("/app/uninitialized-ravkav-card/".concat(t.cause_args[0]))})},[h,f,y,n]),A=t6(function(e){p.isNfcEnabled().then(function(t){t?$(e):E({status:"disconnected",sessionData:e})},function(){E({status:"unsupported"})})},[p,$]),x=t6(function(){E({status:"pristine"}),m.getSession().then(function(e){A(e)},function(e){var t=e&&e.error?e.error:"unknown";h.trackEvent("connect",t,"error",1),E({status:"connection_error"})})},[h,A,m]);t2(function(){"pristine"===a&&x()},[x,a]),t2(function(){var e=k.current;return function(){return e.cancel()}},[]);var T=function(){return u.language},N=function(e){p.enableNfc().catch(function(){}).finally(function(){return A(e)})},P=t0(!1),R=P[0],L=P[1];switch(_.status){case"pristine":t=nP.createElement(nP.Fragment,null,l("scanState.connecting"));break;case"connection_error":t=nP.createElement(nP.Fragment,null,nP.createElement("strong",null,l("scanState.cantConnect")),nP.createElement("p",null,l("scanState.checkConnection")),nP.createElement("footer",null,nP.createElement("button",{className:"c--active",onClick:x},l("tryAgain"))));break;case"disconnected":t=nP.createElement(nP.Fragment,null,nP.createElement("strong",null,l("nfcInactive")),nP.createElement("footer",null,nP.createElement("button",{className:"c--active",onClick:function(){return N(_.sessionData)}},l("nfcActivate"))));break;case"unsupported":t=nP.createElement(nP.Fragment,null,nP.createElement("strong",null,l("nfcNotFound")),nP.createElement("p",null,l("nfcItIsRequired")));break;case"ready":var D=d.getClientPreferences().showAnnouncements===eg.Yes,I=d.getClientPreferences().allowLanguageChange===ey.Yes,O=[].filter(function(e){return void 0===e.requiredFeatures||e.requiredFeatures.every(function(e){return i.hasFeature(e)})}),F=O.length>0;t=nP.createElement("div",{className:tr({"scan--has-menu-button":F})},nP.createElement("strong",null,l("scanCard")),nP.createElement("div",{className:"scan__footer"},nP.createElement("div",{className:"flex flex--align-center flex--justify-center flex--space-around"},D&&nP.createElement(si,{to:"/app/announcements",className:"scan__announcements-link"},nP.createElement("span",{className:"badge badge--notification flex"},nP.createElement(di,null),"\xa0",l("announcements.title"),"?")),I&&nP.createElement("div",null,nP.createElement(ls,{onLanguagePicked:function(e){e!==T()&&(v.setItem("lang",e),window.location.reload())},openPickerButtonClass:"badge flex badge--brand b--clear",selectedLanguage:T()}))),"not_shown"===S&&nP.createElement("button",{onClick:function(){h.trackEvent("scan","emv-onboarding","click",1),C("shown")},className:"scan__news-notification m--top"},nP.createElement(dl,{size:2}),"\xa0\xa0",nP.createElement("div",null,nP.createElement("p",{className:"t--strong"},l("emvSlideshow.notificationTitle")),nP.createElement("span",{className:"t--small"},l("emvSlideshow.notificationBody"))))),F&&nP.createElement(nP.Fragment,null,nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return L(!0)}},l("additionalActions"))),nP.createElement(cD,{onClose:function(){return L(!1)},headerTitle:l("additionalActions"),theme:"brand",show:R},O.map(function(e){return nP.createElement(si,{key:e.title,to:e.to,className:"flex flex--align-center p--regular"},nP.createElement("div",{className:"col--grow t--align-start"},nP.createElement("h3",null,e.title),e.body),nP.createElement(cF,{size:1.5}))}))));break;case"executing":t=nP.createElement("strong",null,l("readingCardDontMove"));break;case"error":t=nP.createElement("div",{className:"p--small c--danger"},nP.createElement("strong",null,nP.createElement(lc,{response:_.error,defaultMessage:l("scanState.keepPressed")})),nP.createElement("footer",null,nP.createElement("button",{className:"c--active",onClick:function(){return $(_.sessionData)}},l("tryAgain"))));break;default:te(_)}return nP.createElement("article",{className:"t--center p--regular"},t,"shown"===S&&nP.createElement(dc,{onFinished:function(){g.dismiss(du),C("not_shown")}}))},["onScanCompleted","startAt","features","versions","buyaPosReady"])).component("localAccountCheckPage",cm(function(e){var t,n=e.status,r=e.card,a=rU().t,i=sa();switch(n.status){case"enrolled":t=nP.createElement(d$,{localAccountUid:n.local_account_uid});break;case"enrollment-in-progress":t=nP.createElement(nP.Fragment,null,nP.createElement("p",{className:"t--strong"},a("localAccount.foundShamashEnrollmentInProgress")),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return i.push("/app/local-account-enrollment/".concat(n.local_account_enrollment_uid))}},a("localAccount.completeProgress"))));break;case"missing_prerequisites":t=nP.createElement(nP.Fragment,null,nP.createElement("p",null,a("localAccount.missingPrerequisites")),nP.createElement("ul",{className:"m--top l--disc l--inside"},n.missing_prerequisites.map(function(e){switch(e){case"location":return nP.createElement("li",null,a("localAccount.missingPrerequisitesLocation"));case"personalized":return nP.createElement("li",null,a("localAccount.missingPrerequisitesPersonalized"));default:te(e)}})),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return window.history.back()}},a("back"))));break;case"not-enrolled":t=nP.createElement(nP.Fragment,null,nP.createElement("p",null,a("localAccount.notOpenedYet")),nP.createElement("footer",{className:"notification-actions"},nP.createElement("button",{onClick:function(){return i.push("/app/local-account-request/".concat(r.serial_number))}},a("localAccount.openAccount"))));break;case"unavailable":t=nP.createElement(nP.Fragment,null,nP.createElement("p",null,a("localAccount.unavailable")),nP.createElement("footer",null,nP.createElement("button",{onClick:function(){return window.history.back()}},a("back"))));break;default:te(n)}return nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--regular"},a("localAccount.remoteAccount"))),nP.createElement("div",{className:"p--regular"},t))},["status","card"])).component("localAccountRequestPage",cm(function(e){var t,n,r,a,i,o,s=e.cardSerialNumber,c=rU().t,l=sa(),u=(t=nR(sJ),r=(n=t0({status:"ready"}))[0],a=n[1],{state:r,handleSubmit:(i=cp({initialPassengerIdType:eC.NationalId,initialPreferredLanguage:ek.Hebrew,onSubmit:function(e){var n=e.passengerIdType,r=e.passengerId,i=e.preferredLanguage;a({status:"requesting"}),t.request(s,n,r,i).then(function(e){return l.push("/app/local-account-enrollment/".concat(e.local_account_enrollment.uid),!0)},function(e){return a({status:"request_failed",error:e})})}})).handleSubmit,passengerIdTypeField:i.passengerIdTypeField,passengerIdField:i.passengerIdField,preferredLanguageField:i.preferredLanguageField}),d=u.state,p=u.handleSubmit,m=u.passengerIdTypeField,f=u.passengerIdField,h=u.preferredLanguageField;switch(d.status){case"ready":o=nP.createElement(s8,{onSubmit:p},nP.createElement(s7,null,m),nP.createElement(s7,null,f),nP.createElement(s7,null,h),nP.createElement("footer",null,nP.createElement("button",{type:"submit"},c("localAccount.continue"))));break;case"requesting":o=nP.createElement(iJ,null);break;case"request_failed":o=nP.createElement("p",null,c(s2(d.error)));break;default:te(d)}return nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--regular"},c("localAccount.remoteAccountOpening"))),nP.createElement("div",{className:"p--regular"},o))},["cardSerialNumber"])).component("localAccountEnrollmentPage",cm(function(e){var t,n,r,a,i,o,s,c,l=e.localAccountEnrollmentResponse,u=rU().t,d=sa(),p=(t=rU().t,n=nR(sJ),a=(r=t0({status:"ready",localAccountEnrollmentResponse:l}))[0],i=r[1],{state:a,issue:t6(function(e){i({status:"executing"}),n.issue(e).then(function(e){i({status:"ready",localAccountEnrollmentResponse:e})},function(e){i({status:"error",error:t(s2(e))})})},[n,t]),onExecuteSuccess:t6(function(e){i({status:"executing"}),n.get(e).then(function(e){i({status:"ready",localAccountEnrollmentResponse:e})},function(e){i({status:"error",error:t(s2(e))})})},[n,t])}),m=p.state,f=p.issue,h=p.onExecuteSuccess;switch(m.status){case"ready":switch(m.localAccountEnrollmentResponse.local_account_enrollment.status){case"set_account_failed":o=u("localAccountEnrollment.problemWithOpeningLocalAccount"),s=function(){return window.history.back()},c=u("back");break;case"card_action_required":return nP.createElement(dx,{localAccountEnrollmentResponse:m.localAccountEnrollmentResponse,onIssue:f});case"executing_card_action":if(null!==m.localAccountEnrollmentResponse.action)return nP.createElement("article",{className:"t--center p--regular"},nP.createElement(dA,{executeEndpoint:m.localAccountEnrollmentResponse.action.key,onSuccess:function(){return h(m.localAccountEnrollmentResponse.local_account_enrollment.uid)}}));o=u("localAccountEnrollment.tryAgainInFewMinutes"),s=function(){return window.history.back()},c=u("back");break;case"enrolled":o=u("localAccountEnrollment.enrolledExplanation"),s=function(){return d.push("/scan")},c=u("localAccountEnrollment.continue");break;default:te(m.localAccountEnrollmentResponse.local_account_enrollment.status)}break;case"executing":return nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--regular"},u("localAccountEnrollment.title"))),nP.createElement("p",{className:"p--regular"},nP.createElement(iJ,null)));case"error":o=m.error,s=function(){return window.history.back()},c=u("back");break;default:te(m)}return nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--regular"},u("localAccountEnrollment.title"))),nP.createElement("p",{className:"p--regular"},o),nP.createElement("footer",null,nP.createElement("button",{onClick:s},c)))},["localAccountEnrollmentResponse"])).component("localAccountPage",cm(function(e){var t,n,r,a,i,o,s=e.localAccountSerialized,c=rU().t,l=(t=nR(sX),r=(n=t0({status:"waiting_for_user_action"}))[0],a=n[1],{state:r,handleSubmit:(i=cp({initialPassengerIdType:s.passenger_id_type,initialPreferredLanguage:s.preferred_language,onSubmit:function(e){var n=e.passengerIdType,r=e.passengerId,i=e.preferredLanguage;a({status:"updating"}),t.update(s.uid,n,r,i).then(function(){return a({status:"update_succeeded"})},function(e){return a({status:"update_failed",error:e})})}})).handleSubmit,passengerIdTypeField:i.passengerIdTypeField,passengerIdField:i.passengerIdField,preferredLanguageField:i.preferredLanguageField}),u=l.state,d=l.handleSubmit,p=l.passengerIdField,m=l.preferredLanguageField;switch(u.status){case"waiting_for_user_action":o=nP.createElement(s8,{onSubmit:d},nP.createElement(s7,null,p),nP.createElement(s7,null,m),nP.createElement("footer",null,nP.createElement("button",{type:"submit"},c("localAccount.update"))));break;case"update_failed":o=nP.createElement("p",null,c(s2(u.error)));break;case"updating":o=nP.createElement(iJ,null);break;case"update_succeeded":o=nP.createElement(nP.Fragment,null,nP.createElement("p",null,c("localAccount.updatedSucceeded")),nP.createElement("footer",null,nP.createElement(si,{to:"/app/scan",replace:!0},c("back"))));break;default:te(u)}return nP.createElement("article",null,nP.createElement("header",{className:"p--regular b--bottom bg--light"},nP.createElement("h1",{className:"t--regular"},c("localAccount.accountDetails"))),nP.createElement("div",{className:"p--regular"},o))},["localAccountSerialized"])).component("cancelReloadingState",cm(function(e){var t,n,r,a,i,o=e.card,s=e.transaction,c=rU().t,l=(t=aB(),r=(n=t1(dd,{status:"pristine"}))[0],a=n[1],t2(function(){a({type:"issuing_started"}),t.initiateReloadingCancellation(s.uid).then(function(e){a({type:"issuing_succeeded",reloadingCancellationUrl:e.reloading_cancellation_url,maxAttempts:e.max_attempts})},function(e){return a({type:"issuing_failed",error:e.error})})},[s.uid,t]),r);switch(l.status){case"pristine":i=nP.createElement(nP.Fragment,null);break;case"issuing":i=nP.createElement("div",{className:"t--strong"},c("cardLoader.issuing"));break;case"issue_failed":var u=function(e){var t,n;switch(e){case"charge_incomplete":case"no_payment":t="cancelLoad.chargeIncompleteTitle",n="cancelLoad.chargeIncompleteBody";break;case"past_period_limit":t="cancelLoad.pastPeriodLimitTitle",n="cancelLoad.pastPeriodLimitBody";break;case"transaction_already_completed":t="cancelLoad.transactionAlreadyCompletedTitle",n="cancelLoad.transactionAlreadyCompletedBody";break;case"transaction_conflict":t="cardLoader.conflictTitle",n="cardLoader.conflictBody";break;default:t="cardLoader.unexpectedTitle",n="cardLoader.unexpectedBody"}return{title:t,description:n}}(l.error),d=u.title,p=u.description;i=nP.createElement(nP.Fragment,null,nP.createElement("span",{className:"t--strong"},c(d)),nP.createElement("br",null),c(p));break;case"issue_succeeded":i=nP.createElement(df,{executeEndpoint:l.reloadingCancellationUrl,transactionUid:s.uid,cardSerialNumber:o.serial_number,successStatePathname:"/app/cancel-reloading-success/".concat(s.uid)});break;default:te(l)}return nP.createElement("article",{className:"t--center p--regular"},i)},["card","transaction"])).component("uninitializedRavkavCardPage",cm(function(e){var t,n,r,a,i,o,s,c,l,u,d,p=rU().t,m=r4(),f=sa(),h=(n=(t=eI(eI({},e),{onEnrollmentRequestSuccess:t6(function(e){return f.push("/app/organizations/enrollment/".concat(e.enrollment.uid))},[f])})).serialNumber,r=t.onEnrollmentRequestSuccess,a=nR(ad),i=aC(),o=nD(),c=(s=t0({status:"pristine"}))[0],l=s[1],t2(function(){l({status:"identifying"}),i.identifyUninitialized(n).then(function(e){var t=ag(e.organization_enrollment,n);if(1===t.length){var r=t[0].type;r===et.OrganizationsCanRequestEnrollment?u(t[0].data.enrollmentStatusCanRequestEnrollment,n,!0):(o.warn({message:"Unhandled single notification for uninitialized card.",data:{type:r}}),l({status:"identified",cardNotifications:t}))}else l({status:"identified",cardNotifications:t})},function(){return l({status:"identify_failed"})})},[o,i,u=t6(function(e,t,n){void 0===n&&(n=!1),l({status:"requesting_enrollment",autoSubmitted:n}),a.requestToEnroll(e.organization.uid,t,e.enrollment_type).then(function(e){l({status:"enrollment_request_succeeded"}),r(e)},function(){return l({status:"enrollment_request_failed"})})},[a,r]),n]),{state:c,requestEnrollment:u}),v=h.state,g=h.requestEnrollment;switch(v.status){case"pristine":case"identifying":case"enrollment_request_succeeded":return nP.createElement("article",{className:"t--center p--regular"},p("pleaseWait"));case"requesting_enrollment":if(v.autoSubmitted)return nP.createElement("article",{className:"t--center p--regular"},p("pleaseWait"));d=nP.createElement("div",{className:"p--regular t--brand"},nP.createElement(iJ,null));break;case"identify_failed":case"enrollment_request_failed":d=nP.createElement(nP.Fragment,null,nP.createElement(cV,{title:p("organizationsErrors.unexpected")}),nP.createElement("footer",null,nP.createElement(si,{to:"/app/scan"},p("back"))));break;case"identified":d=v.cardNotifications.length>0?nP.createElement("div",{className:"p--regular"},nP.createElement(lO,{notifications:v.cardNotifications,allowExternalLinks:!1,canDismissNotification:!1,features:m.getFeatures(),onRequestEnrollment:g})):nP.createElement(nP.Fragment,null,nP.createElement(cV,{title:p("uninitializedRavkavCard.didntFindActionsForCard")}),nP.createElement("footer",null,nP.createElement(si,{to:"/app/scan"},p("back"))));break;default:te(v)}return nP.createElement("article",null,nP.createElement("header",{className:"p--regular c--light b--bottom"},nP.createElement("div",{className:"t--strong"},p("ravKav"),"\xa0",e.serialNumber),p("cause.102Title")),d)},["serialNumber"])).component("paymentCreditCardPage",cm(function(e){var t,n=e.paymentProxy,r=e.clientPreferences,a=e.features,i=e.maxPayments,o=e.disableEmv,s=e.versions,c=e.buyaPosReady,l=e.onSuccess,u=rU().t,d=sk(),p=nR(sF),m=nR(sN).buyaBaseUrl,f=!o&&up(s,a,c),h=t0(function(){var e;if(a.hasFeature("can_pay_with_track2")||f)switch(r.preferredCreditCardDetailsType){case null:case ef.Track2OrEmv:e=f?{status:"connecting",creditCardDetailsType:ec.Emv}:{status:"connecting",creditCardDetailsType:ec.Track2};break;case ef.Details:e={status:"connecting",creditCardDetailsType:ec.Details};break;case ef.UserChoice:e={status:"choosing_credit_card_details_type"};break;default:throw Error('Unhandled credit-card details type: "'.concat(r.preferredCreditCardDetailsType,'"'))}else e={status:"connecting",creditCardDetailsType:ec.Details};return e}),v=h[0],g=h[1],y=function(e){"choosing_credit_card_details_type"===v.status&&(d.trackEvent("credit-card-details-type","choose",e,1),g({status:"connecting",creditCardDetailsType:e}))};switch(t2(function(){"connecting"===v.status&&n.payWithNewCreditCard("desktop",v.creditCardDetailsType).then(function(e){return g({status:"ready",creditCardDetailsType:v.creditCardDetailsType,response:e})},function(e){return g({status:"issue_failed",error:e.error})})},[v,n]),t2(function(){p.preconnectToOrigin(m)},[m,p]),v.status){case"choosing_credit_card_details_type":t=nP.createElement("div",{className:"p--small"},nP.createElement("h4",{className:"b--bottom m--top"},u("payment.selectOption")),nP.createElement("button",{onClick:function(){return y(ec.Track2)},className:"c--active p--regular m--top w--100"},nP.createElement("strong",null,u("payment.scanning1")),nP.createElement("br",null),nP.createElement("small",null,u("payment.scanning2"))),f&&nP.createElement("button",{onClick:function(){return y(ec.Emv)},className:"c--active p--regular m--top w--100"},nP.createElement("strong",null,u("payment.emv1")),nP.createElement("br",null),nP.createElement("small",null,u("payment.emv2"))),nP.createElement("button",{onClick:function(){return y(ec.Details)},className:"c--active p--regular m--top w--100"},nP.createElement("strong",null,u("payment.details1")),nP.createElement("br",null),nP.createElement("small",null,u("payment.details2"))));break;case"connecting":t=nP.createElement("div",{className:"p--regular t--center"},u("payment.connecting"));break;case"issue_failed":t=nP.createElement("div",{className:"p--regular t--center"},nP.createElement("div",{className:"c--danger p--small"},u("payment.actionFailed"),nP.createElement("br",null),u("payment.tryActionAgain")),nP.createElement("footer",null,nP.createElement(si,{to:"/app/card"},u("back"))));break;case"ready":t=nP.createElement(dh,{response:v.response,creditCardDetailsType:v.creditCardDetailsType,maxPayments:i,isPersonalIdRequired:!a.hasFeature("can_pay_without_personal_id"),onFinish:function(){g({status:"payment_succeeded"}),l()},onError:function(e){return g({status:"payment_failed",userError:e})},onCancel:function(){return g({status:"payment_canceled"})}});break;case"payment_canceled":t=nP.createElement("div",{className:"p--regular t--center"},nP.createElement("strong",null,u("paymentCancelled")),nP.createElement("br",null),u("notCharged"),nP.createElement("footer",null,nP.createElement(si,{to:"/app/card"},u("back"))));break;case"payment_failed":t=nP.createElement("div",{className:"p--regular t--center"},nP.createElement("div",{className:"c--danger p--small"},u("paymentFailed"),void 0!==v.userError&&nP.createElement(nP.Fragment,null,nP.createElement("hr",null),u("payment.reason"),nP.createElement("br",null),nP.createElement("strong",null,v.userError))),nP.createElement("footer",null,nP.createElement(si,{to:"/app/card"},u("back"))));break;case"payment_succeeded":t=nP.createElement(nP.Fragment,null);break;default:te(v)}return nP.createElement("article",null,t)},["paymentProxy","clientPreferences","features","maxPayments","disableEmv","versions","buyaPosReady","onSuccess"])).component("initServiceStationPage",cm(function(e){var t,n=e.posOperator,r=rU().t,a=nR(oC),i=sg(),o=r4(),s=sa(),c=nR(sR),l=nD(),u=t0(function(){var e;switch(n.identify_service_station_method){case em.AssociatedWithPosDevice:var t=n.device_service_station;e=null===t?{status:"no_service_stations"}:{status:"showing_current_service_station",currentServiceStation:t};break;case em.XRavkavServiceStation:e={status:"fetching"};break;default:te(n.identify_service_station_method)}return e}),d=u[0],p=u[1],m=n.can_create_service_stations_manually,f=function(e){switch(d.status){case"create_from_remote_id_failed":case"waiting_for_user_selection":break;case"created_from_remote_id":case"creating_from_remote_id":case"fetch_failed":case"fetching":case"no_service_stations":case"not_a_pos_operator":case"showing_current_service_station":case"suggesting":case"switching":return;default:te(d)}if(m){var t=d.serviceStations;p({status:"creating_from_remote_id",remoteId:e}),c.show(),a.createForRemoteId(e).then(function(e){return p({status:"created_from_remote_id",serviceStation:e})},function(){return p({status:"create_from_remote_id_failed",remoteId:e,serviceStations:t})}).finally(function(){return c.hide()})}};switch(t2(function(){"fetching"===d.status&&a.own(new Date).then(function(e){var t=i.getClientPreferences().serviceStationUid;switch(e.length){case 0:p({status:"no_service_stations"});break;case 1:var n=e[0];null===t||n.uid===t?dv(n,i,s):p({status:"switching",to:n});break;default:var r=void 0;null!==t&&(r=dg(t,e)),void 0!==r?dv(r,i,s):function(e,t,n){t.guess().then(function(t){if(null===t){dy(e,n);return}var r=dg(t,e);if(void 0===r){dy(e,n);return}n({status:"suggesting",suggestion:r,serviceStations:e})},function(){return dy(e,n)})}(e,a,p)}},function(e){if(e.data&&403===e.data.status){l.warn({message:"Non POS operator user tried to use ravkav-pos app."}),p({status:"not_a_pos_operator"});return}p({status:"fetch_failed"})})},[d.status,i,a,l,s]),d.status){case"fetching":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.fetchingTitle")),nP.createElement("p",{className:"m--top--small"},r("initServiceStation.fetchingBody")));break;case"not_a_pos_operator":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center init-service-station__not-a-pos-operator"},nP.createElement("div",{className:"logo"},nP.createElement(ur,null)),nP.createElement("h2",{className:"m--top"},r("initServiceStation.notAPosOperatorTitle")),nP.createElement("p",{className:"m--top"},r("initServiceStation.notAPosOperatorBody")),nP.createElement("button",{onClick:function(){return window.open("https://ravkavonline.co.il/download","_system")},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},r("initServiceStation.notAPosOperatorAction")));break;case"fetch_failed":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.fetchFailedTitle")),nP.createElement("button",{onClick:function(){return p({status:"fetching"})},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},r("initServiceStation.fetchFailedAction")));break;case"no_service_stations":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.noServiceStationsTitle")),nP.createElement("p",{className:"m--top--small"},r("initServiceStation.noServiceStationsBody")));break;case"switching":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.switchingTitle")),nP.createElement("p",{className:"m--top--small"},r("initServiceStation.switchingBody"),nP.createElement("strong",{className:"block m--top--small"},d.to.displayName)),nP.createElement("button",{onClick:function(){return dv(d.to,i,s)},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},r("initServiceStation.switchingAction")));break;case"suggesting":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.suggestingTitle")),nP.createElement("p",{className:"m--top--small"},r("initServiceStation.suggestingBody1"),nP.createElement("strong",{className:"block m--top--small"},d.suggestion.displayName),nP.createElement("div",{className:"m--top--small"},r("initServiceStation.suggestingBody2"))),nP.createElement("button",{onClick:function(){return dv(d.suggestion,i,s)},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},r("initServiceStation.suggestingAction")),nP.createElement("button",{onClick:function(){return dy(d.serviceStations,p)},className:"w--100 t--center c--active p--small t--strong m--top--small"},r("initServiceStation.suggestingSecondaryAction")));break;case"waiting_for_user_selection":var h=m||d.serviceStations.length>5,v=d.serviceStations.filter(function(e){return -1!==e.displayName.toUpperCase().indexOf(d.searchTerm.toUpperCase())});t=nP.createElement("section",{className:tr("h--100","c--inverse","p--regular","init-service-station__waiting-for-user-selection",{"init-service-station__waiting-for-user-selection--has-search":h})},nP.createElement("header",null,r("initServiceStation.selectServiceStation"),h&&nP.createElement(cC,{type:"text",className:"w--100 p--small c--light",placeholder:r("initServiceStation.typeToFilter"),autoFocus:!0,value:d.searchTerm,onChange:function(e){return p(eI(eI({},d),{searchTerm:null!=e?e:""}))}})),nP.createElement("ul",null,v.map(function(e){return nP.createElement("li",{key:e.uid,className:"m--bottom--small"},nP.createElement("button",{onClick:function(){return dv(e,i,s)},className:"p--small flex flex--rows flex--space-between c--active"},e.displayName))}),0===v.length&&nP.createElement("li",{className:"p--bottom"},r("initServiceStation.resultsNotFound")),m&&""!==d.searchTerm.trim()&&nP.createElement("li",{className:"m--bottom--small"},nP.createElement("button",{onClick:function(){return f(d.searchTerm)},className:"p--small flex flex--rows flex--space-between c--active"},r("posSettings.createServiceStation",{remoteId:'"'.concat(d.searchTerm,'"')})))));break;case"creating_from_remote_id":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.creatingFromRemoteIdTitle",{remoteId:d.remoteId})));break;case"created_from_remote_id":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.createdFromRemoteIdTitle",{remoteId:d.serviceStation.remote_id})),nP.createElement("button",{onClick:function(){return dv(d.serviceStation,i,s)},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},r("initServiceStation.continue")));break;case"create_from_remote_id_failed":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.createFromRemoteIdFailedTitle")),nP.createElement("p",{className:"m--top--small"},r("initServiceStation.createFromRemoteIdFailedBody")),nP.createElement("button",{onClick:function(){return f(d.remoteId)},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},r("tryAgain")),nP.createElement("button",{onClick:function(){return dy(d.serviceStations,p)},className:"c--clear t--muted w--100 t--center m--top"},r("back")));break;case"showing_current_service_station":t=nP.createElement("section",{className:"h--100 c--inverse p--regular flex flex--justify-center flex--align-center flex--columns t--center"},nP.createElement("h2",{className:"t--regular"},r("initServiceStation.showingCurrentServiceStationTitle",{serviceStationName:d.currentServiceStation.displayName})),nP.createElement("p",{className:"m--top--small"},r("initServiceStation.showingCurrentServiceStationBody")),nP.createElement("button",{onClick:function(){return dv(d.currentServiceStation,i,s)},className:"w--100 t--center c--success p--small t--strong t--no-wrap m--top"},r("initServiceStation.continue")));break;default:te(d)}return nP.createElement("article",null,t,!function(e){switch(e.status){case"no_service_stations":case"not_a_pos_operator":return!0;case"fetching":case"fetch_failed":case"switching":case"suggesting":case"waiting_for_user_selection":case"creating_from_remote_id":case"created_from_remote_id":case"create_from_remote_id_failed":case"showing_current_service_station":return!1;default:te(e)}}(d)?nP.createElement("button",{onClick:o1,className:"c--clear t--muted w--100 t--center m--top init-service-station__bottom-button"},r("initServiceStation.exit")):nP.createElement("button",{onClick:function(){c.show(),o.logout(!1).finally(function(){return c.hide()})},className:"c--clear t--muted w--100 t--center m--top init-service-station__bottom-button"},r("initServiceStation.changeUser")))},["posOperator"])).component("reloadPage",cm(function(e){var t,n,r,a,i,o=e.params,s=rU().t,c=(t=aB(),r=(n=t1(db,{status:"pristine"}))[0],a=n[1],t2(function(){a({type:"issuing_started"}),t.initiateReloading(o.transactionUid,o.cardPersonalId,o.startDate).then(function(e){a({type:"issuing_succeeded",executeEndpoint:e.reloading_url})},function(e){return a({type:"issuing_failed",error:e.error})})},[o,t]),r),l=sa(),u=t6(function(){l.push({pathname:"/app/reload-success/".concat(o.transactionUid),state:{checkForAdditionalActions:o.checkForAdditionalActionsOnSuccess}},!0)},[l,o.checkForAdditionalActionsOnSuccess,o.transactionUid]);switch(c.status){case"pristine":case"issuing":i=nP.createElement(nP.Fragment,null,s("reload.loadingNewRequest"),"");break;case"issue_failed":var d=void 0,p=void 0;switch(c.error){case"unavailable":d=s("cardLoader.unavailableTitle"),p=s("cardLoader.unavailableBody");break;case"inactive":d=s("reload.inactiveTitle"),p=s("tryAgain");break;case"personal_id_required":d=s("reload.personalIdRequired"),p=null;break;case"already_used":d=s("reload.actionAlreadyUsed"),p=s("tryAgain");break;case"transaction_conflict":d=s("cardLoader.conflictTitle"),p=s("cardLoader.conflictBody");break;default:d=s("actionFailed"),p=s("tryAgain")}i=nP.createElement("div",{className:"c--danger p--small"},d,nP.createElement("br",null),p,nP.createElement("footer",null,nP.createElement(si,{to:"/app/scan"},s("back"),", ",s("notCharged"))));break;case"issue_succeeded":i=nP.createElement(dC,{executeEndpoint:c.executeEndpoint,transactionUid:o.transactionUid,onSuccess:u});break;default:te(c)}return nP.createElement("article",{className:"t--center p--regular"},i)},["params"])).name,dD=function(){function e(e,t,n,r,a,i,o,s,c,l,u){var d,p=this;this.$location=e,this.$q=t,this.$state=n,this.i18n=r,this.userService=a,this.ravkavDataService=i,this.fallbackUrl=c,d=""!==s&&"/"!==s&&this.$location.url()!==s.split("?")[0]?s:this.fallbackUrl;var m=new sK;l.$on("$destroy",function(){m.cancel()}),this.nextUrl=d,this.init().catch(function(){o.onOnline.subscribe(function(){p.init().catch(function(e){})},m.token)}).finally(function(){navigator.splashscreen&&u(500).then(function(){navigator.splashscreen.hide()})})}return e.$inject=["$location","$q","$state","i18n","userService","ravkavDataService","offlineService","startedWithUrl","fallbackUrl","$scope","$timeout"],e.prototype.continue=function(){this.$state.go("init-service-station")},e.prototype.init=function(){var e=this;return this.state="INITIALIZING",this.$q.all([this.ravkavDataService.init(),this.userService.init(),this.i18n.init()]).then(function(){e.state="INITIALIZED",e.continue()},function(t){throw e.state="FAILED",t})},e}(),dI=function(){function e(e,t,n,r,a,i,o,s,c,l,u,d,p,m){var f=this;if(this.$state=e,this.$scope=t,this.$timeout=n,this.idleService=r,this.clientPreferencesService=a,this.versionService=i,this.checkResponse=o,this.i18n=l,this.LocalStorage=d,this.loadingService=p,this.$log=m,this.logoClicks=0,this.changeLanguage=function(e){e!==f.getSelectedLanguage()&&(f.LocalStorage.setItem("lang",e),window.location.reload())},this.setUpIdleWatch(),this.getPreferredLanguage()!==this.getSelectedLanguage()&&this.setUpLanguageIdleWatch(6e4),s.addEventListener("contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}),this.getClientPreferences().printMode===eh.Unset){var h=c.length>1?eh.Automatic:eh.OnDemand;this.clientPreferencesService.updateClientPreferences({printMode:h}),h===eh.OnDemand&&n(function(){u.show("app:environmental-note")},0)}if(this.getClientPreferences().showQr===ev.Unset){var v=e2()?ev.No:ev.Yes;this.clientPreferencesService.updateClientPreferences({showQr:v})}if(this.getClientPreferences().showAnnouncements===eg.Unset){var g=e2()?eg.Yes:eg.No;this.clientPreferencesService.updateClientPreferences({showAnnouncements:g})}}return e.$inject=["$state","$scope","$timeout","idleService","clientPreferencesService","versionService","checkResponse","$window","ownServiceStations","i18n","popupService","LocalStorage","loadingService","$log"],e.prototype.shouldShowAnnouncementModal=function(){return null!==this.checkResponse&&this.clientPreferencesService.getClientPreferences().showAnnouncements===eg.Yes},e.prototype.getClientPreferences=function(){return this.clientPreferencesService.getClientPreferences()},e.prototype.forceUpdate=function(){var e=this,t=window.RavKavPosPlugin;void 0!==t&&void 0!==t.clearAppCache?(this.loadingService.show(),t.clearAppCache({},function(){return window.location.reload()},function(t){e.$log.error({message:"Clearing app cache failed",data:{error:t}}),setTimeout(function(){window.location.reload()},2e3)})):window.location.reload()},e.prototype.setUpIdleWatch=function(){var e,t,n,r=this,a=this.getClientPreferences().closeAfterIdleSeconds;null!==a?(e=0,t=1e3*a,n=o1):(e=108e5,t=6e5,n=function(){r.versionService.updateRemoteResources()}),this.$timeout(e).then(function(){r.idleWatch=r.idleService.createWatch(t),r.$scope.$on("$destroy",function(){return r.idleWatch?r.idleWatch.cancel():null}),r.idleWatch.getPromise().then(n).catch(function(){})})},e.prototype.goToScan=function(){this.$state.go("scan",void 0,{reload:"scan"})},e.prototype.onLogoClick=function(){var e=this;this.logoClicks+=1,1===this.logoClicks&&(this.logoClicksTimeout=this.$timeout(function(){return e.logoClicks=0},5e3)),7===this.logoClicks&&(this.logoClicks=0,this.$timeout.cancel(this.logoClicksTimeout),this.$state.go("settings"))},e.prototype.getPreferredLanguage=function(){return this.clientPreferencesService.getClientPreferences().preferredLanguage},e.prototype.getSelectedLanguage=function(){return this.i18n.language},e.prototype.setUpLanguageIdleWatch=function(e){var t=this,n=this.idleService.createWatch(e);this.$scope.$on("$destroy",function(){n.cancel()}),n.getPromise().then(function(){t.changeLanguage(t.getPreferredLanguage())}).catch(function(){})},e}(),dO=eZ().module("ravkav.ravkav-pos.app",[dL,tg]).config(["$compileProvider","$locationProvider","$httpProvider","baseUrl","softwareName","softwareVersion","anonymousApiClientProvider","loggerConfigProvider","analyticsServiceProvider","printerServiceProvider","locationServiceProvider","websiteLinkConfigProvider","i18nProvider","cardServiceProvider","ravkavSdkServiceProvider","brand","useConsolePrinterBackend","availableLanguages",function(e,t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g){var y,b=sE();null===b||b.serial&&"0123456789ABCDEF"!==b.serial&&"unknown"!==b.serial||(b.serial=b.uuid),d.utmSource="pos",d.baseUrl=r;var _=localStorage.getItem("lang");switch(null===_&&(_="he"),y=_,void 0===e6(g,function(e){return y===e})&&(_="he"),_){case"en":document.documentElement.dir="ltr",document.documentElement.lang="en",p.language="en";break;case"ru":document.documentElement.dir="ltr",document.documentElement.lang="ru",p.language="ru";break;case"ar":document.documentElement.dir="rtl",document.documentElement.lang="ar",p.language="ar";break;default:document.documentElement.dir="rtl",document.documentElement.lang="he",p.language="he"}p.context=h,p.availableLanguages=g,u.watch=!0,u.watchTimeout=1e4,o.baseUrl=r,o.addInterceptor("locationInterceptor"),o.addInterceptor("deviceInterceptor"),o.addInterceptor("serviceStationInterceptor"),o.addInterceptor("versionInterceptor"),o.addInterceptor("i18nInterceptor"),v?l.backendFactory=eX:e3.isSupported()?l.backendFactory=e3:l.backendFactory=oe,n.useApplyAsync(!0),s.endpoint=r+"/api/client-report",s.getContext=function(e){var t=e.get("userService");return e.get("versionService").getVersions().then(function(e){var n;try{n=t.getUserAccount()}catch(e){n=null}return{app:a,mobile_app_id:e.appId,mobile_app_version:e.appVersion,version:i,device:sE(),connection:navigator.connection,user:n?n.uid:null}})},c.debugMode=!1,f.getAlertMessage=function(){return""},m.onExecuteSuccess=function(e,t,n,r){var a=e.get("analyticsService"),i=new URL(t).host;a.trackTiming("execute",n,i,r.finish_status)},m.logWarning=function(e,t){e.get("$log").warn(t)},t.hashPrefix(""),e.debugInfoEnabled(!1),e.commentDirectivesEnabled(!1),e.cssClassDirectivesEnabled(!1),e.aHrefSanitizationWhitelist(/^\s*(https?|mailto|market):/),e.preAssignBindingsEnabled(!1)}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("startup",{url:"/startup",controller:dD,controllerAs:"vm",template:'<div ng-switch=vm.state class="c--inverse h--100 flex flex--rows flex--justify-center t--center"><div ng-switch-when=INITIALIZING class="loading large"></div><button ng-switch-when=INITIALIZED ng-click=vm.continue() class="c--active p--small t--strong"> - </button><div ng-switch-when=FAILED><h1><svg-icon name=offline></svg-icon></h1><h2> </h2><button ng-click=vm.init() class="c--active p--small m--top t--strong"> </button> <button class="c--clear t--muted w--100 t--center m--top--large" exit-app></button></div></div>',resolve:{startedWithUrl:["$location",function(e){return e.url()}],fallbackUrl:["$state",function(e){return e.href("scan").replace("#","")}]}}).state("login",{url:"/login",controllerAs:"vm",controller:eZ().noop,template:"<login-page />"}).state("registration-forgot-password",{url:"/forgot-password",params:{prefilledUsername:void 0},resolve:{prefilledUsername:["$stateParams",function(e){var t;return null!==(t=e.prefilledUsername)&&void 0!==t?t:""}],goToResetPassword:["$state",function(e){return function(t){return e.go("registration-reset-password",{username:t},{location:"replace"})}}],onTimedOut:["$state",function(e){return function(){return e.go("login")}}]},controller:eZ().noop,controllerAs:"vm",template:'<forgot-password-page title="{{ ::\'registration.resetPassword\'|t }}" on-success="vm.$resolve.goToResetPassword" prefilled-username="vm.$resolve.prefilledUsername" on-timed-out="vm.$resolve.onTimedOut"></forgot-password-page>'}).state("registration-reset-password",{url:"/reset-password",controllerAs:"vm",params:{username:void 0},controller:eZ().noop,resolve:{username:["$stateParams",function(e){return e.username}]},template:'<reset-password title="{{ ::\'registration.resetPassword\'|t }}" username="vm.$resolve.username"></reset-password>'}).state("init-service-station",{url:"/init-service-station",data:{loginRequired:!0},resolve:{posOperator:["posOperatorService",function(e){return e.own()}]},controllerAs:"vm",controller:eZ().noop,template:'<init-service-station-page pos-operator="vm.$resolve.posOperator" />'}).state("app",{url:"/app",abstract:!0,controller:dI,controllerAs:"app",template:'<div class=app ng-class="{\'app--has-close-button\': app.getClientPreferences().closeMessage !== null}"><header class="app__header c--active t--center s--small flex flex--space-between"><div class=logo ng-include="\'logo.svg\'" ng-click=app.onLogoClick()></div><span class="p--small col--grow"></span> <button ng-click=app.goToScan() class="c--active c--clear t--no-wrap">{{ ::\'toScan\'|t }}<svg-icon name=mobile-nav-back-button-directional inline=true></svg-icon></button></header><main ui-view class=app__content></main><announcement-modal ng-if=app.shouldShowAnnouncementModal() check-response=app.checkResponse></announcement-modal><button ng-if="app.getClientPreferences().closeMessage !== null" class="app__close_button c--danger w--100 t--center t--strong" exit-app>{{ app.getClientPreferences().closeMessage }}</button></div><pctr-popup id=app:settings-login header-title="{{ ::\'posSettings.enterPassword\'|t }}" dont-hide-popup-on-backdrop-click=true><form name=app.settingsLoginForm><input type=password ng-model=app.settingsLoginPassword name=password dir=ltr autofocus required class="w--100 p--small c--light"><div class="flex m--top--small"><button pctr-popup-dismiss="{ form: app.settingsLoginForm }" ng-disabled=app.settingsLoginForm.$invalid class="w--100 c--active p--small t--center">{{ ::\'continue\'|t }}</button> &nbsp; <button pctr-popup-dismiss role=button class="w--100 c--light b--all p--small t--center">{{ ::\'cancel\'|t }}</button></div></form><details class="m--top--large t--small"><summary>{{ ::\'additionalActions\'|t }}</summary><button class="b--all bg--light m--top--small p--small t--center w--100" ng-click=app.forceUpdate()>{{ ::\'posSettings.forceUpdate\'|t }}</button></details></pctr-popup><pctr-popup id=app:settings-login-invalid-credentials header-title="{{ ::\'changePassword.incorrectPassword\'|t }}"><button pctr-popup-dismiss ng-disabled=app.settingsLoginForm.$invalid class="w--100 c--active p--small t--center">{{ ::\'continue\'|t }}</button></pctr-popup><pctr-popup id=app:environmental-note header-title="{{ ::\'posSettings.printOnDemand\'|t }}"><p class="m--bottom t--pre-line">{{ ::\'posSettings.environmentalNote\'|t }}</p><button pctr-popup-dismiss class="w--100 c--active p--small t--center">{{ ::\'ok\'|t }}</button></pctr-popup>',data:{loginRequired:!0},resolve:{clientPreferences:["clientPreferencesService",function(e){return e.getClientPreferences()}],ownServiceStations:["serviceStationService",function(e){return e.own(new Date)}],checkResponse:["announcementService",function(e){return e.check().catch(function(){return null})}]}}).state("announcements",{url:"/announcements",parent:"app",template:"<announcements-page></announcements-page>"}).state("restricted",{url:"/restricted",parent:"app",template:"<ui-view></ui-view>",data:{passwordRequired:!0}}).state("settings",{url:"/settings",parent:"restricted",resolve:{userAccount:["userService",function(e){return e.getUserAccount()}],features:["userService",function(e){return e.getFeatures()}],balance:["userService","balanceService",function(e,t){var n=e.getUserAccount();return n&&n.hasBalance?t.getBalance():null}],versions:["versionService",function(e){return e.getVersions()}],ownServiceStations:["serviceStationService",function(e){return e.own(new Date)}],reformAreas:["ravkavDataService",function(e){return e.ReformArea}],buyaPosReady:["buyaPosService",function(e){return e.checkReadiness(!0)}],invokeDigest:["$rootScope","$timeout",function(e,t){return function(){t(function(){e.$apply()})}}]},controller:eZ().noop,controllerAs:"vm",template:'<settings-page user-account="vm.$resolve.userAccount" own-service-stations="vm.$resolve.ownServiceStations" features="vm.$resolve.features" balance="vm.$resolve.balance" reform-areas="vm.$resolve.reformAreas" versions="vm.$resolve.versions" buya-pos-ready="vm.$resolve.buyaPosReady" invoke-digest="vm.$resolve.invokeDigest"></settings-page>'}).state("billing-summary",{url:"/billing-summary",parent:"restricted",controller:eZ().noop,controllerAs:"vm",template:"<billing-summary-page></billing-summary-page>"}).state("transaction-history",{url:"/transaction-history",parent:"restricted",data:{deviceRequired:!0},resolve:{userAccount:["userService",function(e){return e.getUserAccount()}],initialQuery:function(){var e=sE();if(null===e)throw Error("Transaction history requires a device");var t=nI.fromLocal(new Date);return aK.empty().replace({billingStatus:[eu.charged],createdByDevice:e.serial,createdSince:t.toLocal(),createdUntil:t.addDays(1).toLocal()})}},controller:eZ().noop,controllerAs:"vm",template:'<transaction-history-page user-account="vm.$resolve.userAccount" initial-query="vm.$resolve.initialQuery" show-filter="true", list-item-base-url="\'app/restricted\'"></transaction-history-page>'}).state("transaction-history-details",{url:"/transaction-history/{uid}",parent:"restricted",resolve:{transaction:["transactionService","$stateParams",function(e,t){return e.get(t.uid)}]},controller:eZ().noop,controllerAs:"vm",template:'<transaction-history-details-page transaction="vm.$resolve.transaction"></transaction-history-details-page>'}).state("rav-kav-card-transaction-history",{url:"/rav-kav-card-transaction-history/{cardSerial}",parent:"app",params:{initialQuery:null,cardSerial:null},resolve:{userAccount:["userService",function(e){return e.getUserAccount()}],cardSerial:["$stateParams",function(e){var t=e.cardSerial;if(void 0===t||""===t)throw Error("Transaction history requires a card number");return parseInt(t,10)}],initialQuery:["cardSerial",function(e){return aK.empty().replace({cardSerial:e,billingStatus:[eu.charged,eu.refunded]})}]},controller:eZ().noop,controllerAs:"vm",template:'<rav-kav-card-transaction-history-page user-account="vm.$resolve.userAccount" card-serial="vm.$resolve.cardSerial" initial-query="vm.$resolve.initialQuery"></rav-kav-card-transaction-history-page>'}).state("rav-kav-card-transaction-history-details",{url:"/transaction-history/{uid}",parent:"app",resolve:{transaction:["transactionService","$stateParams",function(e,t){return e.get(t.uid)}]},controller:eZ().noop,controllerAs:"vm",template:'<transaction-history-details-page transaction="vm.$resolve.transaction"></transaction-history-details-page>'}).state("local-account-check",{url:"/local-account-check",parent:"app",data:{cardRequired:!0},resolve:{status:["cardService","shamashIdentifyService",function(e,t){var n=e.getCard();return t.identify(n.serial_number,ab(n))}],card:["cardService",function(e){return e.getCard()}]},controllerAs:"vm",controller:eZ().noop,template:'<local-account-check-page status="vm.$resolve.status" card="vm.$resolve.card" />'}).state("local-account-request",{url:"/local-account-request/{cardSerialNumber}",parent:"app",params:{cardSerialNumber:null},resolve:{cardSerialNumber:["$stateParams",function(e){return parseInt(e.cardSerialNumber,10)}]},controllerAs:"vm",controller:eZ().noop,template:'<local-account-request-page card-serial-number="vm.$resolve.cardSerialNumber" />'}).state("local-account-enrollment",{url:"/local-account-enrollment/{localAccountEnrollmentUid}",parent:"app",params:{localAccountEnrollmentUid:null},resolve:{localAccountEnrollmentResponse:["shamashEnrollmentService","$stateParams",function(e,t){return e.get(t.localAccountEnrollmentUid)}]},controllerAs:"vm",controller:eZ().noop,template:'<local-account-enrollment-page local-account-enrollment-response="vm.$resolve.localAccountEnrollmentResponse" />'}).state("local-account",{url:"/local-account/{localAccountUid}",parent:"app",params:{localAccountUid:null},resolve:{localAccountSerialized:["shamashLocalAccountService","$stateParams",function(e,t){return e.get(t.localAccountUid)}]},controllerAs:"vm",controller:eZ().noop,template:'<local-account-page local-account-serialized="vm.$resolve.localAccountSerialized" />'}).state("scan",{url:"/scan",parent:"app",params:{nextState:"card",nextStateParams:null,startAt:"pristine"},resolve:{startAt:["$stateParams",function(e){return e.startAt}],onScanCompleted:["$state","$stateParams",function(e,t){return function(){return e.go(t.nextState,t.nextStateParams)}}],features:["userService",function(e){return e.getFeatures()}],versions:["versionService",function(e){return e.getVersions()}],buyaPosReady:["buyaPosService",function(e){return e.checkReadiness()}]},controllerAs:"vm",controller:eZ().noop,template:'<scan on-scan-completed="vm.$resolve.onScanCompleted" start-at="vm.$resolve.startAt" features="vm.$resolve.features" versions="vm.$resolve.versions" buya-pos-ready="vm.$resolve.buyaPosReady" />'}).state("uninitialized-ravkav-card",{url:"/uninitialized-ravkav-card/{serialNumber:int}",parent:"app",params:{serialNumber:null},resolve:{serialNumber:["$stateParams",function(e){return e.serialNumber}]},controllerAs:"vm",controller:["serialNumber",function(e){return{serialNumber:e}}],template:'<uninitialized-ravkav-card-page title="{{ ::\'cause.102Title\'|t }}" serial-number="vm.serialNumber" />'}).state("card",{url:"/card",parent:"app",data:{cardRequired:!0},resolve:{card:["cardService",function(e){return e.getCard()}],notifications:["cardService","userService",function(e,t){var n=t.getUserAccount();return e.getNotifications(null!==n)}],blacklist:["cardService","$timeout","$state",function(e,t,n){return e.getCard().blacklistPromise.then(function(r){if(null!==r){switch(r.status){case"not-blacklisted":case"unknown":break;case"blacklisted":return t(function(){n.go("blacklist",{cardSerial:e.getCard().serial_number})},0);default:te(r)}return null}})}]},controllerAs:"vm",controller:eZ().noop,template:'<card-page card="vm.$resolve.card" notifications="vm.$resolve.notifications" />'}).state("organizations",{parent:"app",url:"/organizations",abstract:!0,template:"<ui-view></ui-view>"}).state("organizations.enrollment",{url:"/enrollment/{uid}",cache:!1,data:{loginRequired:!0},params:{uid:null},controllerAs:"vm",resolve:{enrollment:["$stateParams","enrollmentService",function(e,t){return t.getEnrollment(e.uid)}]},controller:["enrollment",function(e){return{enrollment:e}}],template:'<enrollment-request-page title="{{ ::\'enrollmentRequest.title\'|t }}" enrollment="vm.enrollment"></enrollment-request-page>'}).state("blacklist",{url:"/blacklist/{cardSerial}",params:{cardSerial:null},parent:"app",resolve:{createCardInvalidationResponse:["blacklistService","$stateParams",function(e,t){return e.createCardInvalidation(t.cardSerial)}]},controllerAs:"vm",controller:eZ().noop,template:'<blacklist-page create-card-invalidation-response="vm.$resolve.createCardInvalidationResponse" />'}).state("blacklist-success",{url:"/blacklist-success",data:{excludeFromHistory:!0},params:{uid:null},parent:"app",resolve:{fetchApprovalPrintJob:["$stateParams","blacklistService",function(e,t){return function(){return t.getCardInvalidationPrintJob(e.uid)}}]},controllerAs:"vm",controller:eZ().noop,template:'<success-state title="{{ ::\'blacklist.title\'|t }}" page-title="\'blacklist.invalidatedSuccessfully\'|t" fetch-approval-print-job="vm.$resolve.fetchApprovalPrintJob" analytics-action="\'card-invalidation\'" />'}).state("organizations.membership",{url:"/membership/{uid}",cache:!1,data:{cardRequired:!0,loginRequired:!0},params:{uid:null,autoClaim:!1},controllerAs:"vm",controller:eZ().noop,resolve:{card:["cardService",function(e){return e.getCard()}],organizationMembership:["card","memberService","$stateParams",function(e,t,n){return t.identifyMembership(e.dump,n.uid)}],userRavkavCard:function(){return null},autoClaim:["$stateParams",function(e){return e.autoClaim}]},template:'<membership-page title="{{ ::\'membershipPage.title\'|t }}" organization-membership="vm.$resolve.organizationMembership" user-ravkav-card="vm.$resolve.userRavkavCard" card="vm.$resolve.card" auto-claim="vm.$resolve.autoClaim"></membership-page>'}).state("stored-value-conversion",{parent:"app",url:"/stored-value-conversion",abstract:!0,template:"<ui-view></ui-view>"}).state("stored-value-conversion.confirm",{url:"/confirm",data:{cardRequired:!0},params:{contractGroupId:null},resolve:{card:["cardService",function(e){return e.getCard()}],userAccount:["userService",function(e){return e.getUserAccount()}],contractGroup:["contractGroupService","$stateParams",function(e,t){return e.getDetail(t.contractGroupId)}]},controller:eZ().noop,controllerAs:"vm",template:'<stored-value-conversion-confirm title="{{ ::\'svc.title\'|t }}" card="vm.$resolve.card" user-account="vm.$resolve.userAccount" contract-group="vm.$resolve.contractGroup"></stored-value-conversion-confirm>'}).state("stored-value-conversion.convert",{url:"/convert",data:{cardRequired:!0},params:{serialNumber:null,contractId:null,fromProfiles:null,toProfile:null,totalAfterConversion:null},resolve:{card:["cardService",function(e){return e.getCard()}],storedValueConversionParams:["$stateParams",function(e){return e}]},controllerAs:"vm",controller:eZ().noop,template:'<stored-value-conversion-convert card="vm.$resolve.card" stored-value-conversion-params="vm.$resolve.storedValueConversionParams"></stored-value-conversion-convert>'}).state("stored-value-conversion.success",{url:"/success",data:{excludeFromHistory:!0},params:{uid:null},resolve:{fetchApprovalPrintJob:["$stateParams","storedValueConversionService",function(e,t){return function(){return t.getConversionApprovalPrintJob(e.uid)}}]},controllerAs:"vm",controller:eZ().noop,template:'<success-state title="{{ ::\'svc.title\'|t }}" page-title="\'svc.convertedSuccess\'|t" fetch-approval-print-job="vm.$resolve.fetchApprovalPrintJob" analytics-action="\'stored-value-conversion-approval\'"></success-state>'}).state("card-validity-extension",{parent:"app",url:"/card-validity-extension",abstract:!0,template:"<ui-view></ui-view>"}).state("card-validity-extension.check",{url:"/check",controllerAs:"vm",resolve:{card:["cardService",function(e){return e.getCard()}],cardValidityExtension:["card",function(e){return e?e.cardValidityExtensionPromise:null}]},controller:eZ().noop,template:'<article title="{{ ::\'cve.title\'|t }}"><card-validity-extension-check card="vm.$resolve.card" card-validity-extension="vm.$resolve.cardValidityExtension" /></article>'}).state("card-validity-extension.extend",{url:"/extend",controllerAs:"vm",data:{cardRequired:!0,loginRequired:!0},params:{cardSerial:null,endDate:null,newEndDate:null},resolve:{cardValidityExtensionParams:["$stateParams",function(e){return e}]},controller:["$stateParams",function(e){return{cardValidityExtensionParams:{cardSerial:e.cardSerial,endDate:nI.fromIso(e.endDate),newEndDate:nI.fromIso(e.newEndDate)}}}],template:'<extend-state title="{{ ::\'cve.title\'|t }}" card-validity-extension-params="vm.cardValidityExtensionParams"></extend-state>'}).state("card-validity-extension.success",{url:"/success",data:{excludeFromHistory:!0},params:{uid:null},resolve:{fetchApprovalPrintJob:["$stateParams","cardValidityExtensionService",function(e,t){return function(){return t.getApprovalPrintJob(e.uid)}}]},controllerAs:"vm",controller:eZ().noop,template:'<success-state title="{{ ::\'cve.title\'|t }}" page-title="\'cve.extendedSuccess\'|t" fetch-approval-print-job="vm.$resolve.fetchApprovalPrintJob" analytics-action="\'card-validity-extension-approval\'"></success-state>'}).state("search",{url:"/search?canBeSold&ett&vpt&isAnonymous&forProfile&plt&operator&metropolin&reformAreas&term&odm&{originStation:int}&{destinationStation:int}",parent:"app",data:{cardRequired:!0},resolve:{userAccount:["userService",function(e){return e.getUserAccount()}],card:["cardService",function(e){return e.getCard()}],serviceStation:["clientPreferencesService","serviceStationService",function(e,t){var n=e.getClientPreferences().serviceStationUid;return null===n?null:t.get(new Date,n).catch(function(){return null})}]},controllerAs:"vm",controller:eZ().noop,template:'<search-page card="vm.$resolve.card" user-account="vm.$resolve.userAccount" service-station="vm.$resolve.serviceStation" />'}).state("confirm",{url:"/confirm/{contractGroupId:int}/?{operator:int}&start_date&{originStation:int}&{destinationStation:int}",parent:"app",data:{cardRequired:!0},resolve:{userAccount:["userService",function(e){return e.getUserAccount()}],features:["userService",function(e){return e.getFeatures()}],card:["cardService",function(e){return e.getCard()}],contractGroup:["contractGroupService","$stateParams",function(e,t){return e.getDetail(t.contractGroupId)}],trainTariff:["contractGroup","trainService","$stateParams",function(e,t,n){var r=n.originStation,a=n.destinationStation;return void 0===r||void 0===a?null:t.findTariff(r,a,[e.customer_profile],e.ett).then(function(e){return 1!==e.length?null:e[0]})}],stateParams:["$stateParams",function(e){return e}],ownServiceStations:["serviceStationService",function(e){return e.own(new Date)}],versions:["versionService",function(e){return e.getVersions()}],buyaPosReady:["buyaPosService",function(e){return e.checkReadiness()}]},controllerAs:"vm",controller:eZ().noop,template:'<confirm user-account="vm.$resolve.userAccount" contract-group="vm.$resolve.contractGroup" state-params="vm.$resolve.stateParams" train-tariff="vm.$resolve.trainTariff" card="vm.$resolve.card" features="vm.$resolve.features" own-service-stations="vm.$resolve.ownServiceStations" versions="vm.$resolve.versions" buya-pos-ready="vm.$resolve.buyaPosReady"></confirm>'}).state("payment-creditcard",{url:"/payment-creditcard",parent:"app",data:{excludeFromHistory:!0},params:{transactionUid:null,nextState:null,nextStateParams:null,maxPayments:1,disableEmv:!1},resolve:{features:["userService",function(e){return e.getFeatures()}],clientPreferences:["clientPreferencesService",function(e){return e.getClientPreferences()}],paymentProxy:["transactionService","$stateParams",function(e,t){return e.makePaymentProxy(t.transactionUid)}],maxPayments:["$stateParams",function(e){return e.maxPayments}],disableEmv:["$stateParams",function(e){return e.disableEmv}],buyaPosReady:["buyaPosService",function(e){return e.checkReadiness()}],onSuccess:["$state","$stateParams",function(e,t){return function(){return e.go(t.nextState,t.nextStateParams)}}],versions:["versionService",function(e){return e.getVersions()}]},controllerAs:"vm",controller:eZ().noop,template:'<payment-credit-card-page features="vm.$resolve.features" client-preferences="vm.$resolve.clientPreferences" payment-proxy="vm.$resolve.paymentProxy" max-payments="vm.$resolve.maxPayments" disable-emv="vm.$resolve.disableEmv" versions="vm.$resolve.versions" buya-pos-ready="vm.$resolve.buyaPosReady" on-success="vm.$resolve.onSuccess" />'}).state("payment-balance",{url:"/payment-balance",parent:"app",data:{excludeFromHistory:!0},params:{transactionUid:null,nextState:null,nextStateParams:null},resolve:{paymentProxy:["transactionService","$stateParams",function(e,t){return e.makePaymentProxy(t.transactionUid)}],onSuccess:["$state","$stateParams",function(e,t){return function(){return e.go(t.nextState,t.nextStateParams)}}]},controllerAs:"vm",controller:eZ().noop,template:'<payment-balance-page payment-proxy="vm.$resolve.paymentProxy" on-success="vm.$resolve.onSuccess" />'}).state("reload",{url:"/reload/{transactionUid}",parent:"app",controllerAs:"vm",params:{transactionUid:null,cardPersonalId:null,startDate:null,checkForAdditionalActionsOnSuccess:!1},data:{cardRequired:!0,excludeFromHistory:!0},resolve:{params:["$stateParams",function(e){return e}]},controller:eZ().noop,template:'<reload-page title="{{ ::\'reload.title\'|t }}" params="vm.$resolve.params" />'}).state("reload-success",{url:"/reload-success/{uid}",parent:"app",data:{excludeFromHistory:!0},params:{uid:null,checkForAdditionalActions:!1},resolve:{uid:["$stateParams",function(e){return e.uid}],checkForAdditionalActions:["$stateParams",function(e){return e.checkForAdditionalActions}]},controllerAs:"vm",controller:eZ().noop,template:'<reload-success-state uid="vm.$resolve.uid" check-for-additional-actions="vm.$resolve.checkForAdditionalActions"></reload-success-state>'}).state("cancel-reloading-confirm",{url:"/cancel-reloading-confirm/{transactionUid}",parent:"app",controllerAs:"vm",controller:eZ().noop,data:{cardRequired:!0},resolve:{transaction:["transactionService","$stateParams",function(e,t){return e.get(t.transactionUid)}]},template:'<cancel-reloading-confirm transaction="vm.$resolve.transaction"></cancel-reloading-confirm>'}).state("cancel-reloading",{url:"/cancel-reloading",parent:"app",controllerAs:"vm",data:{cardRequired:!0,excludeFromHistory:!0},params:{transaction:null},resolve:{transaction:["$stateParams",function(e){return e.transaction}],card:["cardService",function(e){return e.getCard()}]},controller:eZ().noop,template:'<cancel-reloading-state transaction="vm.$resolve.transaction" card="vm.$resolve.card"></cancel-reloading-state>'}).state("cancel-reloading-success",{url:"/cancel-reloading-success/{uid}",parent:"app",data:{excludeFromHistory:!0},params:{uid:null},resolve:{fetchApprovalPrintJob:["$stateParams","transactionService",function(e,t){return function(){return t.getRefundApprovalPrintJob(e.uid)}}]},controllerAs:"vm",controller:eZ().noop,template:'<success-state title="{{ ::\'cancelLoad.title\'|t }}" page-title="\'cancelReloadSuccess.title\'|t" fetch-approval-print-job="vm.$resolve.fetchApprovalPrintJob" analytics-action="\'refund-approval\'"></success-state>'}).state("cancellation-request",{parent:"app",url:"/cancellation-request",abstract:!0,template:"<ui-view></ui-view>"}).state("cancellation-request.check",{url:"/check",params:{cancellationRequestEligibility:null},resolve:{card:["cardService",function(e){return e.getCard()}],cancellationRequestEligibility:["$stateParams",function(e){return e.cancellationRequestEligibility}]},controller:eZ().noop,controllerAs:"vm",template:'<article title="{{ ::\'cancellationRequest.title\'|t }}"><cancellation-request-check card="vm.$resolve.card" cancellation-request-eligibility="vm.$resolve.cancellationRequestEligibility" /><article>'}).state("cancellation-request.request",{url:"/request",params:{uid:null},data:{cardRequired:!0,loginRequired:!0},resolve:{cancellationRequestResponse:["cancellationRequestService","$stateParams",function(e,t){return e.get(t.uid)}],card:["cardService",function(e){return e.getCard()}],features:["userService",function(e){return e.getFeatures()}],versions:["versionService",function(e){return e.getVersions()}],buyaPosReady:["buyaPosService",function(e){return e.checkReadiness()}]},controllerAs:"vm",controller:eZ().noop,template:'<cancellation-request-request title="{{ ::\'cancellationRequest.title\'|t }}" card="vm.$resolve.card" cancellation-request-response="vm.$resolve.cancellationRequestResponse" visually-confirmed-documents="true" features="vm.$resolve.features" versions="vm.$resolve.versions" buya-pos-ready="vm.$resolve.buyaPosReady" />'}).state("profile-loading",{parent:"app",url:"/profile-loading",abstract:!0,template:"<ui-view></ui-view>"}).state("profile-loading.check",{url:"/check",resolve:{card:["cardService",function(e){return e.getCard()}],userAccount:["userService",function(e){return e.getUserAccount()}],profileLoadingData:["card",function(e){return e?e.profileLoadingPromise:null}],cardSerial:["card",function(e){return e?e.serial_number:null}],cardBirthDate:["card",function(e){return e?e.birth_date:null}]},controller:eZ().noop,controllerAs:"vm",template:'<article title="{{ ::\'profileLoading.title\'|t }}"><profile-loading-check user-account="vm.$resolve.userAccount" profile-loading-data="vm.$resolve.profileLoadingData" card-serial="vm.$resolve.cardSerial" card-birth-date="vm.$resolve.cardBirthDate"></profile-loading-check><article>'}).state("profile-loading.request",{url:"/request/{uid}",params:{uid:null},data:{cardRequired:!0,loginRequired:!0},resolve:{userAccount:["userService",function(e){return e.getUserAccount()}],features:["userService",function(e){return e.getFeatures()}],card:["cardService",function(e){return e.getCard()}],notifications:["cardService",function(e){return e.getNotifications(!0)}],profileLoading:["profileLoadingService","$stateParams",function(e,t){return e.get(t.uid)}],contractGroup:["profileLoading","contractGroupService",function(e,t){return null!==e.contractGroupId?t.getDetail(e.contractGroupId):null}],profileLoadingType:["profileLoading","profileLoadingService",function(e,t){return t.getProfileLoadingType(e.profile_loading_type)}]},controllerAs:"vm",controller:eZ().noop,template:'<profile-loading-request-page user-account="vm.$resolve.userAccount" features="vm.$resolve.features" card="vm.$resolve.card" notifications="vm.$resolve.notifications" profile-loading="vm.$resolve.profileLoading" contract-group="vm.$resolve.contractGroup" profile-loading-type="vm.$resolve.profileLoadingType" />'}).state("reservation-details",{parent:"app",url:"/reservation/{transactionUid}",controllerAs:"vm",data:{cardRequired:!0},controller:eZ().noop,resolve:{card:["cardService",function(e){return e.getCard()}],transaction:["transactionService","$stateParams",function(e,t){return e.get(t.transactionUid)}],contractGroup:["contractGroupService","transaction",function(e,t){return e.getDetail(t.contractGroupId)}],userAccount:["userService",function(e){return e.getUserAccount()}]},template:'<reservation-details card="vm.$resolve.card" transaction="vm.$resolve.transaction" contract-group="vm.$resolve.contractGroup" user-account="vm.$resolve.userAccount"></reservation-details>'}),t.otherwise("/app/scan")}]).run(["$rootScope","$state","$templateCache","$log","$exceptionHandler","offlineService","userService","searchService","cardService","analyticsService","googleAnalyticsUA","versionService","loadingService","clientPreferencesService","softwareVersion","popupService","buyaPosService","i18n",function(e,t,n,r,a,i,o,s,c,l,u,d,p,m,f,h,v,g){(y=window).addEventListener("error",function(e){var t=e.error;if(void 0===t||!(t instanceof Error)){var n=function(e,t){var n={};for(var r in e){var a=e[r];"function"!=typeof a&&a!==t&&(n[r]=a)}return n}(e,y);(t=Error(void 0!==n.message&&"Script error."===n.message?"Script error.":"Global error event.")).data=n}a(t)}),y.addEventListener("unhandledrejection",function(e){a(e.reason)});var y,b,_=e.$on("$locationChangeStart",function(e){e.preventDefault(),_(),t.go("startup")});switch(g.language){case"en":b=l9;break;case"ru":b=un;break;case"ar":b=ut;break;default:b=ue}n.put("logo.svg",b),n.put("printer.svg",cQ),n.put("offline.svg",'<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><line x1=1 y1=1 x2=23 y2=23></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1=12 y1=20 x2=12 y2=20></line></svg>'),n.put("mobile-nav-back-button-directional.svg",'<svg viewBox="0 0 24 24" fill=currentColor icon-direction=rtl><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>'),n.put("close.svg",iY),n.put("train.svg",uh),n.put("menu-dots.svg",ug),n.put("icon-train.svg",'<svg viewBox="0 0 48 48"><path fill=#DEDEDE d="M41.9,11.9c-5,12.4-17,20.5-30.4,20.4c-2.5,0-5-0.3-7.5-0.9V14.7c0-1.6,1.3-2.9,2.9-2.9h34.2    C41.3,11.8,41.6,11.8,41.9,11.9z"/><path fill=#D0CED4 d="M44,14.6v18.7c0,0.1,0,0.2,0,0.3c-0.1,0.5-0.2,0.9-0.5,1.3c-0.3,0.5-0.8,0.9-1.3,1.1    c-0.3,0.1-0.6,0.2-0.8,0.2H6.7H6.4l-0.3-0.1c-0.7-0.2-1.2-0.6-1.6-1.2c-0.3-0.4-0.4-0.9-0.5-1.3c0-0.1,0-0.2,0-0.3v-2    c2.5,0.6,5,0.9,7.5,0.8c13.3,0.1,25.4-7.9,30.4-20.3c0.2,0,0.3,0.1,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.2l0,0c0.1,0.1,0.2,0.2,0.3,0.2    c0.2,0.2,0.4,0.4,0.5,0.6c0.1,0.1,0.2,0.3,0.2,0.4c0,0.1,0.1,0.2,0.1,0.3C43.9,14.1,44,14.3,44,14.6L44,14.6z"/><rect x=5.1 y=15.5 fill=#FFFFFF width=37.8 height=4.4 /><path fill=currentColor d="M11,36.6c0.5,0,1,0.4,1,1c0,0.5-0.4,1-1,1c-0.5,0-1-0.4-1-1C10.1,37,10.5,36.6,11,36.6 M10.1,31.6  c0-0.8,0.6-1.5,1.5-1.5h6.9c0.8,0,1.5,0.6,1.5,1.5v2c0,0.8-0.6,1.5-1.5,1.5h-6.9c-0.8,0-1.5-0.7-1.5-1.5V31.6z M19,38.6  c-0.5,0-1-0.4-1-1c0-0.5,0.4-1,1-1c0.5,0,1,0.4,1,1C19.9,38.1,19.5,38.6,19,38.6 M10.6,39.5h0.8l-2,3.5h2.3l2-3.5h2.6l2,3.5h2.3  l-2-3.5h0.9c0.8,0,1.5-0.6,1.5-1.5v-9.9c0-1-0.5-2-5.9-2s-5.9,1-5.9,2v9.9C9.1,38.9,9.7,39.5,10.6,39.5"/></svg>'),n.put("megaphone.svg",da),n.put("globe.svg",la),n.put("history.svg",ux),n.put("icon-ravkav-with-hand.svg",dw),l.setUILanguage(g.language),i.register(),l.startTrackerWithId(u),d.getVersions().then(function(e){l.setAppInfo("ravkav-pos",e.appId,e.appVersion);var t,n=e1();switch(n){case tl.Wpos3:t="WPOS-3";break;case tl.WposTab:t="WPOS-TAB";break;case tl.Unknown:t="NOT-WPOS";break;default:te(n)}l.setDeviceCapability(t),l.setSoftwareVersion(f)}),v.checkReadiness().then(function(){},function(){});var E=null;e.$on("$stateChangeStart",function(e,n,r,a,i,s){var l,u=!!(n.data&&n.data.deviceRequired),d=sE();if(u&&null===d||n.data&&n.data.cardRequired&&!c.getCard()){e.preventDefault(),t.go("scan",void 0,s);return}var m=!!(n.data&&n.data.loginRequired);try{l=o.getUserAccount()}catch(n){e.preventDefault(),t.go("startup",void 0,s);return}if(m&&null===l){e.preventDefault(),t.go("login",void 0,s);return}var f=!!(a&&a.data&&a.data.passwordRequired);n.data&&n.data.passwordRequired&&!f&&(n.resolve||(n.resolve={}),n.resolve.passwordRequired=function(){return p.hide(),h.show("app:settings-login").then(function(e){var n=function(e,n){E=null,null===e?t.go("scan",void 0):t.go(e.name,null!=n?n:void 0)};if(null===e)return n(a,i);var r=e.form.password.$modelValue;return e.form.password.$setViewValue(""),o.checkPassword(r).then(function(){return E=e4(),p.show()}).catch(function(){return h.show("app:settings-login-invalid-credentials").finally(function(){return n(a,i)})})})}),a&&a.data&&a.data.excludeFromHistory&&"replace"!==s.location&&(e.preventDefault(),t.go(n,r,eI(eI({},s),{location:"replace"}))),n.resolve&&p.show(),E=e4()});var w=document.querySelector("body"),S=document.querySelector("html");e.$on("$stateChangeSuccess",function(e,t){w.scrollTop=0,S.scrollTop=0,p.hide(),t.name&&(l.trackView(t.name),null!==E&&(l.trackTiming("state-transition",E(),"success",t.name),E=null))}),e.$on("$stateChangeError",function(e,n,a,i,o,s){null!==E&&(l.trackTiming("state-transition",E(),"error",n.name),E=null),p.hide(),r.error({name:e.name,error:s&&s.name,message:s&&s.message||"stateChangeError",stack:s&&s.stack,data:s&&s.data,fromState:i.name,fromParams:o,toState:n.name,toParams:a}),t.go("scan",{startAt:"scan"!==i.name?void 0:"connection_error"})});var C=function(){l.setUserId(null),c.clear(),s.clear()},k=function(e){var t,n=sE(),r=null!==(t=null==n?void 0:n.serial)&&void 0!==t?t:"unknown";l.setUserId("".concat(e.uid,"-").concat(r))};o.onServiceInitialized.subscribe(function(){var e=o.getUserAccount();null===e?C():k(e)},null),o.onUserLoggedIn.subscribe(function(){k(o.getUserAccount())},null),o.onUserLoggedOut.subscribe(function(){C(),m.updateClientPreferences({serviceStationUid:void 0}),t.go("login")},null)}]);function dF(){var e=document.createElement("div");e.setAttribute("ng-csp",""),e.setAttribute("ui-view",""),document.body.appendChild(e),eZ().bootstrap(e,[dO.name],{strictDi:!0})}"cordova"in window?document.addEventListener("deviceready",dF):eZ().element(document).ready(dF)}()}();